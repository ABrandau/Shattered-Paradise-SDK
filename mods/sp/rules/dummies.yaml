## Used for dummy that is only for trigger the Queue Update
QueueUpdaterDummy:
	AlwaysVisible:
	ProvidesPrerequisite:
	KillsSelf:
		RemoveInstead: true

## Used for no base game mode
hack.no_bases:
	Interactable:
	AlwaysVisible:
	ProvidesPrerequisite@upgradename:

## Used for flying dummy ignore terrain type while moving
^DUMMYAIRCRAFT:
	Inherits: ^SpriteActor
	RevealsShroud:
		Range: 3c0
		Type: CenterPosition
	Aircraft:
		TurnSpeed: 24
		Speed: 0
		CanHover: true
		IdealSeparation: 300
		TakeOffOnResupply: true
		VTOL: true
		CanSlide: true
		TakeUpCellWhenLand: false
		LandableTerrainTypes: Clear, Road, Bridge, Rail, Impassable, Water, DirtRoad, Rough, Cliff, Tiberium, BlueTiberium, Veins, Tree, Rock, Subterranean, Jumpjet, TiberiumGlacier, CivilianBuilding, CivilianProp
	HiddenUnderFog:
		Type: CenterPosition
	Interactable:
	RenderSprites:
		Image: dot
	BodyOrientation:
		QuantizedFacings: 32
	OwnerLostAction:
		Action: Dispose

## Used for dummy that on the ground and static
## No image and sight, pls add those function yourself if want new functions
^GROUNDDUMMY:
	HiddenUnderFog:
		Type: CenterPosition
	Immobile:
		OccupiesSpace: false
	BodyOrientation:
		QuantizedFacings: 1
	RenderDebugState:
	Interactable:
	OwnerLostAction:
		Action: Dispose

## Dummy usage:
## 1. Add 'KillsSelf' for timer control, better with '@TimedLife''
## 2. HACK&Note: if you want to trigger the death effect traits, actor must have Health.
## Otherwise 'KillsSelf' only disposals the actor without triggering death effect traits.
## 3. You can use '^Unkillable' to avoid other damage kills the actor.

^WithDeathEffects:
	Inherits: ^1x1Shape
	Health:
		HP: 1
		NotifyAppliedDamage: false

########################################################
# Dummy Instances
#######################################################
VISIONACTOR:
	Inherits: ^DUMMYAIRCRAFT
	RevealsShroud:
		Range: 3c0
	KillsSelf@TimedLife:
		Delay: 40

RADARSCANDUMMY:
	Inherits: ^DUMMYAIRCRAFT
	Aircraft:
		CruiseAltitude: 1
	RevealsShroud:
		Range: 8c0
	DetectCloaked:
		Range: 8c0
	WithSpriteBody:
		Sequence: idle
	RenderSprites:
		Image: radarscananim
		Palette: apgrey
	KillsSelf@TimedLife:
		Delay: 250

NANOBURSTDUMMY:
	Inherits: ^DUMMYAIRCRAFT
	Inherits@2: ^WithDeathEffects
	Aircraft:
		CruiseAltitude: 1
	GrantConditionAfterDelay@CollectCorpse:
		Delay: 474
		Condition: reanimate
	SpawnActorsOnCorpseInRadius@nanomachinereanimate:
		Range: 7c0
		ActorType: nanos
		PauseOnCondition: !reanimate
	KillsSelf@TimedLife:
		Delay: 1
		RequiresCondition: reanimate
	RenderSprites:
		Image: nanomachineswarmdummy
		Palette: apgrey
	RevealsShroud:
		Type: CenterPosition
		Range: 8c0
	ProximityExternalCondition@1:
		RequiresCondition: !spreading
		Condition: nanomachinerecovery
		Range: 7c0
		EnableSound: nanomachine0000.wav, nanomachine0001.wav, nanomachine0002.wav, nanomachine0003.wav, nanomachine0004.wav

	WithMakeAnimation:
		Condition: spreading
	WithSpriteBody:
		Sequence: stand
	WithDeathAnimation:
		DeathSequencePalette: apgrey
		DeathPaletteIsPlayerPalette: false
		UseDeathTypeSuffix: false
		FallbackSequence: die

VEINHOLESPAWNERDUMMY:
	Inherits: ^GROUNDDUMMY
	Inherits@2: ^WithDeathEffects
	Mobile: ## Hack: to make SpawnActorWarhead spawn it on bare ground
		Speed: 1
		Locomotor: Infantry
	-Immobile:
	KillsSelf@TimedLife:
		Delay: 0
	SpawnActorOnDeath@cabalcrate:
		Actor: MINIVEIN
		Probability: 100
		OwnerType: InternalName
		InternalOwner: Creeps
		RequiresLobbyCreeps: true
		SkipMakeAnimations: false
	SpawnActorOnDeath@camera:
		Actor: FOGCAMERADUMMY
		Probability: 100
		OwnerType: Victim

FOGCAMERADUMMY:
	Inherits: ^GROUNDDUMMY
	ExternalCondition@sustaincamera:
		Condition: sustaincamera
	KillsSelf@TimedLife:
		Delay: 1
		RequiresCondition: !sustaincamera
	RevealsShroud:
		Type: CenterPosition
		MaxHeightDelta: 3
		Range: 4c0
	SpawnSparks@Deployed:
		Interval: 800
		SparkWeapon: VeinholeEggElevator
		Amount: 1

