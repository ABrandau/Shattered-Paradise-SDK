#### This file defines units can be only built by AI player and campaign.
#### Note: now it is included in regular game runtime, considering this will make debug campaign easier,\.
#### Therefore, actors here can also be used in regular game


######## AI-only unit ##################
### 1. will use a diffirent set of logic compared to orignal units used in orignal game
### 2. are pre-loaded transprot units with unload logic.

APC_BOT:
	Inherits: APC
	Selectable:
		Class: apc
	RenderSprites:
		Image: apc
	-Buildable:
	Cargo:
		InitialUnits: gdie1, gdie1, medic, gdie1, grenadier
	AutoTarget:
		ScanRadius: 7
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: apc

RIFLEBGGY:
	Inherits: BGGY
	Selectable:
		Class: bggy
	EditorOnlyTooltip:
		Name: buggy-e1-name
	RenderSprites:
		Image: bggy
	-Buildable:
	Cargo:
		InitialUnits: altnode1
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: bggy

ROCKETBGGY:
	Inherits: RIFLEBGGY
	EditorOnlyTooltip:
		Name: buggy-rocket-name
	Cargo:
		InitialUnits: crusader
	ActorStatValues:
		TooltipActor: bggy

FLAMEBGGY:
	Inherits: RIFLEBGGY
	Cargo:
		InitialUnits: templar
	EditorOnlyTooltip:
		Name: buggy-flame-name
	ActorStatValues:
		TooltipActor: bggy

LAZORBGGY:
	Inherits: RIFLEBGGY
	Cargo:
		InitialUnits: nconf
	EditorOnlyTooltip:
		Name: buggy-laser-name
	ActorStatValues:
		TooltipActor: bggy

STRUCKFULL:
	Inherits: STRUCK
	Selectable:
		Class: struck
	-Buildable:
	Cargo:
		InitialUnits: marauder, marauder, marauder, mutfiend, mutfiend
	RenderSprites:
		Image: struck
	EditorOnlyTooltip:
		Name: struckfull-name
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: struck

STRUCKFULL_T3:
	Inherits: STRUCKFULL
	Cargo:
		InitialUnits: psyker, seer, seer, seer, seer
	ProvidesPrerequisite@AIbuildinglimit:
		Prerequisite: psyker
	ActorStatValues:
		TooltipActor: struck

^BotCarryall:
	ProvidesPrerequisite@AIbuildinglimit:
		RequiresCondition: loaded
		Prerequisite: bot-transport-squad
	KillsSelf@DisappearsIfUnload:
		Delay: 500
		RequiresCondition: AImicroManage && !loaded
		RemoveInstead: true

NUKECARRYALL_BOT:
	Inherits: trnsport.mut
	Inherits@1: ^BotCarryall
	Buildable:
		Description: nukecarryall-desc
		Prerequisites: ~muair, muhall, ~techlevel.5, ~AIOnly, ~!bot-transport-squad
	-ProductionCostMultiplier@AI:
	ProductionCostMultiplier@Preload:
		Multiplier: 600
	ProductionTimeMultiplier@Preload:
		Multiplier: 600
	AutoCarryall:
		InitialActor: hvrtruk3
		CarryCondition: loaded
		AutoCarryCondition: loaded ##Disable Auto Action
	-IssueOrderToBot@AI:
	IssueOrderToBot@AI:
		RequiresCondition: loaded
		OrderName: Unload
		OrderChance: 100
		OrderInterval: 40
	-RevealOnFire:

TVDDCARRYALL_BOT:
	Inherits: trnsport.mut
	Inherits@1: ^BotCarryall
	Buildable:
		Description: tvddcarryall-desc
		Prerequisites: ~muair, muhall, ~techlevel.5, ~AIOnly, ~!bot-transport-squad
	-ProductionCostMultiplier@AI:
	ProductionCostMultiplier@Preload:
		Multiplier: 600
	ProductionTimeMultiplier@Preload:
		Multiplier: 600
	AutoCarryall:
		InitialActor: tvddevice
		CarryCondition: loaded
		AutoCarryCondition: loaded ##Disable Auto Action
	-IssueOrderToBot@AI:
	IssueOrderToBot@AI:
		RequiresCondition: loaded
		OrderName: Unload
		OrderChance: 100
		OrderInterval: 40
	-RevealOnFire:

SONICARRYALL_BOT:
	Inherits: TRNSPORT
	Inherits@1: ^BotCarryall
	Buildable:
		Description: sonicarryall-desc
		Prerequisites: ~gahpad, gatech, ~techlevel.5, ~AIOnly, ~!bot-transport-squad
	-ProductionCostMultiplier@AI:
	ProductionCostMultiplier@Preload:
		Multiplier: 200
	ProductionTimeMultiplier@Preload:
		Multiplier: 200
	AutoCarryall:
		CarryCondition: loaded
		AutoCarryCondition: loaded ##Disable Auto Action
		InitialActor: sonic
	-IssueOrderToBot@AI:
	IssueOrderToBot@AI:
		RequiresCondition: loaded
		OrderName: Unload
		OrderChance: 100
		OrderInterval: 40
	-RevealOnFire:

APCARRYALL_BOT:
	Inherits: TRNSPORT
	Inherits@1: ^BotCarryall
	Buildable:
		Description: apcarryall-desc
		Prerequisites: ~gahpad, gapile, ~techlevel.2, ~AIOnly, ~!bot-transport-squad
	-ProductionCostMultiplier@AI:
	ProductionCostMultiplier@Preload:
		Multiplier: 180
	ProductionTimeMultiplier@Preload:
		Multiplier: 180
	AutoCarryall:
		CarryCondition: loaded
		AutoCarryCondition: loaded ##Disable Auto Action
		InitialActor: apc_bot
	-IssueOrderToBot@AI:
	IssueOrderToBot@AI:
		RequiresCondition: loaded
		OrderName: Unload
		OrderChance: 100
		OrderInterval: 40
	-RevealOnFire:

MUBUNKRFULL:
	Inherits: MUBUNKR
	-Buildable:
	IsometricSelectable:
		Class: mubunkr
	ProductionCostMultiplier:
		Multiplier: 180
	RenderSprites:
		Image: mubunkr
	EditorOnlyTooltip:
		Name: mubunkrfull-desc
	Cargo:
		InitialUnits: marauder, marauder, marauder, marauder, marauder
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: mubunkr

######## Campaign unit ##################
### Used in campaign. 
#### AI can build some of them to make the game more challenging
GHOST:
	Inherits: ^MutantSoldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveWithBerserkable
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@VISION: ^8CellVision
	Valued:
		Cost: 2000
	Tooltip:
		Name: ghost-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Infantry.Shared, Infantry.Mutant
		BuildPaletteOrder: 32
		Prerequisites: ~player.mut, ~murax, muhall, ~techlevel.5, ~campaignunit
		Description: ghost-desc
		BuildLimit: 1
		BuildDuration: 1250
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 40
		Prerequisites: AIOnly
	Armor:
		Type: Infantry
	Mobile:
		Speed: 75
	Health:
		HP: 40000
	Armament:
		Weapon: LtRail
		LocalOffset: 200,0,743
		Name: OnFoot
		PauseOnCondition: WebDisable
	Armament@pit:
		Weapon: LtRailSmudge
		LocalOffset: 200,0,743
		Name: OnFoot
		PauseOnCondition: WebDisable
	Armament@garrison:
		Weapon: GLtRail
		MuzzleSequence: garrison-muzzle
	Armament@garrisonpit:
		Weapon: GLtRailSmudge
	-Targetable@MC:
	TakeCover:
		ProneOffset: 256,32,-584
	Crushable:
		CrushSound: squishy2.aud
	AnnounceOnSeen:
		PingRadar: true
		Notification: CommandoDetected
		TextNotification: notification-commando
	AttackFrontal:
		Voice: Attack
		Armaments: OnFoot
		FacingTolerance: 2
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
	Demolition:
		DetonationDelay: 45
		Voice: Attack
		DamageTypes: Demolish
	Voiced:
		VoiceSet: Ghost
	Cloak@CLOAKGENERATOR:
		CloakedCondition: bettercloak
	Cloak@personalskill:
		RequiresCondition: !bettercloak
		InitialDelay: 40
		CloakDelay: 40
		MinCloakedAlpha: 0.4
		MaxCloakedAlpha: 0.7
		UncloakOn: Attack, Demolish, Damage, Move
		EffectImage: explosion
		EffectPalette: apgreen
		CloakEffectSequence: smokebomb
		EffectTracksActor: false
		EffectOffset: 0, 0, 800
	ActorStatValues:
		Damage: 200

UMAGON:
	Inherits: ^MutantSoldier
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveWithBerserkable
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@VISION: ^10CellVision
	Inherits@AImicroManagable: ^AImicroManagable
	Tooltip:
		Name: umagon-name
	Valued:
		Cost: 2000
	Voiced:
		VoiceSet: Umagon
	Buildable:
		Queue: Infantry.Shared, Infantry.Mutant
		BuildPaletteOrder: 33
		Prerequisites: ~player.mut, ~murax, muhall, ~techlevel.5, ~campaignunit
		Description: umagon-desc
		BuildLimit: 1
		BuildDuration: 1250
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 30
		Prerequisites: AIOnly
	Mobile:
		Speed: 80
	-Targetable@MC:
	Health:
		HP: 20000
	Armament@1:
		Weapon: Sniper
		LocalOffset: 300,0,800
		PauseOnCondition: WebDisable
		Name: OnFoot
	Armament@2:
		Weapon: GSniper
		PauseOnCondition: WebDisable
		MuzzleSequence: garrison-muzzle
	Demolition:
		DetonationDelay: 45
		Voice: Attack
		DamageTypes: Demolish
	AutoDemolisher:
		ScanRadius: 6c0
		RequiresCondition: AImicroManage
	GuardsSelection:
		ValidTargetsToGuard: Infantry, Vehicle
		InvalidTargetsToGuard: Air, Water, LandedCraft, Summoned
		OverrideOrders: AttackGuards
	AttackFrontal:
		Voice: Attack
		Armaments: OnFoot
		FacingTolerance: 2
	AutoTarget:
		ScanRadius: 11 #PREF: save trait looks up and scan armaments
	WithInfantryBody:
		AttackSequences: shoot
	Cloak@CLOAKGENERATOR:
		CloakedCondition: bettercloak
	Cloak@personalskill:
		RequiresCondition: !bettercloak
		InitialDelay: 40
		CloakDelay: 40
		MinCloakedAlpha: 0.4
		MaxCloakedAlpha: 0.7
		UncloakOn: Attack, Demolish, Damage, Move
		EffectImage: explosion
		EffectPalette: apgreen
		CloakEffectSequence: smokebomb
		EffectTracksActor: false
		EffectOffset: 0, 0, 800
	-RevealOnFire:
	ActorStatValues:
		Damage: 150

PREDATOR:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RAILGUNS: ^AffectedByRailguns
	Valued:
		Cost: 900
	Tooltip:
		Name: predator-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.GDI
		BuildAtProductionType: Tank
		BuildPaletteOrder: 7
		Description: predator-desc
		Prerequisites: ~gaweap, ~techlevel.2, ~campaignunit
		BuildDuration: 625
		BuildDurationModifier: 100
	Mobile:
		Speed: 90
		TurnSpeed: 32
		Locomotor: InfantryCrusherVehicle
	Health:
		HP: 35000
	Turreted:
		TurnSpeed: 20
		Offset: -100,0,414 ##new turret
	Armament@PRIMARY:
		Weapon: PredatorCannon
		Damage: 50
		LocalOffset: 1090,0, 100
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploj
		Recoil: 127
		RecoilRecovery: 26
		CasingWeapon: ShellCasingDebris
		CasingSpawnLocalOffset: 1000,0, 550
		CasingTargetOffset:  256, -1024, 0
		PauseOnCondition: empdisable
		RequiresCondition: !railguns
	Armament@Railgun:
		Weapon: PredatorRailgun
		Damage: 75
		LocalOffset: 1090,0, 100
		MuzzleSequence: muzzle2
		MuzzlePalette: gensmkexploFcyan
		Recoil: 127
		RecoilRecovery: 26
		PauseOnCondition: empdisable
		RequiresCondition: railguns
	Armament@SECONDARY:
		Weapon: PredatorBazooka
		Damage: 30
		LocalOffset: -420, 0, 650
		LocalYaw: 0
		MuzzleSequence: muzzle3
		MuzzlePalette: gensmkexploj
		ReloadingCondition: reload-ground
		PauseOnCondition: empdisable || reload-air
	Armament@SECONDARYSECONDARY:
		Weapon: PredatorBazookaAA
		LocalOffset: -420, 0, 650
		LocalYaw: 0
		MuzzleSequence: muzzle3
		MuzzlePalette: gensmkexploj
		ReloadingCondition: reload-air
		PauseOnCondition: empdisable || reload-ground
	WithSpriteTurret:
		RequiresCondition: !inside-tunnel && !railguns
	WithSpriteTurret@2:
		Sequence: turret2
		RequiresCondition: !inside-tunnel && railguns
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	WithMuzzleOverlay:
	Selectable:
		Bounds: 1150, 1500, 0, -400
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange

GHUMV:	
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveWithBerserkable
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PIPS: ^CargoPips
	Inherits@VISION: ^6CellVision
	Valued:
		Cost: 300
	Tooltip:
		Name: ghumv-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.GDI
		BuildAtProductionType: Tank
		Description: ghumv-desc
		BuildPaletteOrder: 6
		Prerequisites: ~gaweap, ~techlevel.2, ~campaignunit
		BuildDuration: 250
		BuildDurationModifier: 100
	Mobile:
		TurnSpeed: 32
		Speed: 165
		Locomotor: Vehicle
	Health:
		HP: 17500
	Armor:
		Type: Light
	Turreted:
		TurnSpeed: 64
		Offset: 30,0,640
	AttackTurreted:
		Armaments: primary
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	Cargo:
		Types: Infantry
		MaxWeight: 1
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		UnloadVoice: Move
		OwnerChangedAffectsPassengers: false
		LoadedCondition: loaded
	Passenger:
		CargoType: Apc
	Armament@primary:
		Weapon: JeepWeapon
		LocalOffset: 200,0,50
		PauseOnCondition: empdisable
		Damage: 40
		MuzzleSequence: muzzle
		CasingWeapon: JeepBullet2Spawner
		CasingSpawnLocalOffset: 240,0,500
		CasingTargetOffset: 250,0,500
		CasingHitGroundLevel: false
	WithMuzzleOverlay:
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	WithCargoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
	ExplodesAlsoTransported:
		Weapon: UnitExplodeSmall
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange, Cargo
	IssueOrderToBot@AI:
		RequiresCondition: loaded
		OrderName: Unload
		OrderChance: 100
		OrderInterval: 45

MUJEEP:
	Inherits: ^Tank
	Inherits@RENDER: ^MutRenderGreen
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveWithBerserkable
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@PIPS: ^CargoPips
	Inherits@VISION: ^6CellVision
	Valued:
		Cost: 300
	Tooltip:
		Name: mujeep-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		Description: mujeep-desc
		BuildPaletteOrder: 23
		Prerequisites: ~muweap, murax, ~techlevel.2, ~campaignunit
		BuildDuration: 250
		BuildDurationModifier: 100
	Mobile:
		TurnSpeed: 32
		Speed: 165
		Locomotor: Vehicle
	Health:
		HP: 12500
	Armor:
		Type: Light
	Turreted:
		TurnSpeed: 1023
		Offset: -420,0,560
	AttackTurreted:
		Armaments: primary
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	Cargo:
		Types: Infantry
		MaxWeight: 5
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		UnloadVoice: Move
		OwnerChangedAffectsPassengers: false
		LoadedCondition: loaded
	Passenger:
		CargoType: Apc
	Selectable:
		Bounds: 1206,1889, 0, -400
	Armament@primary:
		Weapon: JeepWeapon
		LocalOffset: 350,0,500
		PauseOnCondition: empdisable
		Damage: 40
		CasingWeapon: JeepBullet2Spawner
		CasingSpawnLocalOffset: 240,0,500
		CasingTargetOffset: 250,0,500
		CasingHitGroundLevel: false
	WithTurretAttackAnimation:
		RequiresCondition: !inside-tunnel
		Sequence: turret-firing
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	WithCargoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
	ExplodesAlsoTransported:
		Weapon: UnitExplodeSmall
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange, Cargo
	IssueOrderToBot@AI:
		RequiresCondition: loaded
		OrderName: Unload
		OrderChance: 100
		OrderInterval: 45

SLIGHSHOT:
	Inherits: ^HoverTank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@DETECTION: ^BasicStealthDetection
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^MutRenderGreen
	Valued:
		Cost: 700
	Tooltip:
		Name: slighshot-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		BuildPaletteOrder: 13
		Description: slighshot-desc
		Prerequisites: ~muweap, ~campaignunit, ~techlevel.2
		BuildDuration: 500
		BuildDurationModifier: 100
	Mobile:
		Speed: 120
	Health:
		HP: 20000
	Selectable:
		Bounds: 1206,1750, 0, -600
	Armor:
		Type: Light
	Voiced:
		VoiceSet: QuadCannonVoice
	WithMuzzleOverlay:
	Armament@1:
		Weapon: QuadFire
		LocalOffset: 800,90,370, 800,-90,370
		CasingWeapon: CasingDebrisLong
		CasingSpawnLocalOffset: 100,20,400, 100,-20,400
		CasingTargetOffset: -256, 512, 0, -256, -512, 0
		PauseOnCondition: empdisable || attack-air
		MuzzleSequence: muzzle
		MuzzlePalette: effect
	Armament@AA1:
		Weapon: QuadFireAA
		Name: secondary
		LocalOffset: 500,90,1000, 500,-90,1000
		CasingWeapon: CasingDebrisLong
		CasingSpawnLocalOffset: 100,20,600, 100,-20,600
		CasingTargetOffset: -256, 512, 0, -256, -512, 0
		PauseOnCondition: empdisable || attack-ground
		MuzzleSequence: muzzle
		MuzzlePalette: effect
	GrantConditionOnAttack@attackair: ## HACK: ReloadingCondition cannot control well when Burst > 1
		Condition: attack-air
		RevokeDelay: 30
		ArmamentNames: secondary
	GrantConditionOnAttack@attackground:
		Condition: attack-ground
		RevokeDelay: 30
		ArmamentNames: primary
	Turreted:
		TurnSpeed: 24
		Offset: -210,0,290
	AttackTurreted:
		Armaments: primary, secondary
	WithSpriteTurret:
		RequiresCondition: !inside-tunnel && !attack-air
	WithSpriteTurret@2:
		Sequence: turret2
		RequiresCondition: !inside-tunnel && attack-air
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
		Damage: 80


MINELAYER:
	Inherits: ^CombatVehicle
	Inherits@RENDER: ^MutRenderGreen
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Inherits@VISION: ^6CellVision
	Inherits@DETECTION: ^BasicStealthDetection
	Inherits@EXPERIENCE: ^GainsExperienceNonCombat
	Valued:
		Cost: 800
	Tooltip:
		Name: minelayer-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		Description: minelayer-desc
		BuildPaletteOrder: 25
		Prerequisites: ~muweap, gadept, ~campaignunit, ~techlevel.3
		BuildDuration: 500
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 5
		Prerequisites: AIOnly
	Mobile:
		TurnSpeed: 24
		Speed: 105
		Locomotor: InfantryCrusherVehicle
	Voiced:
		VoiceSet: Trike
		Volume: 3
	AmmoPool@mine:
		Ammo: 5
		ReloadDelay: 25
		Name: mines
		Armaments: none
	Minelayer:
		Mine: mumine
		TileUnknownName: build-invalid
		AmmoPoolName: mines
	Rearmable:
		RearmActors: gadept, scrdepot
		AmmoPools: mines
	AutoCrusher:
		MinimumScanTimeInterval: 23
		MaximumScanTimeInterval: 23
		ScanRadius: 5c0
		CrushClasses: minetrigger
		TargetRelationships: Neutral, Enemy
	Targetable:
		TargetTypes: Ground, Vehicle, Minelayer
	Health:
		HP: 40000
	SelectionDecorations:
	ExternalCondition@minelayer-digging: ## play minelayer-digging by MUMINE
		Condition: minelayer-digging
	WithFacingSpriteBody:
		RequiresCondition: !minelayer-digging && !inside-tunnel
		Sequence: idle
	WithFacingSpriteBody@minelayer-digging:
		Name: Body1
		Sequence: laymine
		RequiresCondition: minelayer-digging && !inside-tunnel
	WithAmmoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		Palette: pips
		Margin: 5, 2
		ValidRelationships: Ally, Neutral, Enemy
	RenderSprites:
		Image: civminelayer
		FactionImages:
			mut: mutminelayer
	Selectable:
		Bounds: 1206,1950, 0, -300
	ProvidesPrerequisite@HasMinelayer: ##For AI Perf.
		Prerequisite: HasMinelayer
	ActorStatValues:
		Stats: Armor, Sight, Speed

NAHFAC:
	Inherits: ^Factory
	Tooltip:
		Name: nahfac-name
	Valued:
		Cost: 2500
	Buildable:
		Queue: Building.Shared, Building.Nod
		BuildPaletteOrder: 47
		Description: nahfac-desc
		Prerequisites: ~nodyard, natech, ~campaignunit, ~techlevel.5
		BuildLimit: 1
		BuildDuration: 1125
		BuildDurationModifier: 100
	Health:
		HP: 200000
	Exit@Shared:
		ProductionTypes: Vehicle.Shared, Tank, NodTallMech
	Production@Shared:
		Produces: Vehicle.Shared, Tank, NodTallMech
	Production:
		Produces: Vehicle.NodTallMech
	ProductionQueue@Vehicle:
		Type: Vehicle.NodTallMech
		DisplayOrder: 16
	ProductionBar@Vehicle:
		ProductionType: Vehicle.NodTallMech
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@FAN:
		Sequence: idle-fan
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlaySP@DOOR:
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights
	WithProductionOverlay@LIGHTS2:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights2
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	ProvidesPrerequisite@naweap:
		Prerequisite: naweap
	Power:
		Amount: -100
	SpawnActorsOnSell@nod:
		ValuePercent: 30
		ActorTypes: templar
	IsometricSelectable:
		DecorationHeight: 96

AVATAR:
	Inherits: ^Walker
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveWithBerserkable
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@VISION: ^8CellVision
	Valued:
		Cost: 2200
	Tooltip:
		Name: avatar-name
	Selectable:
		Bounds: 1300, 4300, 0, -1500
	Carryable:
		LocalOffset: 0, 0, 1800
	Buildable:
		Queue: Vehicle.Shared, Vehicle.NodTallMech
		BuildAtProductionType: NodTallMech
		BuildPaletteOrder: 50
		Prerequisites: ~naweap, nahfac, ~campaignunit, ~techlevel.5
		Description: avatar-desc
		BuildDuration: 1250
		BuildDurationModifier: 100
	Mobile:
		TurnSpeed: 48
		Speed: 75
		Locomotor: InfantryCrusherVehicle
	AmbientSound@WalkAnim:
		SoundFiles: mamothwalk0000.wav, mamothwalk0001.wav, mamothwalk0002.wav, mamothwalk0003.wav
		Delay: 16
		Interval: 22
		Volume: 0.6
		RequiresCondition: walking
	GrantConditionOnMovement:
		Condition: walking
	Health:
		HP: 100000
	BodyOrientation:
		QuantizedFacings: 8
	AttackFrontal:
		FacingTolerance: 2
	Armament@primary:
		Weapon: AvatarLazer
		LocalOffset: 990,509,2121
		MuzzlePalette: gensmkexplojFred
		MuzzleSequence: muzzle
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	WithRangeCircle@zealous:
		Range: 5c0
		Type: zealousbuff
		RenderOnGround: true
		Color: FF7777
		BorderWidth: 0
		Width: 2
	ProximityExternalCondition@zealous:
		Condition: ZealousBuff
		Range: 5c0
		AffectsParent: false
	WithDecoration@ZealousNod:
		Image: nodicon
		Sequence: idle
		Palette: apred
		ValidRelationships: Enemy, Neutral, Ally
	WithInfantryBody:
		DefaultAttackSequence: shoot
	RenderSprites:
	WithMuzzleOverlay:
	ExplodesAlsoTransported:
		Weapon: UnitExplodeBigger
		Offset: 0, 0, 768
	# Will add new effect later, better not add another searching actor from map function
	Voiced:
		VoiceSet: Avatar
		Volume: 2
	ActorStatValues:
		Damage: 250

MUJFISH:
	Inherits: JFISH
	Inherits@EXPERIENCE: ^GainsExperience
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		BuildPaletteOrder: 41
		Prerequisites: ~muweap, muhall, ~campaignunit, ~techlevel.6
		Description: jfish-desc
		BuildDuration: 875
		BuildDurationModifier: 100
	Valued:
		Cost: 1000
	SmokeParticleEmitter@cloud:
		RequiresCondition: attack || !FullHealth
	-Encyclopedia:
	-RangeMultiplier@rank-heroic:

WEASAU3:
	Inherits: ^TibBeast
	Inherits@RENDER: ^MutRender
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveWithBerserkable
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Defence
	Inherits@TIBINFUSION: ^AffectedByTiberiumInfusion
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableMastermind
	Inherits@VISION: ^8CellVision
	Valued:
		Cost: 1750
	Tooltip:
		Name: weasau3-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		BuildPaletteOrder: 41
		Prerequisites: ~muweap, mutsw2, ~campaignunit, ~techlevel.6
		Description: weasau3-desc
		BuildDuration: 1125
		BuildDurationModifier: 100
	Voiced:
		VoiceSet: LargeBeast
		Volume: 1
	Targetable:
		TargetTypes: Ground, Vehicle, OrganicVehicle, NoRepair
	Mobile:
		TurnSpeed: 64
		Speed: 60
		Locomotor: InfantryCrusherVehicle
		PauseOnCondition: carrylock
	Health:
		HP: 90000
	AutoTarget:
		ScanRadius: 8
		InitialStance: AttackAnything
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	AttackFrontal:
		FacingTolerance: 6
		Armaments: breath, melee
	RevealOnFire:
		ArmamentNames: breath, melee
	Armament@breath:
		Name: breath
		Damage: 50
		Weapon: WeasaurusSpitGreen
		LocalOffset: 990,0,1210
		RequiresCondition: !deployed
	Armament@melee:
		Name: melee
		Damage: 30
		Weapon: WeasaurusStrikeGreen
		LocalOffset: 990,0,1210
		RequiresCondition: deployed
	GrantConditionOnDeployWithCharge:
		DeployedCondition: deployed
		ChargeDuration: 1500
		ConditionDuration: 500
		DeployedColor: FF0000
	SpawnSparks@Deployed:
		Interval: 9999999
		LocalOffset: 0,0,1800
		LaunchEffectImage: explosion
		LaunchEffectSequences: call2
		LaunchEffectPalette: effectalpha50
		RequiresCondition: deployed
	SpeedMultiplier@melee:
		Modifier: 200
		RequiresCondition: deployed
	Carryable:
		LocalOffset: 0, 0, 1415
		RequiresCondition: !inside-tunnel
		CarriedCondition: carried
		LockedCondition: carrylock
	ExplodesAlsoTransported:
		Weapon: BigBeastExplode
		RequiresCondition: carried
	Passenger:
		CustomPipType: red
	RenderSprites:
		PlayerPalette: orgatemgreenplayer
		Image: weasaugreen2
	WithDeathAnimation@normal:
		DeathSequencePalette: orgatemgreenplayer
		CrushedSequencePalette: orgatemgreenplayer
		DeathTypes:
			BulletDeath: 1, 2
			CabalDeath: 1, 2
			CabalDeathUpg: 1, 2
			FireDeath: 1, 2
			EnergyDeath: 1, 2
			TiberiumDeath: 1, 2
			ExplosionDeath: 1, 2
	WithInfantryBody:
		IdleSequences: idle1, idle2
		RequiresCondition: !inside-tunnel
		AttackSequences:
			breath: shoot
			melee: melee
		-DefaultAttackSequence:
	Selectable:
		Bounds: 1800, 3200, 0, -1600
	SharedPassenger:
		CustomPipType: red
	IssueOrderToBot@AI:
		OrderName: DeployWithCharge
		OrderTrigger: Attack
		OrderChance: 20
		OrderInterval: 1006
	-FirepowerMultiplier@ZealousBuff:
	-ExternalCondition@ZealousBuff:
	-WithIdleOverlayOnGround@ZealousBuff:

PROMTHTNK:
	Inherits: ^CombatVehicle
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^MutRenderGreen
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		Description: promthtnk-desc
		BuildPaletteOrder: 40
		Prerequisites: ~muweap, muhall, ~campaignunit, ~techlevel.5
		BuildDuration: 500
		BuildDurationModifier: 100
	Valued:
		Cost: 1500
	Tooltip:
		Name: promthtnk-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Bounds: 1000, 1680, 0, -480
	Mobile:
		TurnSpeed: 32
		Speed: 75
		Locomotor: InfantryCrusherVehicle
	BodyOrientation:
		CameraPitch: 250
	Health:
		HP: 45000
	Voiced:
		VoiceSet: Trike
		Volume: 3
	Armor:
		Type: Heavy
	Armament@PRIMARY:
		Weapon: PrometheusCannon
		LocalOffset: 670,67,900
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexplojFblue
		PauseOnCondition: empdisable
	WithMuzzleOverlay:
	AttackFollowFrontal:
		PauseOnCondition: empdisable
		FacingTolerance: 64
		MustFaceTarget: true
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	ExplodesAlsoTransported:
		Weapon: UnitExplodeBig
	ActorStatValues:
		Damage: 200

REGENTNK:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^MutRenderGreen
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		Description: regentnk-desc
		BuildPaletteOrder: 41
		Prerequisites: ~muweap, muhall, ~campaignunit, ~techlevel.5
		BuildDuration: 500
		BuildDurationModifier: 100
	Valued:
		Cost: 1750
	Tooltip:
		Name: regentnk-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Bounds: 1250, 2100, 0, -500
	Mobile:
		TurnSpeed: 32
		Speed: 75
		Locomotor: InfantryCrusherVehicle
	BodyOrientation:
		CameraPitch: 250
	Health:
		HP: 65000
	Voiced:
		VoiceSet: Trike
		Volume: 3
	Mobile:
		TurnSpeed: 32
		Speed: 75
		Locomotor: Vehicle
	Armor:
		Type: Heavy
	Armament@PRIMARY:
		Weapon: RegensisCannon
		LocalOffset: 1080,0,400
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexplogreen
		Recoil: 127
		RecoilRecovery: 26
		PauseOnCondition: empdisable
	WithMuzzleOverlay:
	Turreted:
		TurnSpeed: 20
		Offset: -100,0,768 ##new turret
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	ExplodesAlsoTransported:
		Weapon: UnitExplodeBig
	ActorStatValues:
		Damage: 200


TVDDEVICE:
	Inherits: ^CombatVehicle
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^MutRenderGreen
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildAtProductionType: Tank
		Description: tvddevice-desc
		BuildPaletteOrder: 51
		Prerequisites: ~muweap, muhall, ~campaignunit, ~techlevel.5
		BuildDuration: 500
		BuildDurationModifier: 100
	Valued:
		Cost: 4000
	Tooltip:
		Name: tvddevice-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Bounds: 1250, 2100, 0, -500
	Mobile:
		TurnSpeed: 16
		Speed: 45
		CanMoveBackward: true
		BackwardDuration: -1
		MaxBackwardCells: -1
		Locomotor: InfantryCrusherVehicle
		RequiresCondition: !activating
	RA2Chronoshiftable: ## teleport has bug
		RequiresCondition: !activating
	-Passenger:
	-SharedPassenger:
	Carryable:
		RequiresCondition: !activating && !inside-tunnel
	RejectsOrders:
		RequiresCondition: activating
	BodyOrientation:
		CameraPitch: 250
	Health:
		HP: 100000
	Voiced:
		VoiceSet: Trike
		Volume: 3
	Armor:
		Type: Heavy
	MadTankSP:
		ThumpSequence: active
		ThumpWeapon: TiberuimQuake
		PrepareDelay: 15
		ThumpInitialInterval: 25
		IntervalReducedPerThump: 2
		ThumpHitDelay: 4
		ThumpBeginSound: limpbom1.aud
		DetonationAtThumps: 19
		DetonationWeapon: TVDDFinal
		DeployedCondition: activating
		PauseOnCondition: empdisable
	Armament@DemoTruck:
		Weapon: DemoTruckDummyWeapon
		ReloadingCondition: DetonateDemoTruck
		RequiresCondition: !empdisable
	AttackFrontal:
		PauseOnCondition: empdisable
		TargetFrozenActors: true ## For better AI control
		FacingTolerance: 512
		RequiresCondition: !DetonateDemoTruck && !activating
	WithRangeCircle:
		Range: 8c0
		Type: ExplosionRange
		Color: FFA500CC
		BorderWidth: 0
		Width: 2
	WithDecoration@TNT:
		Image: bombicon
		Sequence: idle
		Position: BottomLeft
		Palette: mouse
		ValidRelationships: Ally, Enemy, Neutral
	AutoTarget:
		ScanRadius: 6
		InitialStance: HoldFire
		InitialStanceAI: AttackAnything
	ExplodesAlsoTransported:
		Weapon: UnitExplodeBigger
	IssueOrderToBot@AI:
		OrderTrigger: Damage
		OrderName: Detonate
		OrderChance: 50
		OrderInterval: 150
	ActorStatValues:
		Damage: 2000

LPST:
	Inherits: ^Vehicle
	Inherits@AImicroManagable: ^AImicroManagable
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Valued:
		Cost: 1000
	Armor:
		Type: Light
	Tooltip:
		Name: lpst-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.GDI
		BuildAtProductionType: Tank
		Description:
		BuildPaletteOrder: 51
		Prerequisites: ~gaweap, gatech, ~campaignunit, ~techlevel.5
		BuildDuration: 625
		BuildDurationModifier: 100
	Mobile:
		TurnSpeed: 32
		Speed: 45
		ImmovableCondition: !undeployed
		RequireForceMoveCondition: !AImicroManage && !undeployed
	Passenger:
		RequireForceMoveCondition: !undeployed
	Carryable:
		RequiresCondition: undeployed
	Health:
		HP: 25000
	Armor:
		Type: Light
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		Facing: 640
		SmartDeploy: true
		AllowedTerrainTypes: Clear, Road, DirtRoad, Rough
		DeploySounds: place2.aud
		CanDeployOnRamps: true
		UndeployOnMove: true
		UndeploySounds: clicky1.aud
		RequiresCondition: !inside-tunnel && !empdisable
	RejectsOrders@deployment:
		Reject: AttackMove, AssaultMove
		RequiresCondition: !AImicroManage && deployed
	GrantCondition@showDeployBody: ## HACK: Make carryall show undeploy body
		RequiresCondition: !undeployed
		Condition: show-deploybody
	WithMakeAnimation:
		BodyNames: deployed
	WithSpriteBody@deployed:
		Sequence: deployed
		Name: deployed
		RequiresCondition: !inside-tunnel && show-deploybody
	WithFacingSpriteBody:
		RequiresCondition: !inside-tunnel && !show-deploybody
	RenderDetectionCircle:
		TrailCount: 3
	DetectCloaked:
		RequiresCondition: !empdisable && deployed
		Range: 15c0
	RevealsShroud:
		RequiresCondition: !inside-tunnel && undeployed
		Range: 4c0
		MaxHeightDelta: 3
	RevealsShroud@DEPLOYED:
		RequiresCondition: !undeployed
		Range: 15c0
		MaxHeightDelta: 3
	ExplodesAlsoTransported:
		Weapon: UnitExplode
	### AI Control
	Wanders@AI:
		RequiresCondition: AImicroManage && undeployed
		WanderMoveRadius: 1
		MinMoveDelay: 30
		MaxMoveDelay: 30
	IssueOrderToBot@AI:
		RequiresCondition: undeployed
		OrderName: GrantConditionOnDeploy
		OrderChance: 100
		OrderTrigger: BecomingIdle
		OrderInterval: 105

SGEN:
	Inherits: ^Vehicle
	Inherits@IMPSGEN: ^AffectedByImprovedStealthGenerator
	Inherits@AImicroManagable: ^AImicroManagable
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Valued:
		Cost: 1000
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Nod, Vehicle.NodTallMech
		BuildAtProductionType: Tank
		Prerequisites: ~naweap, natech, ~campaignunit, ~techlevel.5
		BuildPaletteOrder: 51
		Description: sgen-desc
		BuildDuration: 875
		BuildDurationModifier: 100
	Tooltip:
		Name: sgen-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 32
		Speed: 45
		ImmovableCondition: !undeployed
		RequireForceMoveCondition: !AImicroManage && !undeployed
	Passenger:
		RequireForceMoveCondition: !undeployed
	Carryable:
		RequiresCondition: undeployed
	Health:
		HP: 25000
	Armor:
		Type: Light
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		Facing: 384
		SmartDeploy: true
		AllowedTerrainTypes: Clear, Road, DirtRoad, Rough
		DeploySounds: place2.aud
		CanDeployOnRamps: true
		UndeployOnMove: true
		UndeploySounds: clicky1.aud
		RequiresCondition: !inside-tunnel && !empdisable
	RejectsOrders@deployment:
		Reject: AttackMove, AssaultMove
		RequiresCondition: !AImicroManage && deployed
	GrantCondition@showDeployBody: ## HACK: Make carryall show undeploy body
		RequiresCondition: !inside-tunnel && !undeployed
		Condition: show-deploybody
	WithMakeAnimation:
		BodyNames: deployed
	WithSpriteBody@deployed:
		Sequence: deployed
		Name: deployed
		RequiresCondition: !inside-tunnel && show-deploybody
	WithFacingSpriteBody:
		RequiresCondition: !inside-tunnel && !show-deploybody
	ProximityExternalCondition:
		Condition: cloakgenerator
		RequiresCondition: deployed && !empdisable
		Range: 5c0
		EnableSound: cloak5.aud
		DisableSound: cloak5.aud
		AffectsParent: true
	Cloak@CLOAKGENERATOR:
		RequiresCondition: (improvedsgen && deployed || undeployed) && cloakgenerator
	WithRangeCircle:
		Range: 5c0
		Type: cloakgenerator
		Color: 00FF7FCC
		BorderWidth: 0
		Width: 2
		RequiresCondition: deployed && !empdisable
	WithIdleOverlay@flash:
		Sequence: flash
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: deployed && !empdisable
		IsDecoration: true
	WithIdleOverlay@cloakgeneratoreff:
		Sequence: cloakgeneratorwave
		Offset: -25, 0, 4
		RequiresCondition: deployed && !empdisable
		Image: explosion
		Palette: effect
		IsDecoration: true ## so this doesn't have shadow
	ExplodesAlsoTransported:
		Weapon: UnitExplode
	### AI Control
	Wanders@AI:
		RequiresCondition: AImicroManage && undeployed
		WanderMoveRadius: 1
		MinMoveDelay: 30
		MaxMoveDelay: 30
	IssueOrderToBot@AI:
		RequiresCondition: undeployed
		OrderName: GrantConditionOnDeploy
		OrderChance: 100
		OrderTrigger: BecomingIdle
		OrderInterval: 105

ICBM:
	Inherits: ^Vehicle
	Inherits@VISION: ^6CellVision
	Inherits@SUPER: ^HasMisslePower
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Inherits@AImicroManagable: ^AImicroManagable
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Nod, Vehicle.NodTallMech
		BuildAtProductionType: NodTallMech
		BuildPaletteOrder: 51
		Prerequisites: ~player.nod, ~naweap, nahfac, ~campaignunit, ~techlevel.6
		Description: icbm-desc
		BuildDuration: 2000
		BuildDurationModifier: 100
	Valued:
		Cost: 4000
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 20
		Prerequisites: AIOnly
	Tooltip:
		Name: icbm-name
	Health:
		HP: 50000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 20
		Speed: 40
		ImmovableCondition: !undeployed
		RequireForceMoveCondition: !AImicroManage && !undeployed
	GrantConditionOnDeploy:
		PauseOnCondition: empdisable
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		UndeployOnMove: true
		UndeployOnPickup: true
		Facing: 640
		AllowedTerrainTypes: Clear, Road, DirtRoad, Rough, Tiberium, BlueTiberium
		DeploySounds: place2.aud
		UndeploySounds: clicky1.aud
		Voice: Move
	EntersTunnels:
		RequireForceMoveCondition: !undeployed
	Repairable:
		RequireForceMoveCondition: !undeployed
	Passenger:
		RequireForceMoveCondition: !undeployed
	Carryable:
		RequiresCondition: undeployed
	GrantCondition@showDeployBody: ## HACK: Make carryall show undeploy body
		RequiresCondition: !undeployed
		Condition: show-deploybody
	WithMakeAnimation:
		BodyNames: deployed
	WithFacingSpriteBody:
		RequiresCondition: !inside-tunnel && !show-deploybody
	WithSpriteBody@deployedloaded:
		Sequence: unlaunched-idle
		Name: deployed
		RequiresCondition: !inside-tunnel && show-deploybody
	ProvidesPrerequisite@icbm:
		Prerequisite: icbm
		ResetOnOwnerChange: true
	NukePower:
		Prerequisites:
			1: icbm
		Names:
			1: superweapon-icbm-name
		Descriptions:
			1: superweapon-icbm-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		MissileImage: icbm_missile
		MissileDelay: 0
		FlightDelay: 300
		FlightVelocity: 0c512
		DisplayTimerRelationships: Ally, Neutral, Enemy
		SpawnOffset: 488, -520, 0
		ArrowSequence: arrow
		MissilePalette: player
		IsPlayerPalette: false
		OrderName: ToxinMissile
		MissileWeapons:
			1: BombTruckExplo
		CircleRanges:
			1: 6c0
		CameraRange: 5c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
		PauseOnCondition: empdisable
		RequiresCondition: deployed
		TrailImage: explosion
		TrailPalette: gensmkexploj
		TrailSequences: jsmokey4
		TrailDelay: 0
		TrailInterval: 0
	WithSupportPowerActivationAnimation:
		RequiresCondition: !inside-tunnel && deployed
		Sequence: launched-idle
		Body: deployed
	ExplodesAlsoTransported:
		Weapon: UnitExplode
	Wanders@AI:
		RequiresCondition: AImicroManage && undeployed
		WanderMoveRadius: 1
		MinMoveDelay: 30
		MaxMoveDelay: 30
	IssueOrderToBot@AI:
		RequiresCondition: undeployed
		OrderName: GrantConditionOnDeploy
		OrderChance: 100
		OrderTrigger: BecomingIdle
		OrderInterval: 105

MWAR: ## AI control it by using McvManagerBotModule
	Inherits: ^Vehicle
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Valued:
		Cost: 2000
	Buildable:
		Queue: Vehicle.Shared, Vehicle.NodTallMech
		BuildAtProductionType: NodTallMech
		Prerequisites: ~naweap, nahfac, ~AIOnly, ~techlevel.6
		BuildPaletteOrder: 51
		Description: mwar-desc
		BuildDuration: 1150
		BuildDurationModifier: 100
	Tooltip:
		Name: mwar-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 32
		Speed: 45
		Locomotor: InfantryCrusherVehicle
	Health:
		HP: 25000
	Transforms:
		IntoActor: mtar
		Facing: 384
		TransformSounds: place2.aud
		NoTransformSounds:
		PauseOnCondition: mindcontrolled || empdisable
		Voice: Move
		Offset: -1,-1
	ExplodesAlsoTransported:
		Weapon: UnitExplodeBig
	RenderSprites:
		Image: mwar.nod
		FactionImages:
			gdi: mwar

## TODO: make it can produce correct vehicle
MTAR:
	Inherits@1: ^Factory
	-Buildable:
	MustBeDestroyed:
		RequiredForShortGame: false
	Valued:
		Cost: 2000
	Tooltip:
		Name: mwar-name
	Production:
		Produces: Vehicle.Nod
	ProductionQueue@Vehicle:
		Type: Vehicle.Nod
		DisplayOrder: 16
	ProductionBar@Vehicle:
		ProductionType: Vehicle.Nod
	Health:
		HP: 150000
	Transforms:
		IntoActor: mwar
		Facing: 384
		TransformSounds: place2.aud
		NoTransformSounds:
		PauseOnCondition: mindcontrolled || empdisable
		Voice: Move
		Offset: 1,1
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlaySP@DOOR:
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@WHITELIGHTS:
		Sequence: production-lights-white
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@REDLIGHTS:
		Sequence: production-lights-red
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@TURBINES:
		Sequence: idle-turbines
		PauseOnCondition: empdisable
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	IsometricSelectable:
		DecorationHeight: 36
	-ProvidesPrerequisite@factory:
	RenderSprites:
		Image: mtar.nod
		FactionImages:
			gdi: mtar
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: mtar

M_EMP:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveWithBerserkable
	Inherits@AImicroManagable: ^AImicroManagable
	Valued:
		Cost: 1000
	Tooltip:
		Name: memp-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.GDI
		BuildAtProductionType: Tank
		Description: memp-desc
		BuildPaletteOrder: 51
		Prerequisites: ~gaweap, gatech, ~campaignunit, ~techlevel.5
		BuildDuration: 625
		BuildDurationModifier: 100
	Mobile:
		TurnSpeed: 32
		Speed: 80
		Locomotor: InfantryCrusherVehicle
		PauseOnCondition: carrylock ## Remove empdisable
	Health:
		HP: 34000
	Armament@AIAim:
		Weapon: MEMPDummyWeapon
		RequiresCondition: AImicroManage
	AttackFrontal:
		RequiresCondition: AImicroManage
		TargetFrozenActors: true ## For better AI control
		FacingTolerance: 128
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	WithMuzzleOverlay:
	-WithFacingSpriteBody:
	WithInfantryBody: ## support tracks motion animation
		RequiresCondition: !inside-tunnel
		IdleSequences: idle, idle2
	AutoTarget:
		RequiresCondition: AImicroManage
		ScanRadius: 6
		InitialStance: HoldFire
		InitialStanceAI: AttackAnything
	GrantConditionOnDeployWithCharge:
		DeployedCondition: empSpawn
		ChargeDuration: 1600
		ConditionDuration: 1
	SpawnSparks@Deployed:
		Interval: 9999999
		SparkWeapon: MEMPulse
		Amount: 1
		RequiresCondition: empSpawn
	ExplodesAlsoTransported:
		Weapon: UnitExplode
	IssueOrderToBot@AI:
		OrderName: DeployWithCharge
		OrderTrigger: Attack
		OrderChance: 100
		OrderInterval: 1606
	-ExternalCondition@empdisable:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-WithColoredOverlay@EMPDISABLE:
	-SpeedMultiplier@InstantStop:
	Shielded@Shield:
		-PauseOnCondition:

CABECM:
	Inherits: ^CombatVehicle
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Inherits@VISION: ^5CellVision
	Inherits@RENDER: ^CabRender
	Valued:
		Cost: 1000
	Tooltip:
		Name: cabecm-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.CABAL
		BuildAtProductionType: Tank
		Description: cabecm-desc
		BuildPaletteOrder: 31
		Prerequisites: ~cabweap, cabtech, ~techlevel.5, ~campaignunit
		BuildDuration: 625
		BuildDurationModifier: 100
	Selectable:
		Bounds: 1106,1609, 0, -480
	Health:
		HP: 25000
	Armor:
		Type: Light
	Mobile:
		Speed: 80
		TurnSpeed: 24
		CanMoveBackward: true
		BackwardDuration: -1
		MaxBackwardCells: -1
		Locomotor: Vehicle
	Voiced:
		VoiceSet: Limpet
	DroneSpawnerMaster:
		Actors: QDRONE
		SpawnOffset: 0,0,512
		RespawnTicks: 256
		FollowAfterAttackDelay: 21 ## bigger than reload time
		PauseOnCondition: empdisable
	Armament:
		Weapon: HackerReconDummyWeapon
		PauseOnCondition: empdisable
		TargetRelationships: None
		Cursor: ability
		OutsideRangeCursor: ability
	Armament@2:
		Weapon: HackerEMPDummyWeapon
		PauseOnCondition: empdisable
		Cursor: emp
		OutsideRangeCursor: emp
	Armament@3:
		Weapon: HackerHackDummyWeapon
		PauseOnCondition: empdisable
		Cursor: emp
		OutsideRangeCursor: emp
	AttackFrontal:
		PauseOnCondition: empdisable
		Voice: Move
		TargetLineColor: FFFF00
		FacingTolerance: 512
		TargetFrozenActors: true
	CaptureManager:
	Captures@NormalBuilding:
		CaptureTypes: Building
		PlayerExperience: 25
		CaptureDelay: 250
		ConsumedByCapture: false
	Captures@TechBuilding:
		CaptureTypes: TechBuilding
		PlayerExperience: 25
		CaptureDelay: 250
		ConsumedByCapture: false
	-RevealOnFire:
	-WithFacingSpriteBody:
	WithInfantryBody: ## support tracks motion animation
		RequiresCondition: !inside-tunnel
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		Stats: Armor, Sight, Speed, Drones, ReloadDelay, MaxRange
		
QDRONE:
	Inherits: ^CombatDronePlane
	Inherits@VISION: ^6CellVision
	Inherits@DETECTION: ^BasicStealthDetectionAir
	Tooltip:
		Name: qdrone-name
	Health:
		HP: 5000
	DroneSpawnerSlave:
		AttackCallBackDistance: 21c0
		MovingCallBackCellDistance: 2
	Targetable@Ignore:
		TargetTypes: AIgnored
	Aircraft:
		MaximumPitch: 90
		Repulsable: true
		TurnSpeed: 16
		Speed: 128
		IdleTurnSpeed: 10
		IdleSpeed: 64
		AltitudeVelocity: 200
		RepulsionSpeed: 16
		VTOL: true
		MoveIntoShroud: true
		TakeUpCellWhenLand: false
		CruiseAltitude: 3c0
	#AttackAircraft: has bug on reset target when target is invalid
	AttackFrontal:
		FacingTolerance: 512
		TargetFrozenActors: true
	RenderSprites:
		Image: quaddrone-mini
	Armament:
		Weapon: DroneReconDummyWeapon
	RenderDetectionCircle:
		Visible: Always
	DetectCloaked:
		Range: 6c0
	Armament@hack:
		Weapon: DroneHackWeapon
		PauseOnCondition: hackcooldown
	Armament@hack2:
		Weapon: DroneHackWeaponFinal
		PauseOnCondition: !charged
		ReloadingCondition: hackcooldown
	Armament@emp:
		Weapon: DroneEMPWeapon
		PauseOnCondition: hackcooldown
	Armament@emp2:
		Weapon: DroneEMPWeaponFinal
		PauseOnCondition: !charged
		ReloadingCondition: hackcooldown
	GatlingReloadDelayMultiplier:
		MinModifier: 20
		CoolDownDelay: 8
		CoolDownChange: 1
		RevokeOnNewTarget: true
	GrantConditionOnAttack@charge:
		Condition: charged
		RevokeDelay: 4
		RequiredShotsPerInstance: 3
		ArmamentNames: primary
		RevokeOnNewTarget: true
		RevokeAll: true
		IsCyclic: true
	-RevealOnFire:

MUTMOUND: ### Mound that may hide a tunnel inside
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@RENDER: ^MutRenderBuilding
	Interactable:
	EditorOnlyTooltip:
		Name: mutmound-name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		TerrainTypes: Clear, Road, DirtRoad, Rough
	RenderSprites:
		Image: musnek
		Palette: playermut
	WithSpriteBody:
		Sequence: mound-idle
	SpawnActorOnDeath:
		Actor: mutambushvent
		SkipMakeAnimations: false
	MapEditorData:
		Categories: Defence
	FrozenUnderFog:
	-WithDeathAnimation:

MUTAMBUSH: ###  Mound that hide a tunnel inside
	Inherits: MUTMOUND
	Inherits@WithDeathEffects: ^EnableDummyDeathEffects
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Building
	EditorOnlyTooltip:
		Name: mutambush-name
	SpawnActorOnDeath:
		Actor: mutambushvent
		SkipMakeAnimations: false
	WithMakeAnimation:
		Sequence: mound-make
	SharedCargo:
		Types: Infantry, Vehicle
		PauseOnCondition: no-exit
	GrantCondition@no-exit:
		Condition: no-exit
	Sellable:
		ShowTicks: false
	#KillsSelf@tset: ## Use script or something like this to trigger
	#	Delay: 300

MUTAMBUSHVENT:
	Inherits: MUVENT
	-Buildable:
	WithMakeAnimation:
		Sequence: ambush-make
	EditorOnlyTooltip:
		Name: mutambushvent-name

GBEACON:
	Inherits: ^BasicBuilding
	Inherits@1: ^StructureEffects
	Inherits@2: ^6CellVision
	Inherits@3: ^SelectableBuilding
	Tooltip:
		Name: gbeacon-name
	Building:
		Footprint: x
		Dimensions: 1,1
	Turreted:
		TurnSpeed: 1023
	WithMuzzleOverlay:
	Armament:
		Weapon: LurkerAimDummyWeapon
		MuzzlePalette: player
		MuzzleSequence: wifi
		LocalOffset: 0,0,2200
	AttackPopupTurreted:
		CloseDelay: 10
		DefaultFacing: 512
		ClosedDamageMultiplier: 100
	WithEmbeddedTurretSpriteBody:
	WithSpriteBody:
		Name: base
		Sequence: idle-open
	ExplodesAlsoTransported:
		Weapon: UnitExplodeSmall
	-WithIdleOverlay@SpawnFire:
	-ThrowsShrapnel@SMALL:
	-ThrowsShrapnel@LARGE:
	-ShakeOnDeath:
	RenderSprites:
		PlayerPalette: player
	GrantConditionAfterDelay@activate:
		Condition: active
		Delay: 100
		#PauseOnCondition:  ##Use script or something like this to script the activation
	ForceFireAtLocation@BeaconActive:
		TargetOffset: 0, 1024, 0
		RequiresCondition: active

GAIONTUR:
	Inherits: ^TurretedDefence
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense.Tech
		BuildPaletteOrder: 10
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: gaiontur-name
	Health:
		HP: 200000
	Armament:
		Weapon: IonCannonTurret
		LocalOffset: 1800, 0, 2000
		PauseOnCondition: Building-Buildup
	IsometricSelectable:
		DecorationHeight: 52
	WithIdleOverlay@SpawnFire:
		Sequence: building_fire
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	Power:
		Amount: -150
	-Sellable:
	-SpawnActorsOnSell@gdi:
	-SpawnActorsOnSell@nod:
	-SpawnActorsOnSell@cab:
	-SpawnActorsOnSell@mut:
	-SpawnActorsOnSell@scr:
	-IssueOrderToBot@AISell:
	ActorStatValues:
		Damage: 2000

KODK:
	Inherits: ^CombatAirCruiser
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^9CellVisionAir
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveWithBerserkable
	Valued:
		Cost: 5000
	Tooltip:
		Name: kodk-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Bounds: 2800,3100, 0, -512
	Aircraft:
		AltitudeVelocity: 180
		TurnSpeed: 20
		Speed: 75
		Repulsable: true
		MoveIntoShroud: true
		IdealSeparation: 1706
		TakeoffSounds: orcaup1.aud
		LandingSounds: orcadwn1.aud
	## Hack: No armament here, add AttackAircraft&AutoTarget only for LUA
	AttackAircraft:
		AttackType: Hover
		FacingTolerance: 512
		Voice: Attack
	AutoTarget:
		ScanRadius: 10 #PREF: save trait looks up and scan armaments
	Health:
		HP: 45000
	SpawnHuskEffectOnDeath:
		Weapon: kodk.husk
		RequiresCondition: airborne
	ExplodesAlsoTransported@Shrapnel:
		Weapon: BigAircraftShrapnel
	Contrail@1:
		RequiresCondition: airborne
		Offset: -1600, 800, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	Contrail@2:
		RequiresCondition: airborne
		Offset: -1600, 500, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	Contrail@3:
		RequiresCondition: airborne
		Offset: -1600, -500, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	Contrail@4:
		RequiresCondition: airborne
		Offset: -1600, -800, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		Stats: Armor, Sight, Speed

CABGRINDER:
	Inherits: ^TechBuilding
	Inherits@1: ^CabRender
	Inherits@2: ^2x3Shape
	Valued:
		Cost: 350
	Tooltip:
		Name: cabgrinder-name
	TooltipDescription:
		Description: cabgrinder-desc
	AcceptsDeliveredCash:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Health:
		HP: 25000
	Armor:
		Type: Building
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building

NEUTRALFABRICATOR:
	Inherits: ^Vehicle
	Inherits@2: ^SpriteActor
	Inherits@3: ^7CellVision
	Tooltip:
		Name: fabricator-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 20
		Speed: 45
		Locomotor: InfantryCrusherVehicle
	Health:
		HP: 15000
	Transforms:
		IntoActor: neutralfabricatordep
		Facing: 888
		PauseOnCondition: empdisable
	WithFacingSpriteBody:
		Sequence: vehicle
	Selectable:
		Bounds: 1206,3015,0, -905
	ActorStatValues:
		Icon: vehicleicon
		IconPalette: chrome

NEUTRALFABRICATORDEP:
	Inherits: ^TechBuilding
	Inherits@1: ^1x1Shape
	Building:
		Footprint: x
		BuildSounds: facbld1.aud
		Dimensions: 1,1
	Health:
		HP: 15000
	Tooltip:
		Name: fabricator-name
	BaseProvider:
		Range: 8c0
	GivesBuildableArea:
		AreaTypes: building
	Targetable:
		TargetTypes: Building, Ground, C4
	WithMakeAnimation:
		Condition: Building-Buildup
	Transforms:
		IntoActor: neutralfabricator
		Facing: 888
		DeployCursor: undeploy
		PauseOnCondition: empdisable
	TransformsIntoMobile:
		RequiresCondition: !Building-Buildup
		Locomotor: InfantryCrusherVehicle
		Voice: Move
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: !Building-Buildup
		RepairActors: gadept, scrdepot
		Voice: Move
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: !Building-Buildup
		CargoType: Vehicle
		Voice: Move
		RequiresForceMove: true
	IsometricSelectable:
		DecorationHeight: 36
	RenderSprites:
		Image: neutralfabricator

########## Boss unit ###############
COREDEFENDER:
	Inherits: ^Walker
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveWithBerserkable
	Inherits@COMMANDO: ^BossIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^CabRender
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@VISION: ^9CellVision
	Inherits@VOICE: ^CabalVehicleVoice
	Inherits@FirestormWall: ^FirestormWallSP
	Valued:
		Cost: 35000
	Tooltip:
		Name: coredefender-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 30
		Speed: 60
		Locomotor: VehicleCrusher
		PauseOnCondition: empdisable
	Voiced:
		VoiceSet: CoreDefender
		Volume: 0.75
	Buildable:
	-Crushable:
	AnnounceOnSeen:
		PingRadar: true
		Notification: CommandoDetected
		TextNotification: notification-cabal-boss
	AmbientSound@WalkAnim:
		SoundFiles: mamothwalk0000.wav, mamothwalk0001.wav, mamothwalk0002.wav, mamothwalk0003.wav
		Delay: 50
		Interval: 16
		RequiresCondition: walking
	GrantConditionOnMovement:
		Condition: walking
	FloatingSpriteEmitter@spawnsmoke:
		Offset: 0,0,3000
	Armor:
		-RequiresCondition:
	Armor@Boss:
		Type: Boss
	SpawnSparks:
		LocalOffset: 0,0,3000
	Health:
		HP: 650000
	-WithIdleOverlay@shield:
	-ExternalCondition@VanguardShield:
	-Shielded@Shield:
	-Armor@Shield:
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	AttackFrontal:
		Voice: Attack
		PauseOnCondition: empdisable
		FacingTolerance: 3
		Armaments: ArmArmament, HeadArmament, ShoulderArmament
	RevealOnFire:
		ArmamentNames: ArmArmament, HeadArmament, ShoulderArmament
	-WithMindControlArc:
	-MindControllable:
	-Targetable@MC:
	-IssueOrderToBot@AISell:
	-WithDecoration@mindcontrolled:
	AutoTarget:
		ScanRadius: 9
		InitialStanceAI: AttackAnything
	RenderSprites:
	WithMuzzleOverlay:
	Selectable:
		Bounds: 1809, 5428, 0, -2412
	-Passenger:
	-SharedPassenger:
	-RA2Chronoshiftable:
	-Carryable:
	FloatingSpriteEmitter@spawnsmoke:
		Offset: 0,0,2500
	SpawnSparks:
		LocalOffset: 0,0,2500
	WithInfantryBody:
		-DefaultAttackSequence:
		RequiresCondition: !inside-tunnel
		AttackSequences:
			ArmArmament: shoot2
	MustBeDestroyed:
		RequiredForShortGame: true
	####### arm weapon###########
	Armament@RightArm1:
		Weapon: CoreDefLazer1R
		LocalOffset: 1580,500,3400
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ArmArmament
	Armament@RightArm2:
		Weapon: CoreDefLazer2R
		LocalOffset: 1580,500,3400
		PauseOnCondition: empdisable
		MuzzlePalette: jascbluealpha
		MuzzleSequence: muzzle2
		Name: ArmArmament
	Armament@LeftArm1:
		Weapon: CoreDefLazer1L
		LocalOffset: 1480,-800,3350
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ArmArmament
	Armament@LeftArm2:
		Weapon: CoreDefLazer2L
		LocalOffset: 1480,-800,3350
		PauseOnCondition: empdisable
		MuzzlePalette: gensmkexplojFblue
		MuzzleSequence: muzzle2
		Name: ArmArmament
	####### shoulder weapon###########
	Armament@Shoulder:
		Weapon: CoreDefenderCannon
		LocalOffset: 600,450,4000
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ShoulderArmament
	Armament@ShoulderAA:
		Weapon: CoreDefenderCannonAA
		LocalOffset: 600,450,4000
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ShoulderArmament
	####### head weapon###########
	Armament@Head:
		Weapon: CoreDefLazerAA
		LocalOffset: 700,0,4900
		PauseOnCondition: empdisable
		MuzzlePalette: gensmkexplojFblue
		MuzzleSequence: muzzle2
		Name: HeadArmament
		RequiresCondition: !SuperAttack && !FirestormGen ## weapon is disabled when superweapon attack or firestorm
	Armament@HeadSuper1:
		Weapon: CoreDefSuper
		LocalOffset: 700,0,4900
		Name: HeadSuperWeapon
	Armament@HeadSuper2:
		Weapon: CoreDefSuperReveal
		Name: HeadSuperWeapon
	ProvidesPrerequisite@HeadSuperAIbuildinglimit:
		Prerequisite: DefenderExists
		ResetOnOwnerChange: true
	FireArmamentPower:
		Cursor: emp
		AllowMultiple: true
		Icons:
			1: coreicon
		ChargeInterval: 5000
		ArmamentName: HeadSuperWeapon
		Names:
			1: superweapon-coredef-name
		Descriptions:
			1: superweapon-coredef-desc
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		SelectTargetSound: speech-nod|00-i042.aud
		Prerequisites:
			1: DefenderExists
		OrderName: CoreDefSuper
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: empdisable
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	GrantConditionOnAttack@muzzle:
		Condition: SuperAttack
		ArmamentNames: HeadSuperWeapon
	WithIdleOverlay@SuperWeaponMuzzle:
		Offset: 700,0,4900
		Image: explosion
		Sequence: firestormactived
		Palette: apolbluealpha
		RequiresCondition: SuperAttack || FirestormGen
		IsDecoration: true ## so this doesn't affect by cloak palette
	ExplodesAlsoTransported:
		Weapon: DefenderExplosion
	ThrowsShrapnel:
		Weapons: SmallDebris
		Pieces: 5, 9
	ThrowsShrapnel@LARGE:
		Pieces: 2, 4
		Weapons: LargeDebris
	## Firestorm on Deploy
	GrantConditionOnDeployWithCharge@FirestormWall:
		InitialCharge: -1
		PauseOnCondition: empdisable && !FirestormGen
	ProximityExternalCondition@FirestormWall:
		Range: 7c0
		RequiresCondition: FirestormGen && !empdisable && !SuperAttack
	FirestromSP:
		RequiresCondition: FirestormGen && !empdisable && !SuperAttack
		FirestormEffectRotationAngle: 12
		FirestormEffectAmounts: 7
		FirestormEffectRange: 7c0
		DamageMaxRange: 7c140
		DamageMinRange: 6c724
	IssueOrderToBot@AI:
		OrderName: DeployWithCharge
		OrderTrigger: Damage
		OrderChance: 100
		OrderInterval: 1811
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: defd
		Armaments: ArmArmament, HeadArmament
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange
		Damage: 1668

DEFD:
	Inherits: ^BasicBuilding
	Inherits@1: ^StructureEffects
	Inherits@2: ^6CellVision
	Inherits@3: ^SelectableBuilding
	Inherits@SHAPE: ^2x3Shape
	Valued:
		Cost: 35000
	Health:
		HP: 1100000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, 1536
	HitShape@2:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			LocalYaw: -128
			TopLeft: 512, 512
			BottomRight: 1536, 1536
	Buildable:
		Queue: Building.Shared, Building.CABAL
		Prerequisites: ~player.cab, ~cabyard, cabtech, ~techlevel.5, ~campaignunit, ~!DefenderExists
		Description: coredefender-desc
		BuildPaletteOrder: 54
		BuildDuration: 7000
		BuildDurationModifier: 100
		BuildLimit: 1
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 2
		Prerequisites: AIOnly
	Building:
		Footprint: xx_ xx_ xxx
		Dimensions: 3,3
	GivesExperience:
		PlayerExperienceModifier: 100
	GivesExperienceToMasterOrTransport:
		ActorExperienceModifierOnTransport: 0
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiredForShortGame: true
		RequiresCondition: !suddendeath
	WithMakeAnimation:
		Condition: Building-Buildup
	GrantConditionAfterDelay:
		Delay: 10000
		Condition: Rising
		PauseOnCondition: empdisable
	Transforms:
		RequiresCondition: Rising
		IntoActor: coredefender
		Offset: 1, 1
		Facing: 384
		TransformSounds: coreup1.aud
		NoTransformSounds:
	Tooltip:
		Name: coredefender-name
	RevealsShroud@revealitself:
		ValidRelationships: Neutral, Enemy
		MaxHeightDelta: 3
		Range: 2c0
	ProvidesPrerequisite@AIbuildinglimit:
		Prerequisite: DefenderExists
		ResetOnOwnerChange: true
	Targetable:
		TargetTypes: Building, Ground, C4, AIPrefer
	WithIdleOverlay@charging:
		RequiresCondition: !Building-Buildup
		Sequence: flag
		Palette: playercab
		IsPlayerPalette: true
	-WithMindControlArc:
	-MindControllable:
	-Targetable@MC:
	-WithDecoration@mindcontrolled:
	IssueOrderToBot@AI:
		RequiresCondition: Rising
		OrderName: DeployTransform
		OrderChance: 100
		OrderTrigger: Periodically
		OrderInterval: 40
	MapEditorData:
		Categories: Building

HMECTEST:
	Inherits: ^CombatVehicle
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveWithBerserkable
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Defence
	Inherits@COMMANDO: ^BossIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@VISION: ^9CellVision
	Valued:
		Cost: 35000
	Tooltip:
		Name: hmectest-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.MammothMkII
		BuildAtProductionType: Mammoth
		BuildPaletteOrder: 49
		Prerequisites: ~player.gdi, ~showhmec, gtdrop, ~campaignunit, ~techlevel.6
		Description: hmectest-desc
		BuildLimit: 1
		BuildDuration: 7000
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 2
		Prerequisites: AIOnly
	ProductionTimeMultiplier@2_FACTORY:
		Multiplier: 80
		Prerequisites: prerequisite.two_factory, !global-multiqueue
	ProductionTimeMultiplier@3_FACTORY:
		Multiplier: 65
		Prerequisites: prerequisite.three_factory, !global-multiqueue
	ProductionTimeMultiplier@4_FACTORY:
		Multiplier: 50
		Prerequisites: prerequisite.four_factory, !global-multiqueue
	Voiced:
		VoiceSet: MammothMkII
		Volume: 2
	Mobile:
		TurnSpeed: 12
		Speed: 60
		Locomotor: VehicleCrusher
		PauseOnCondition: empdisable
	-Crushable:
	-Passenger:
	-SharedPassenger:
	-RA2Chronoshiftable:
	-Carryable:
	-WithIdleOverlay@shield:
	-ExternalCondition@VanguardShield:
	-Shielded@Shield:
	-Armor@Shield:
	FloatingSpriteEmitter@spawnsmoke:
		Offset: 0, 0, 1000
	SpawnSparks:
		LocalOffset: 0, 0, 900
	Health:
		HP: 650000
	Armor@Boss:
		Type: Boss
	Armor:
		-RequiresCondition:
	AnnounceOnSeen:
		PingRadar: true
		Notification: MammothDetected
		TextNotification: notification-gdi-boss
	AttackTurreted:
		Voice: Attack
		Turrets: primary, secondary, tertiary, quaternary
		Armaments: primary, secondary, tertiary, quaternary
		PauseOnCondition: empdisable
	RevealOnFire:
		ArmamentNames: primary, secondary
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	AmbientSound@WalkAnim:
		SoundFiles: mamothwalk0000.wav, mamothwalk0001.wav, mamothwalk0002.wav, mamothwalk0003.wav
		Delay: 16
		Interval: 16
		RequiresCondition: walking
	GrantConditionOnMovement:
		Condition: walking
	Armament@M1:
		Weapon: MKIIITusk
		LocalOffset: 200,0,2900
		Name: secondary
		Turret: secondary
		MuzzleSequence: muzzle3
		MuzzlePalette: gensmkexploj
		ReloadingCondition: reload-ground
		PauseOnCondition: empdisable || reload-air || super-attack
	Armament@M1AA:
		Weapon: MKIIITuskAA
		LocalOffset: 200,0,2900
		Name: secondary
		Turret: secondary
		MuzzleSequence: muzzle3
		MuzzlePalette: gensmkexploj
		ReloadingCondition: reload-air
		PauseOnCondition: empdisable || reload-ground || super-attack
	Armament@M2:
		Weapon: MKIIITusk
		LocalOffset: 200,0,2900
		Name: tertiary
		Turret: tertiary
		MuzzleSequence: muzzle3
		MuzzlePalette: gensmkexploj
		FireDelay: 5
		ReloadingCondition: reload-ground
		PauseOnCondition: empdisable || reload-air || super-attack
	Armament@M2AA:
		Weapon: MKIIITuskAA
		LocalOffset: 200,0,2900
		Name: tertiary
		Turret: tertiary
		MuzzleSequence: muzzle3
		MuzzlePalette: gensmkexploj
		FireDelay: 5
		ReloadingCondition: reload-air
		PauseOnCondition: empdisable || reload-ground || super-attack
	Armament@R: ##Hit effect and firedly fire
		Weapon: MKIIIRailgun
		LocalOffset: 1200,-250,2650, 1200,250,2650
		PauseOnCondition: empdisable
	Armament@R2:
		Weapon: MKIIIRailgun2
		LocalOffset: 1200,-250,2650, 1200,250,2650
		PauseOnCondition: empdisable
		MuzzleSequence: muzzle2
	Armament@T2:
		Weapon: MKIIIDroneTargeter
		Turret: quaternary
		PauseOnCondition: empdisable
	Armament@SuperWeapon1:
		Weapon: SonicClusterMissile
		LocalOffset: 200,0,2900
		Name: MKIIISuperWeapon
		Turret: secondary
		PauseOnCondition: empdisable
	Armament@SuperWeapon2:
		Weapon: SonicClusterMissile
		LocalOffset: 200,0,2900
		Name: MKIIISuperWeapon
		Turret: tertiary
		FireDelay: 5
		PauseOnCondition: empdisable
	GrantConditionOnAttack@super:
		Condition: super-attack
		ArmamentNames: MKIIISuperWeapon
	FireArmamentPower:
		Cursor: emp
		AllowMultiple: true
		Icons:
			1: mammothicon
		ChargeInterval: 5000
		ArmamentName: MKIIISuperWeapon
		Names:
			1: superweapon-mk3misl-name
		Descriptions:
			1: superweapon-mk3misl-desc
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		SelectTargetSound: speech-nod|00-i042.aud
		Prerequisites:
			1: MKIIISuper
		OrderName: MKIIISuper
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: empdisable
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	ProvidesPrerequisite@MKIIISuper:
		Prerequisite: MKIIISuper
		ResetOnOwnerChange: true
	-WithMindControlArc:
	-MindControllable:
	-Targetable@MC:
	-WithDecoration@mindcontrolled:
	-IssueOrderToBot@AISell:
	Turreted@1:
		Offset: -500,0,0
		TurnSpeed: 16
	Turreted@2:
		Offset: 600,300,-400
		TurnSpeed: 32
		Turret: secondary
	Turreted@3:
		Offset: 600,-300,-400
		TurnSpeed: 32
		Turret: tertiary
	Turreted@4:
		TurnSpeed: 1023
		Turret: quaternary
	DroneSpawnerMaster:
		Actors: MKIIIDRONE-MINIGUN, MKIIIDRONE-MINIGUN
		SpawnOffset: 0,0,1024, 0,0,1024
		LinkToParent: true
		RespawnTicks: 128
		FollowAfterAttackDelay: 35
		PauseOnCondition: inside-tunnel
	WithMuzzleOverlay:
	WithSpriteTurret:
		RequiresCondition: !inside-tunnel
	WithSpriteTurret@2:
		Sequence: turret2
		Turret: secondary
		RequiresCondition: !inside-tunnel
	WithSpriteTurret@3:
		Sequence: turret2
		Turret: tertiary
		RequiresCondition: !inside-tunnel
	Passenger:
		CustomPipType: red
	WithMoveAnimation:
		MoveSequence: run
	Selectable:
		Bounds: 2213, 4041, 0, -1508
	SharedPassenger:
		CustomPipType: red
	ExplodesAlsoTransported:
		Weapon: EpicExplosion
	ThrowsShrapnel:
		Weapons: SmallDebris
		Pieces: 5, 9
	ThrowsShrapnel@LARGE:
		Pieces: 2, 4
		Weapons: LargeDebris
	VoiceAnnouncementOnProductionExit:
		Voice: Build
	RenderSprites:
		Image: mammothtest
	ActorStatValues:
		Damage: 720
		Armaments: primary, secondary
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, Drones, MaxRange
	MustBeDestroyed:
		RequiredForShortGame: true

MKIIIDRONE-MINIGUN:
	Inherits: ^CombatDronePlane
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^3CellVision
	Tooltip:
		Name: mkiiidrone-name
	HasParent:
	Aircraft:
		MaximumPitch: 90
		Repulsable: true
		TurnSpeed: 32
		Speed: 210
		IdleTurnSpeed: 16
		IdleSpeed: 128
		AltitudeVelocity: 200
		RepulsionSpeed: 32
		VTOL: true
		AirborneCondition: airborne
		MoveIntoShroud: true
		CruiseAltitude: 3c768
		TakeUpCellWhenLand: false
	Armament@primaryAP:
		Weapon: MKIIIDroneVulcan
		LocalOffset: 350,0,-350, 350,0,-350
		CasingWeapon: CasingDebris
		CasingSpawnLocalOffset: 128,0,-350, 128,0,-350
		CasingTargetOffset: 0, 400, 0, 0, -400, 0
		MuzzleSequence: muzzle
	Armament@Repair:
		Weapon: MKIIIDroneRepair
		LocalOffset: 0,0,-350
		TargetRelationships: Ally
		ForceTargetRelationships: Ally
	AttackTurreted:
		Armaments: primary
		PersistentTargeting: false
	WithSpriteTurret:
	Turreted@1:
		Offset: 0,0,75
		TurnSpeed: 32
	RejectsOrders:
	RenderSprites:
		Image: mkiiidrone
	AutoTarget:
		InitialStance: Defend
		InitialStanceAI: Defend
		ScanRadius: 6 #PREF: save trait looks up and scan armaments
	AutoTargetPriority@DEFAULT:
		ValidRelationships: Enemy, Ally
	AutoTargetPriority@ATTACKANYTHING:
		ValidRelationships: Enemy, Ally
	-Rearmable:
	Health:
		HP: 10000
	DroneSpawnerSlave:
		AttackCallBackDistance: 12c0

SCRINCOUNCIL:
	Inherits: ^CombatHelicopter
	Inherits@1: ^ScrinAircraftGeneric
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveWithBerserkable
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Building
	Inherits@COMMANDO: ^BossIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^11CellVision
	Valued:
		Cost: 35000
	Tooltip:
		Name: scrincouncil-name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Air.Shared, Air.Scrin
		Description: scrincouncil-desc
		BuildPaletteOrder: 29
		Prerequisites: ~player.scr, ~scrair, scradvpowr, ~techlevel.6, ~campaignunit
		BuildLimit: 1
		BuildDuration: 7000
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 2
		Prerequisites: AIOnly
	Selectable:
		Bounds: 2709,3135, 0,-1280
	Targetable@Essence:
		TargetTypes: ScrinUnit
	-WithMindControlArc:
	-MindControllable:
	-Targetable@MC:
	-WithDecoration@mindcontrolled:
	-IssueOrderToBot@AISell:
	AnnounceOnSeen:
		PingRadar: true
		Notification: BattleCruiserDetected
		TextNotification: notification-scrin-boss
	Aircraft:
		AltitudeVelocity: 180
		TurnSpeed: 20
		Speed: 40
		Repulsable: true
		IdealSeparation: 1920
		MoveIntoShroud: true
	-Rearmable:
	Health:
		HP: 400000
	Armor@Boss:
		Type: Boss
	DroneSpawnerMaster:
		Actors: COUNCILOR, COUNCILOR, COUNCILOR, COUNCILOR
		SpawnOffset: 0,0,0,0,0,0,0,0,0,0,0,0
		GatherCell: 0,0,0,0,0,0,0,0 #-1, 1, -1,-1, 1,1, 1, -1
		LinkToParent: true
	## AA Target Weapon
	Armament@AA:
		Weapon: AIGlyder1AimingDummyWeapon
		Name: secondary
	## Main Target Weapon. This will make Scrin Council fire its weapon and try get closer when firing
	Armament@PRIMARY1:
		Weapon: CouncilazerAimingDummyWeaponFar
		Name: primary
		ReloadingCondition: moveclose
		RequiresCondition: !moveclose
	Armament@PRIMARY2:
		Weapon: CouncilazerAimingDummyWeaponClose
		Name: primary
	GrantConditionOnAttack@NormalWeapon:
		Condition: NormalAttack
		ArmamentNames: primary
		RevokeDelay: 51
	WithIdleOverlay@NormalWeaponMuzzle:
		Offset: 0,0,-1128
		Sequence: muzzle
		Palette: jascpurplealpha
		RequiresCondition: NormalAttack
		IsDecoration: true ## so this doesn't affect by cloak palette
	PeriodicExplosion@NormalWeapon: ## Use PeriodicExplosion for Reload modifier
		LocalOffset: 0,0,-1128
		Weapon: CouncilazerElevator
		RequiresCondition: NormalAttack
	## Superweapon
	Armament@SuperWeapon:
		Name: super
		Weapon: TearingReality
	GrantConditionOnAttack@muzzle-sup:
		Condition: SuperAttack
		ArmamentNames: super
		RevokeDelay: 200
	WithIdleOverlay@SuperWeaponMuzzle:
		Offset: 0,0,1000
		Image: scrintele
		Sequence: loop
		Palette: jascbluealpha
		RequiresCondition: SuperAttack
		IsDecoration: true ## so this doesn't affect by cloak palette
	ProvidesPrerequisite@Super:
		Prerequisite: CouncilExists
		ResetOnOwnerChange: true
	FireArmamentPower:
		Cursor: emp
		AllowMultiple: true
		Icons:
			1: councilicon
		IconPalette: chromescrin
		ChargeInterval: 5000
		ArmamentName: super
		Names:
			1: superweapon-tearreal-name
		Descriptions:
			1: superweapon-tearreal-desc
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		SelectTargetSound: speech-nod|00-i042.aud
		Prerequisites:
			1: CouncilExists
		OrderName: TearingReality
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	AttackAircraft:
		Voice: Attack
		FacingTolerance: 512
		Armaments: primary, secondary
	RevealOnFire:
		ArmamentNames: primary
	AutoTarget:
		ScanRadius: 9
	BodyOrientation:
		QuantizedFacings: 32
	SpawnHuskEffectOnDeath:
		Weapon: scrincouncil.husk
		RequiresCondition: airborne
	VoiceAnnouncementOnProductionExit:
		Voice: Build
	DeathSounds:
	Voiced:
		VoiceSet: Battlecruiser
	MustBeDestroyed:
		RequiredForShortGame: true
	ActorStatValues:
		Damage: 720
		Armaments: primary, secondary
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MinRange, None, MaxRange

COUNCILOR:
	Inherits: ^InvisibleDronePlane
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@VISION: ^3CellVision
	Tooltip:
		Name: councilor-name
	HasParent:
	Hovers@CRUISING:
		BobDistance: -1100
		InitialHeight: 1100
		Ticks: 25
	Aircraft:
		Repulsable: true
		TurnSpeed: 1023
		Speed: 210
		AltitudeVelocity: 180
		RepulsionSpeed: 128
		CanSlide: true
		VTOL: true
		-AirborneCondition:
		MoveIntoShroud: true
		CruiseAltitude: 3c512
		IdleTurnSpeed: 64
		IdleSpeed: 128
		IdealSeparation: 512
		TakeUpCellWhenLand: false
	Armament@PRIMARY:
		Weapon: CouncilorPlasma
		LocalOffset: 0,0,0, 0,0,0
		LocalYaw: -168, 168
		ReloadingCondition: reloading
		PauseOnCondition: !ammo
	Armament@AA:
		Weapon: CouncilorZap
		ReloadingCondition: reloading
		PauseOnCondition: !ammo
	AttackAircraft:
		AttackType: Hover
		FacingTolerance: 1024
		PersistentTargeting: false
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Count: 1
		Delay: 100
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
		InitialStance: Defend
		InitialStanceAI: Defend
	RejectsOrders:
	RenderSprites:
		Palette: gensmkexploFpurple
	Cloak@CLOAKGENERATOR:
		CloakStyle: None
	WithFacingSpriteBody:
		RequiresCondition: !reloading
	BodyOrientation:
		QuantizedFacings: 1
	DroneSpawnerSlave:
		MovingCallBackCellDistance: 1
		AttackCallBackDistance: 0
	WithDisposedAnimation:
		RequiresCondition: !reloading
		Image: councilor
		Palette: gensmkexploFpurple

## AI's portal
ai_paradise_portal: 
	Inherits: ^SpriteActor
	Inherits: ^ConditionForEachFaction
	Building:
		Footprint: x
		Dimensions: 1, 1
	HiddenUnderFog:
		Type: CenterPosition
	Interactable:
		Bounds: 1024, 2048, 0, 0
	Tooltip:
		Name: ai_paradise_portal-name
	OwnerLostAction:
		Action: Dispose
	## Production
	Production:
		Produces: aiprotal
	GrantConditionOnPrerequisite@techtree-t2:
		Condition: allow-vehicle
		Prerequisites: techlevel.2
	GrantConditionOnPrerequisite@techtree-t3:
		Condition: allow-t3
		Prerequisites: techlevel.5
	GrantConditionAfterDelay@MidGame:
		ShowSelectionBar: false
		Condition: middlegame
		Delay: 3500
	GrantConditionAfterDelay@LateGame:
		ShowSelectionBar: false
		Condition: lategame
		Delay: 9000
	## Early game MCV and defensive units
	PeriodicProducer@1mcv:
		Actors: mcv
		Type: aiprotal
		ChargeDuration: 1200
		RequiresCondition: gdi && !middlegame
	PeriodicProducer@2mcv:
		Actors: nodmcv
		Type: aiprotal
		ChargeDuration: 1200
		RequiresCondition: nod && !middlegame
	PeriodicProducer@3mcv:
		Actors: mutmcv
		Type: aiprotal
		ChargeDuration: 1200
		RequiresCondition: mut && !middlegame
	PeriodicProducer@4mcv:
		Actors: cabmcv
		Type: aiprotal
		ChargeDuration: 1200
		RequiresCondition: cab && !middlegame
	PeriodicProducer@5mcv:
		Actors: drache, shark
		Type: aiprotal
		ChargeDuration: 1200
		RequiresCondition: scr && !middlegame
	PeriodicProducer@1early:
		Actors: mmch
		Type: aiprotal
		ChargeDuration: 650
		RequiresCondition: gdi && (!middlegame || !allow-vehicle)
	PeriodicProducer@2early:
		Actors: ttnk
		Type: aiprotal
		ChargeDuration: 650
		RequiresCondition: nod && (!middlegame || !allow-vehicle)
	PeriodicProducer@3early:
		Actors: lynx
		Type: aiprotal
		ChargeDuration: 650
		RequiresCondition: mut && (!middlegame || !allow-vehicle)
	PeriodicProducer@4early:
		Actors: centurion
		Type: aiprotal
		ChargeDuration: 650
		RequiresCondition: cab && (!middlegame || !allow-vehicle)
	PeriodicProducer@5early:
		Actors: corruptor
		Type: aiprotal
		ChargeDuration: 650
		RequiresCondition: scr && (!middlegame || !allow-vehicle)
	## T3 tough units
	PeriodicProducer@1t3:
		Actors: g4tnk
		Type: aiprotal
		ChargeDuration: 1300
		RequiresCondition: gdi && middlegame && allow-vehicle && (!lategame || !allow-t3)
	PeriodicProducer@2t3:
		Actors: avatar
		Type: aiprotal
		ChargeDuration: 1300
		RequiresCondition: nod && middlegame && allow-vehicle && (!lategame || !allow-t3)
	PeriodicProducer@3t3:
		Actors: weasau3
		Type: aiprotal
		ChargeDuration: 1300
		RequiresCondition: mut && middlegame && allow-vehicle && (!lategame || !allow-t3)
	PeriodicProducer@4t3:
		Actors: paladin
		Type: aiprotal
		ChargeDuration: 1300
		RequiresCondition: cab && middlegame && allow-vehicle && (!lategame || !allow-t3)
	PeriodicProducer@5t3:
		Actors: tripod
		Type: aiprotal
		ChargeDuration: 1300
		RequiresCondition: scr && middlegame && allow-vehicle && (!lategame || !allow-t3)
	## Epic units
	PeriodicProducer@1epic:
		Actors: hmec
		Type: aiprotal
		ChargeDuration: 4000
		RequiresCondition: gdi && lategame && allow-t3
	PeriodicProducer@2epic:
		Actors: scorpion
		Type: aiprotal
		ChargeDuration: 4000
		RequiresCondition: nod && lategame && allow-t3
	PeriodicProducer@3epic:
		Actors: weasau
		Type: aiprotal
		ChargeDuration: 4000
		RequiresCondition: mut && lategame && allow-t3
	PeriodicProducer@4epic:
		Actors: bcoredef
		Type: aiprotal
		ChargeDuration: 4000
		RequiresCondition: cab && lategame && allow-t3
	PeriodicProducer@5epic:
		Actors: scrbattleship, mastermind
		Type: aiprotal
		ChargeDuration: 5000
		RequiresCondition: scr && lategame && allow-t3
	Exit@1:
		SpawnOffset: 0,0,0
		ExitCell: 1,1
		ExitDelay: 2
	Exit@2:
		SpawnOffset: 0,0,0
		ExitCell: -1,-1
		ExitDelay: 2
	Exit@3:
		SpawnOffset: 0,0,0
		ExitCell: 0,-1
		ExitDelay: 2
	Exit@4:
		SpawnOffset: 0,0,0
		ExitCell: 0,1
		ExitDelay: 2
	Exit@5:
		SpawnOffset: 0,0,0
		ExitCell: 1,-1
		ExitDelay: 2
	Exit@6:
		SpawnOffset: 0,0,0
		ExitCell: -1,0
		ExitDelay: 2
	Exit@7:
		SpawnOffset: 0,0,0
		ExitCell: 1, 0
		ExitDelay: 2
	Exit@8:
		SpawnOffset: 0,0,0
		ExitCell: -1, 1
		ExitDelay: 2
	RenderSprites:
		Image: ai_bluewarp
		Palette: effect
	WithSpriteBody:
		Sequence: dot
	WithIdleOverlay@cab1:
		Sequence: overlay
		Palette: gensmkexplojFblue
		RequiresCondition: cab
	WithIdleOverlay@cab2:
		Sequence: idle
		Palette: gensmkexplojFblue
		RequiresCondition: cab
	WithProductionDoorOverlaySP@cab:
		Sequence: door
		Palette: gensmkexplojFblue
		ZOffsetModifierWhenProduce: 1024
		RequiresCondition: cab
	WithIdleOverlay@scr1:
		Sequence: overlay
		Palette: gensmkexploFpurple
		RequiresCondition: scr
	WithIdleOverlay@scr2:
		Sequence: idle
		Palette: gensmkexploFpurple
		RequiresCondition: scr
	WithProductionDoorOverlaySP@scr:
		Sequence: door
		Palette: gensmkexploFpurple
		ZOffsetModifierWhenProduce: 1024
		RequiresCondition: scr
	WithIdleOverlay@nod1:
		Sequence: overlay
		Palette: gensmkexplojFred
		RequiresCondition: nod
	WithIdleOverlay@nod2:
		Sequence: idle
		Palette: gensmkexplojFred
		RequiresCondition: nod
	WithProductionDoorOverlaySP@nod:
		Sequence: door
		Palette: gensmkexplojFred
		ZOffsetModifierWhenProduce: 1024
		RequiresCondition: nod
	WithIdleOverlay@gdi1:
		Sequence: overlay
		Palette: gensmkexploFcyan
		RequiresCondition: gdi
	WithIdleOverlay@gdi2:
		Sequence: idle
		Palette: gensmkexploFcyan
		RequiresCondition: gdi
	WithProductionDoorOverlaySP@gdi:
		Sequence: door
		Palette: gensmkexploFcyan
		ZOffsetModifierWhenProduce: 1024
		RequiresCondition: gdi
	WithIdleOverlay@mut1:
		Sequence: overlay
		Palette: gensmkexplogreen
		RequiresCondition: mut
	WithIdleOverlay@mut2:
		Sequence: idle
		Palette: gensmkexplogreen
		RequiresCondition: mut
	WithProductionDoorOverlaySP@mut:
		Sequence: door
		Palette: gensmkexplogreen
		ZOffsetModifierWhenProduce: 1024
		RequiresCondition: mut
