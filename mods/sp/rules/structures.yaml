GAPOWR:
	Inherits: ^Powerplant
	Tooltip:
		Name: GDI Power Plant
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1
		Prerequisites: ~structures.gdi, ~techlevel.1
		Description: Provides power for other structures.
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	ProvidesPrerequisite@no-plug:
		Prerequisite: gapowr.pluggable
		RequiresCondition: !powrup.a
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	WithIdleOverlay@PLUG:
		RequiresCondition: !Building-Buildup
		Sequence: idle-plug
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	Pluggable@pluga:
		Conditions:
			powrup: powrup.a
		EditorOptions:
			powrup: Power Turbine
	Power@pluga:
		RequiresCondition: powrup.a
		Amount: 100
	WithIdleOverlay@pluga:
		RequiresCondition: powrup.a
		Sequence: idle-powrupa
	WithIdleOverlay@plugb:
		RequiresCondition: powrup.a
		Sequence: idle-powrupb
	RequiresBuildableArea:
		AreaTypes: building

GAPILE:
	Inherits: ^Barracks
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: GDI Barracks
	Buildable:
		Queue: Building
		BuildPaletteOrder: 6
		Description: Arms Infantry.\n\nSpecial:\n- Heals infantry in an area around it.\n- Maximum production speed is reached with 7 barracks.\n- Max production speed reduces production time by 50%.
		Prerequisites: anypower, ~structures.gdi, ~techlevel.1
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Exit@1:
		SpawnOffset: -512,768,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -512,768,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	WithProductionOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithProductionOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights-bright
		Palette: bright
	WithIdleOverlay@LIGHT-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-light-bright
		Palette: bright
	WithIdleOverlay@FLAG:
		RequiresCondition: !Building-Buildup
		Sequence: idle-flag
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building

GDIREF:
	Inherits: ^Refinery
	Tooltip:
		Name: GDI Refinery
	Buildable:
		Queue: Building
		BuildPaletteOrder: 11
		Prerequisites: anypower, ~structures.gdi, ~techlevel.1, ~AIantiRush, ~!global-megawealth
		Description: Processes raw Tiberium into useable resources.\nCan be rotated.\n\nSpecial:\n- Stores 1000$.
	FreeActor:
		Actor: harv
	-WithIdleOverlay@REDLIGHTS:
	PlaceBuildingVariants:
		Actors: gdiref3, gdiref2, gdiref4
		Facings: 384, 640, 896, 128
	IsometricSelectable:
		Class: GDIREF

GDIREF2:
	Inherits: ^FlippedRefinery
	Tooltip:
		Name: GDI Refinery
	FreeActor:
		Actor: harv
	-WithIdleOverlay@REDLIGHTS:
	IsometricSelectable:
		Class: GDIREF
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: gdiref

GDIREF3:
	Inherits: ^FlippedXRefinery
	Tooltip:
		Name: GDI Refinery
	FreeActor:
		Actor: harv
	-WithIdleOverlay@REDLIGHTS:
	IsometricSelectable:
		Class: GDIREF
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: gdiref

GDIREF4:
	Inherits: ^FlippedYRefinery
	Tooltip:
		Name: GDI Refinery
	FreeActor:
		Actor: harv
	-WithIdleOverlay@REDLIGHTS:
	IsometricSelectable:
		Class: GDIREF
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: gdiref

GAWEAP:
	Inherits: ^Factory
	Tooltip:
		Name: GDI War Factory
	Buildable:
		Queue: Building
		BuildPaletteOrder: 16
		Description: Produces vehicles.\n\nSpecial:\n- Maximum production speed is reached with 4 factories.\n- Max production speed reduces production time by 50%.
		Prerequisites: proc, ~structures.gdi, ~techlevel.2
	ProvidesPrerequisite@ShowMammMkII:
		Prerequisite: showmammmk2
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlay@DOOR:
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@WHITELIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights-white
		Palette: player-nobright
		IsPlayerPalette: True
	WithProductionOverlay@WHITELIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights-white-bright
		Palette: bright
	WithProductionOverlay@REDLIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights-red
		Palette: player-nobright
		IsPlayerPalette: True
	WithProductionOverlay@REDLIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights-red-bright
		Palette: bright
	WithIdleOverlay@TURBINES:
		Sequence: idle-turbines
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	IsometricSelectable:
		DecorationHeight: 36

GARADR:
	Inherits: ^Radar
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: GDI Radar
	Buildable:
		Queue: Building
		BuildPaletteOrder: 26
		Description: Provides an overview of the battlefield and provides the Spy Satellite ability.\n\nSpecial:\n- Provides minimap\n- Stealth detection\n- Provides Spy Satellite\n- Requires power to operate
		Prerequisites: proc, ~structures.gdi, ~techlevel.4
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		PauseOnCondition: disabled
		RequiresCondition: !Building-Buildup
	SpawnActorPower:
		OrderName: GDIRadarScan
		Icons:
			1: GDIradarscan
	IsometricSelectable:
		DecorationHeight: 72

GAHPAD:
	Inherits: ^Helipad
	Tooltip:
		Name: GDI Helipad
	Buildable:
		BuildPaletteOrder: 36
		Queue: Building
		Description: Produces and rearms aircraft.\n\nSpecial:\n- Maximum production speed is reached with 7 helipads.
		Prerequisites: garadr, ~structures.gdi, ~techlevel.4
	Valued:
		Cost: 500
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Exit@1:
		Facing: 896
	WithIdleOverlay@PLATFORM:
		RequiresCondition: !Building-Buildup
		Sequence: idle-platform
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	WithDeathAnimation@BIB:
		DeathSequence: dead-platform
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@airhuman:
		Prerequisite: air.human
	RequiresBuildableArea:
		AreaTypes: building

GATECH:
	Inherits: ^TechCenter
	Inherits@SHAPE: ^3x2Shape
	Tooltip:
		Name: GDI Tech Center
	Buildable:
		Queue: Building
		BuildPaletteOrder: 41
		Description: Provides access to advanced GDI technologies.
		Prerequisites: garadr, ~structures.gdi, ~techlevel.5
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	WithIdleOverlay@LIGHTS:
		Sequence: idle-lights
		RequiresCondition: !Building-Buildup
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 36

GTDROP:
	Inherits: ^Building
	Inherits@1: ^SuperWeapon
	Inherits@2: ^HasSuperSupportPower
	Inherits@SHAPE: ^3x3Shape
	Tooltip:
		Name: Dropship Bay
	Buildable:
		Queue: Building
		BuildPaletteOrder: 46
		Prerequisites: gatech, ~structures.gdi, ~techlevel.6
		BuildLimit: 1
		Description: Staging area for drop pod assault.\n\nSpecial:\n- Provides access to Helldiver Drop support\n- Produces the Mammoth Mk. II\n- Requires power to operate
	Valued:
		Cost: 2500
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: true
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@ShowMammMkII:
		Prerequisite: showmammmk2
	NukePower:
		Prerequisites:
			1: gtdrop
		Icons:
			1: droppods
		Names:
			1: Helldiver Drop
		Descriptions:
			1: Deploys shock troopers at the targetted location.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		OrderName: Droppod
		MissileWeapons:
			1: DroppodSpawner
		ChargeInterval: 6000
		CircleRanges:
			1: 6c0
		CameraRange: 7c0
		CameraSpawnAdvance: 0 ## need to be earlier than hit time
		CameraRemoveDelay: 200
	Health:
		HP: 150000
	RequiresBuildableArea:
		AreaTypes: building
	RallyPoint:
		Path: 4,4
	Exit@1:
		SpawnOffset: 350,450,0 #-280,400,0
		ExitCell: 2,2
		ProductionTypes: Mammoth, Vehicle
	ProductionAirdrop:
		Produces: Vehicle, Mammoth
		ActorType: dshp
		ReadyAudio: UnitReady
	GrantExternalConditionToProduced:
		Condition: produced
	Power:
		Amount: -200

NODYARD:
	Inherits: GACNST
	Buildable:
		BuildPaletteOrder: 997
	Tooltip:
		Name: Nod Construction Yard
	Transforms:
		IntoActor: nodmcv
		Offset: 1,1
		Facing: 384
		DeployCursor: undeploy
		PauseOnCondition: empdisable
	-WithIdleOverlay@TOP:
	-WithIdleOverlay@TOP-BRIGHT:
	-WithIdleOverlay@SIDE:
	-WithIdleOverlay@FRONT:
	-WithIdleOverlay@FRONT-BRIGHT:
	-WithMakeOverlay@MAKE-BRIGHT:
	-WithBuildingPlacedOverlay:
	-ProvidesPrerequisite@structureswall:
	ProvidesPrerequisite@faction:
		Prerequisite: structures.nod
	ProvidesPrerequisite@grantself:
		Factions: gdi, nod, cab, mut, scr

NAPOWR:
	Inherits: ^Powerplant
	Tooltip:
		Name: Nod Power Plant
	Buildable:
		Queue: Building
		BuildPaletteOrder: 2
		Description: Provides power for other structures.
		Prerequisites: ~structures.nod, ~techlevel.1
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	RequiresBuildableArea:
		AreaTypes: building

NAHAND:
	Inherits: ^Barracks
	Inherits@SHAPE: ^3x2Shape
	Tooltip:
		Name: Hand of Nod
	Buildable:
		Queue: Building
		BuildPaletteOrder: 6
		Description: Arms Infantry.\n\nSpecial:\n- Heals infantry in an area around it.\n- Maximum production speed is reached with 7 barracks.\n- Max production speed reduces production time by 50%.
		Prerequisites: anypower, ~structures.nod, ~techlevel.1
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Exit@1:
		SpawnOffset: 384,768,0
		ExitCell: 2,2
		Priority: 2
	Exit@2:
		SpawnOffset: 384,768,0
		ExitCell: 3,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 384,768,0
		ExitCell: 1,2
	Exit@fallback2:
		SpawnOffset: 384,768,0
		ExitCell: 3,1
	Exit@fallback3:
		SpawnOffset: 1086,362,0
		ExitCell: 3,0
	Exit@fallback4:
		SpawnOffset: 1086,362,0
		ExitCell: 3,-1
	Exit@fallback5:
		SpawnOffset: 1086,362,0
		ExitCell: 2,-1
	Exit@fallback6:
		SpawnOffset: 362,-362,0
		ExitCell: 1,-1
	Exit@fallback7:
		SpawnOffset: -362,-1086,0
		ExitCell: 0,-1
	Exit@fallback8:
		SpawnOffset: -362,-1086,0
		ExitCell: -1,-1
	Exit@fallback9:
		SpawnOffset: -362,-1086,0
		ExitCell: -1,0
	Exit@fallback10:
		SpawnOffset: -1086,-362,0
		ExitCell: -1,1
	Exit@fallback11:
		SpawnOffset: -1086,-362,0
		ExitCell: -1,2
	Exit@fallback12:
		SpawnOffset: -1086,-362,0
		ExitCell: 0,2
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	WithProductionOverlay@LIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: production-light-bright
		Palette: bright
	RequiresBuildableArea:
		AreaTypes: building

NODREF:
	Inherits: ^Refinery
	Tooltip:
		Name: Nod Refinery
	Buildable:
		Queue: Building
		BuildPaletteOrder: 12
		Prerequisites: anypower, ~structures.nod, ~techlevel.1, ~AIantiRush, ~!global-megawealth
		Description: Processes raw Tiberium into useable resources.\nCan be rotated.\n\nSpecial:\n- Stores 1000$.
	FreeActor:
		Actor: harv.nod
	-WithIdleOverlay@REDLIGHTS:
	PlaceBuildingVariants:
		Actors: nodref3, nodref2, nodref4
		Facings: 384, 640, 896, 128
	IsometricSelectable:
		Class: NODREF

NODREF2:
	Inherits: ^FlippedRefinery
	Tooltip:
		Name: Nod Refinery
	-WithIdleOverlay@REDLIGHTS:
	FreeActor:
		Actor: harv.nod
	IsometricSelectable:
		Class: NODREF
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: nodref

NODREF3:
	Inherits: ^FlippedXRefinery
	Tooltip:
		Name: Nod Refinery
	-WithIdleOverlay@REDLIGHTS:
	FreeActor:
		Actor: harv.nod
	IsometricSelectable:
		Class: NODREF
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: nodref

NODREF4:
	Inherits: ^FlippedYRefinery
	Tooltip:
		Name: Nod Refinery
	-WithIdleOverlay@REDLIGHTS:
	FreeActor:
		Actor: harv.nod
	IsometricSelectable:
		Class: NODREF
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: nodref

NAWEAP:
	Inherits: ^Factory
	Tooltip:
		Name: Nod War Factory
	ProvidesPrerequisite@ShowLightbringer:
		Prerequisite: showlightbringer
	Buildable:
		Queue: Building
		BuildPaletteOrder: 17
		Description: Produces vehicles.\n\nSpecial:\n- Maximum production speed is reached with 4 factories.\n- Max production speed reduces production time by 50%.
		Prerequisites: proc, ~structures.nod, ~techlevel.2
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlay@DOOR:
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithProductionOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights-bright
		Palette: bright
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup

NARADR:
	Inherits: ^Radar
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: Nod Radar
	Buildable:
		Queue: Building
		BuildPaletteOrder: 27
		Description: Provides an overview of the battlefield and provides the Spy Satellite ability.\n\nSpecial:\n- Provides minimap\n- Stealth detection\n- Provides Spy Satellite\n- Requires power to operate
		Prerequisites: proc, ~structures.nod, ~techlevel.4
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		PauseOnCondition: disabled
		RequiresCondition: !Building-Buildup
	SpawnActorPower:
		OrderName: NodRadarScan
		Icons:
			1: NODradarscan
	IsometricSelectable:
		DecorationHeight: 48

NAAPWR:
	Inherits: ^Powerplant
	Inherits@SHAPE: ^2x3Shape
	Tooltip:
		Name: Advanced Power Plant
	Buildable:
		Queue: Building
		BuildPaletteOrder: 32
		Description: Provides more power than the standard powerplant\nusing less space.
		Prerequisites: naradr, ~structures.nod, ~techlevel.4
	Valued:
		Cost: 700
	Building:
		Footprint: xxx xxx
		Dimensions: 2,3
	Health:
		HP: 100000
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	Power:
		Amount: 300
	RequiresBuildableArea:
		AreaTypes: building
	ProvidesPrerequisite@napowr:
		Prerequisite: napowr

NAHPAD:
	Inherits: ^Helipad
	Tooltip:
		Name: Nod Helipad
	Buildable:
		BuildPaletteOrder: 37
		Queue: Building
		Description: Produces and rearms aircraft.\n\nSpecial:\n- Maximum production speed is reached with 7 helipads.\n- Max production speed reduces production time by 50%.
		Prerequisites: naradr, ~structures.nod, ~techlevel.4
	Valued:
		Cost: 500
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Exit@1:
		Facing: 128
	PrimaryBuilding:
	WithIdleOverlay@PLATFORM:
		Sequence: idle-platform
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	WithDeathAnimation@BIB:
		DeathSequence: dead-platform
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@airhuman:
		Prerequisite: air.human
	RequiresBuildableArea:
		AreaTypes: building

NATECH:
	Inherits: ^TechCenter
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: Nod Tech Center
	Buildable:
		Queue: Building
		BuildPaletteOrder: 42
		Description: Provides access to advanced Nod technologies.
		Prerequisites: naradr, ~structures.nod, ~techlevel.5
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	RequiresBuildableArea:
		AreaTypes: building

NAHFAC:
	Inherits: ^Factory
	Tooltip:
		Name: Lightbringer's Altar
	Valued:
		Cost: 2500
	ProvidesPrerequisite@ShowLightbringer:
		Prerequisite: showlightbringer
	ProvidesPrerequisite@naweap:
		Prerequisite: naweap
	Buildable:
		Queue: Building
		BuildPaletteOrder: 47
		Description: Produces vehicles, including the Lightbringer.\n\nSpecial:\n- Maximum production speed is reached with 4 factories\n- Max production speed reduces production time by 50%\n- Buildlimit: 1\n- Spawns Templar when sold
		Prerequisites: natech, ~structures.nod, ~techlevel.6
		BuildLimit: 1
	Health:
		HP: 200000
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@FAN:
		Sequence: idle-fan
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlay@DOOR:
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights
	WithProductionOverlay@LIGHTS2:
		RequiresCondition: !Building-Buildup
		Sequence: production-lights2
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	Exit@1:
		ProductionTypes: Vehicle, Tank, Lightbringer
	Production:
		Produces: Vehicle, Tank, Lightbringer
	Power:
		Amount: -100
	SpawnActorsOnSell@nod:
		ValuePercent: 30
		ActorTypes: templar
	IsometricSelectable:
		DecorationHeight: 96

NAMISL:
	Inherits: ^Building
	Inherits@1: ^SuperWeapon
	Inherits@2: ^HasMisslePower
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: Chemical Missile Silo
	Buildable:
		Queue: Building
		BuildPaletteOrder: 47
		Prerequisites: natech, ~structures.nod, ~techlevel.6
		Description: Provides access to Nod´s Chemical Missiles.\n\nSpecial:\n- Provides access to the Chemical Missile\n- Requires power to operate
		BuildLimit: 1
	Valued:
		Cost: 2500
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	ToggleConditionOnOrder:
		DisabledSpeech: EnablePower
		EnabledSpeech: DisablePower
		Condition: powerdown
		OrderName: PowerDown
	ProvidesPrerequisite@buildingname:
	NukePower:
		Prerequisites:
			1: namisl
		Icons:
			1: toxinmissile
		ChargeInterval: 4500
		Names:
			1: Chemical Missile
		Descriptions:
			1: Launches a warhead filled with tiberium,\nit spawns gas clouds and radiates the area.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		MissileWeapons:
			1: ToxinMissile
		MissileImage: ToxinMissile
		MissileDelay: 18
		FlightDelay: 100
		DisplayTimerRelationships: Ally, Neutral, Enemy
		SpawnOffset: 0, 0c128, 0c512
		BeaconPosters:
			1: minichemicon
		ArrowSequence: arrow
		MissilePalette: player
		IconPalette: chem
		BeaconPosterPalette: chem
		IsPlayerPalette: true
		OrderName: ToxinMissile
		CameraRange: 7c0
		CircleRanges:
			1: 5c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
		PauseOnCondition: empdisable || disabled
		TrailImage: meteortrail
		TrailPalette: effectalpha
		TrailSequences: idle3
	Health:
		HP: 150000
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: mouse
		RequiresCondition: powerdown
		Position: Center
	RequiresBuildableArea:
		AreaTypes: building
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0
	WithSupportPowerActivationOverlay:
		Palette: player-nobright
		IsPlayerPalette: True
	WithSupportPowerActivationOverlay@BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	Power:
		Amount: -200

MUTYARD:
	Inherits: GACNST
	Inherits@RENDER: ^MutRenderBuilding
	Buildable:
		BuildPaletteOrder: 998
	Tooltip:
		Name: Mutant Construction Yard
	Transforms:
		IntoActor: mutmcv
		Offset: 1,1
		Facing: 640
		DeployCursor: undeploy
		PauseOnCondition: empdisable
	-WithIdleOverlay@TOP:
	-WithIdleOverlay@TOP-BRIGHT:
	-WithIdleOverlay@SIDE:
	-WithIdleOverlay@FRONT:
	-WithIdleOverlay@FRONT-BRIGHT:
	-WithMakeOverlay@MAKE-BRIGHT:
	-WithBuildingPlacedOverlay:
	ProvidesPrerequisite@faction:
		Prerequisite: structures.mut
	ProvidesPrerequisite@grantself:
		Factions: gdi, nod, cab, mut, scr

MUPOWR:
	Inherits: ^Powerplant
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: Mutant Power Plant
	Buildable:
		Queue: Building
		BuildPaletteOrder: 3
		Description: Provides power for other structures.
		Prerequisites: ~structures.mut, ~techlevel.1
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	WithIdleOverlay@LIGHTS:
		Sequence: idle-lights
		RequiresCondition: !Building-Buildup
	RequiresBuildableArea:
		AreaTypes: building

MURAX:
	Inherits: ^Barracks
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 7
		Description: Arms Infantry.\n\nSpecial:\n- Heals infantry in an area around it.\n- Maximum production speed is reached with 7 barracks.\n- Max production speed reduces production time by 50%.
		Prerequisites: anypower, ~structures.mut, ~techlevel.1
	Tooltip:
		Name: Mutant Armory
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	ProvidesPrerequisite:
		Prerequisite: murax
	Exit@1:
		SpawnOffset: -362,1086,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -1086,362,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 36

MUPROC:
	Inherits: ^Refinery
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: Mutant Refinery
	Buildable:
		Queue: Building
		BuildPaletteOrder: 13
		Prerequisites: anypower, ~structures.mut, ~techlevel.1, ~AIantiRush, ~!global-megawealth
		IconPalette: UnittemIconMut
		Description: Processes raw Tiberium into useable resources.\nCan be rotated.\n\nSpecial:\n- Stores 1000$.
	FreeActor:
		Actor: harv.mut
	-WithIdleOverlay@REDLIGHTS:
	Cloak@CLOAKGENERATOR:
		Palette: cloakmut
	WithDeathAnimation:
		DeathSequencePalette: playermut
		CrushedSequencePalette: playermut
		CrushedPaletteIsPlayerPalette: true
	PlaceBuildingVariants:
		Actors: muproc3, muproc2, muproc4
		Facings: 384, 640, 896, 128
	IsometricSelectable:
		Class: MUPROC

MUPROC2:
	Inherits: ^FlippedRefinery
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: Mutant Refinery
	FreeActor:
		Actor: harv.mut
	-WithIdleOverlay@REDLIGHTS:
	IsometricSelectable:
		Class: MUPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconMut
		TooltipActor: muproc

MUPROC3:
	Inherits: ^FlippedXRefinery
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: Mutant Refinery
	FreeActor:
		Actor: harv.mut
	-WithIdleOverlay@REDLIGHTS:
	IsometricSelectable:
		Class: MUPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconMut
		TooltipActor: muproc

MUPROC4:
	Inherits: ^FlippedYRefinery
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: Mutant Refinery
	FreeActor:
		Actor: harv.mut
	-WithIdleOverlay@REDLIGHTS:
	IsometricSelectable:
		Class: MUPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconMut
		TooltipActor: muproc

MUWEAP:
	Inherits: ^Factory
	Tooltip:
		Name: Mutant War Factory
	Buildable:
		Queue: Building
		BuildPaletteOrder: 18
		Description: Produces vehicles.\n\nSpecial:\n- Maximum production speed is reached with 4 factories.\n- Max production speed reduces production time by 50%.
		Prerequisites: proc, ~structures.mut, ~techlevel.2
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlay@DOOR:
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup

MURADR:
	Inherits: ^Radar
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: Mutant Radar
	Buildable:
		Queue: Building
		Description: Provides an overview of the battlefield and provides the Spy Satellite ability.\n\nSpecial:\n- Provides minimap\n- Stealth detection\n- Provides Spy Satellite\n- Requires power to operate
		BuildPaletteOrder: 28
		Prerequisites: proc, ~structures.mut, ~techlevel.4
	SpawnActorPower:
		OrderName: MutantRadarScan
		Icons:
			1: MUTradarscan
	IsometricSelectable:
		DecorationHeight: 48

MUAIR:
	Inherits: ^Helipad
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: Mutant Helipad
	Valued:
		Cost: 500
	Buildable:
		BuildPaletteOrder: 38
		Queue: Building
		Description: Produces and rearms aircraft.\n\nSpecial:\n- Maximum production speed is reached with 7 helipads.\n- Max production speed reduces production time by 50%.
		Prerequisites: muradr, ~structures.mut, ~techlevel.4
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Exit@1:
		Facing: 0
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@airhuman:
		Prerequisite: air.human
	RequiresBuildableArea:
		AreaTypes: building

MUHALL:
	Inherits: ^TechCenter
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@SHAPE: ^3x4Shape
	Tooltip:
		Name: Forgotten Hall
	Buildable:
		Queue: Building
		BuildPaletteOrder: 43
		Description: Provides access to contact with Forgotten Leaders.
		Prerequisites: muradr, ~structures.mut, ~techlevel.5
	Building:
		Footprint: xxx xxx xxx xxx
		Dimensions: 3,4
	RequiresBuildableArea:
		AreaTypes: building

MUTSW2:
	Inherits: ^Building
	Inherits@1: ^SuperWeapon
	Inherits@2: ^HasSuperSupportPower
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Tooltip:
		Name: Mother Veinhole
	Buildable:
		Queue: Building
		BuildPaletteOrder: 48
		Prerequisites: muhall, ~structures.mut, ~techlevel.6
		Description: With this structure Mutant commanders are able to summon veinhole monster.\n\nSpecial:\n- Provides access to Veinhole Monsters.\n- Requires power to operate.
		BuildLimit: 1
	Valued:
		Cost: 2500
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	ProvidesPrerequisite@buildingname:
	NukePower:
		Prerequisites:
			1: mutsw2
		MissileWeapons:
			1: VeinholeSummonerWeapon
		Icons:
			1: veinholesw
		ChargeInterval: 4500
		OrderName: Veinhole
		CircleRanges:
			1: 8c0
		Names:
			1: Veinhole Spawn
		Descriptions:
			1: Spawns a cluster of veinholes\non the targetted location.\nVeinholes spawn gas clouds, radiation, and tiberian crabs.\nThey also provide vision.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		CameraRange: 7c0
		CameraSpawnAdvance: 25 #Not working due to this
		CameraRemoveDelay: 350
	Health:
		HP: 150000
	RequiresBuildableArea:
		AreaTypes: building
	Power:
		Amount: -200

drached:
	Inherits: GACNST
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Buildable:
		BuildPaletteOrder: 1000
	Tooltip:
		Name: Scrin Host Station
	Transforms:
		IntoActor: drache
		Offset: 1,1
		Facing: 384
		DeployCursor: undeploy
	ProvidesPrerequisite@12321:
		Prerequisite: scrinstuff
		Factions: scr
		ResetOnOwnerChange: true
	-WithIdleOverlay@TOP:
	-WithIdleOverlay@TOP-BRIGHT:
	-WithIdleOverlay@SIDE:
	-WithIdleOverlay@FRONT:
	-WithIdleOverlay@FRONT-BRIGHT:
	-WithMakeOverlay@MAKE-BRIGHT:
	-WithBuildingPlacedOverlay:
	-ProvidesPrerequisite@structureshuman:
	ProvidesPrerequisite@faction:
		Prerequisite: structures.scr
	ProvidesPrerequisite@grantself:
		Factions: gdi, nod, cab, mut, scr
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRPOWR:
	Inherits: ^Powerplant
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^3x2Shape
	Tooltip:
		Name: Scrin Generator
	Buildable:
		Queue: Building
		BuildPaletteOrder: 5
		Description: Provides power for other structures.
		Prerequisites: ~structures.scr, ~techlevel.1
	Valued:
		Cost: 400
	Building:
		Footprint: xx xx xx
		Dimensions: 3,2
	Health:
		HP: 65000
	Power:
		Amount: 150
	RequiresBuildableArea:
		AreaTypes: building
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRRAX:
	Inherits: ^Barracks
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: Landing Zone
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Description: Calls down Infantry.\n\nSpecial:\n- Heals infantry in an area around it.\n- Maximum production speed is reached with 7 barracks.\n- Max production speed reduces production time by 50%.
		Prerequisites: anypower, ~structures.scr, ~techlevel.1
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Exit@1:
		SpawnOffset: -640,640,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -640,640,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	WithIdleOverlay@ship:
		Sequence: ship
		RequiresCondition: !Building-Buildup
	Power:
		Amount: -20
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 36
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRPROC:
	Inherits: ^Refinery
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Tooltip:
		Name: Scrin Refinery
	Buildable:
		Queue: Building
		BuildPaletteOrder: 15
		Prerequisites: anypower, ~structures.scr, ~techlevel.1, ~AIantiRush, ~!global-megawealth
		Description: Processes raw Tiberium into useable resources.\nCan be rotated.\n\nSpecial:\n- Stores 4000$.
		IconPalette: UnittemIconScrin
	StoresResources:
		Capacity: 4000
	FreeActor:
		Actor: SCRHARV
	ProvidesPrerequisite@buildingname:
	-WithIdleOverlay@REDLIGHTS:
	-WithDockedOverlay@flame:
	PlaceBuildingVariants:
		Actors: scrproc3, scrproc2, scrproc4
		Facings: 384, 640, 896, 128
	IsometricSelectable:
		DecorationHeight: 24
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	IsometricSelectable:
		Class: SCRPROC

SCRPROC2:
	Inherits: ^FlippedRefinery
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Tooltip:
		Name: Scrin Refinery
	-WithIdleOverlay@REDLIGHTS:
	-WithDockedOverlay@flame:
	FreeActor:
		Actor: SCRHARV
	StoresResources:
		Capacity: 4000
	IsometricSelectable:
		DecorationHeight: 24
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	IsometricSelectable:
		Class: SCRPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconScrin
		TooltipActor: scrproc

SCRPROC3:
	Inherits: ^FlippedXRefinery
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Tooltip:
		Name: Scrin Refinery
	-WithIdleOverlay@REDLIGHTS:
	-WithDockedOverlay@flame:
	FreeActor:
		Actor: SCRHARV
	StoresResources:
		Capacity: 4000
	IsometricSelectable:
		DecorationHeight: 24
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	IsometricSelectable:
		Class: SCRPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconScrin
		TooltipActor: scrproc

SCRPROC4:
	Inherits: ^FlippedYRefinery
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Tooltip:
		Name: Scrin Refinery
	-WithIdleOverlay@REDLIGHTS:
	-WithDockedOverlay@flame:
	FreeActor:
		Actor: SCRHARV
	StoresResources:
		Capacity: 4000
	IsometricSelectable:
		DecorationHeight: 24
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	IsometricSelectable:
		Class: SCRPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconScrin
		TooltipActor: scrproc

SCRWEAP:
	Inherits: ^Factory
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Tooltip:
		Name: Scrin Forge
	ProvidesPrerequisite@actorname:
	Buildable:
		Queue: Building
		Description: Produces vehicles.\n\nSpecial:\n- Maximum production speed is reached with 4 factories.\n- Max production speed reduces production time by 50%.
		BuildPaletteOrder: 20
		Prerequisites: proc, ~structures.scr, ~techlevel.2
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithProductionOverlay@WHITELIGHTS:
		Sequence: production-lights-white
		RequiresCondition: !Building-Buildup
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRRADR:
	Inherits: ^Radar
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Tooltip:
		Name: Scrin Radar
	Buildable:
		Queue: Building
		BuildPaletteOrder: 30
		Description: Provides an overview of the battlefield and provides the Spy Satellite ability.\n\nSpecial:\n- Provides minimap\n- Stealth detection\n- Provides Spy Satellite\n- Requires power to operate
		Prerequisites: proc, ~structures.scr, ~techlevel.4
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		PauseOnCondition: disabled
		RequiresCondition: !Building-Buildup
	RequiresBuildableArea:
		AreaTypes: building
	SpawnActorPower:
		OrderName: ScrinRadarScan
		Icons:
			1: SCRradarscan
	IsometricSelectable:
		DecorationHeight: 48
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRAIR:
	Inherits: ^Helipad
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Inherits@AIbuilding: ^AIbuildingMicroControl
	Tooltip:
		Name: Stargate
	Buildable:
		BuildPaletteOrder: 40
		Description: Warps in warships from a nomad galaxy.\n\nSpecial:\n- Scrin Aircraft do not need to rearm.\n- Maximum production speed is reached with 7 helipads.\n- Max production speed reduces production time by 50%.
		Queue: Building
		Prerequisites: scrradr, ~structures.scr, ~techlevel.4
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Armor:
		Type: Building
	Exit@1:
		Facing: 640
		SpawnOffset: 0,-256,2300
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
		Path: 4,0
	Production:
		Produces: Air
	PrimaryBuilding:
		PrimaryCondition: primary
	-Reservable:
	WithIdleOverlay@PLATFORM:
		Sequence: idle-platform
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@LIGHTS:
		Sequence: idle-lights
		RequiresCondition: !Building-Buildup
	ProvidesPrerequisite@buildingname:
	WithTextDecoration@primary:
		Text: PRIMARY
		Position: Top
		Color: E0D048
		RequiresCondition: primary
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 72
	ProvidesPrerequisite@fixAIUndeployDracheBug:
		RequiresCondition: AIbuildingMicroControl
		Prerequisite: fixUndeployDracheBug
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRTECH:
	Inherits: ^TechCenter
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^2x3Shape
	Tooltip:
		Name: Scrin Laboratory
	Buildable:
		Queue: Building
		BuildPaletteOrder: 45
		Description: Provides samples to enable the Scrins most complex technologies.
		Prerequisites: scrradr, ~structures.scr, ~techlevel.5
	Valued:
		Cost: 2000
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

SCRADVPOWR:
	Inherits: ^Building
	Inherits@1: ^SuperWeapon
	Inherits@2: ^ScrinDeathExplo
	Inherits@3: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Inherits@AISupportPower: ^HasSuperSupportPower
	Inherits@AIbuilding: ^AIbuildingMicroControl
	Tooltip:
		Name: Wormhole Generator
	Buildable:
		Queue: Building
		BuildPaletteOrder: 50
		Prerequisites: scrtech, ~structures.scr, ~techlevel.6
		Description: Teleports infantry and vehicles to a selected area.\n\nSpecial:\n- Provides access to the Instant Wormhole support power.\n- Requires power to operate.
		BuildLimit: 1
	Valued:
		Cost: 2500
	ProvidesPrerequisite:
		Prerequisite: scradvpowr
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	WithIdleOverlay@LIGHTS:
		Sequence: idle-lights
		RequiresCondition: !Building-Buildup
	ChronoshiftPower@chronoshift:
		RequiresCondition: !AIbuildingMicroControl
		OrderName: Chronoshift
		PauseOnCondition: empdisable || disabled
		Prerequisites:
			1: scradvpowr
		Icons:
			1: wormholeicon
		IconPalette: playerscrin
		ChargeInterval: 6000
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		EndChargeTextNotification: Commander, our superweapon is online.
		Names:
			1: Instant Wormhole
		Descriptions:
			1: Teleports infantry and vehicles.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		Durations:
			1: 500
		KillCargo: false
		DisplayRadarPing: true
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchTextNotification: Warning: A superweapon has been launched.
		IncomingTextNotification: Warning: A superweapon has been launched.
		LaunchSound: n_swlaunch.aud
		SelectionCursor: emp
		TargetCursor: emp
		ValidFootprintSequence: build-valid
		InvalidFootprintSequence: build-invalid-
		SourceFootprintSequence: build-valid-
		DisplayTimerRelationships: Ally, Neutral, Enemy
		Dimensions:
			1: 5, 5
		Footprints:
			1: __x__ _xxx_ xxxxx _xxx_ __x__
		EffectImage: scrintele
		SelectionStartSequence: begin
		SelectionLoopSequence: loop
		SelectionEndSequence: end
		TeleportTargetSequence: end
		EffectPalette: jascbluealpha #scrinenergystuffs
	NukePower:
		RequiresCondition: AIbuildingMicroControl
		Prerequisites:
			1: scradvpowr
		MissileWeapons:
			1: ColossiSummonerWeapon
		Icons:
			1: wormholeicon
		IconPalette: playerscrin
		ChargeInterval: 6000
		OrderName: ChronoshiftSummon
		CircleRanges:
			1: 5c0
		Names:
			1: Instant Wormhole
		Descriptions:
			1: Instant Wormhole for AI
	Health:
		HP: 150000
	RequiresBuildableArea:
		AreaTypes: building
	Power:
		Amount: -200
	IsometricSelectable:
		DecorationHeight: 48
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin

CABYARD:
	Inherits: GACNST
	Inherits@RENDER: ^CabRenderBuilding
	Buildable:
		BuildPaletteOrder: 999
		IconPalette: UnittemIconCab
	Tooltip:
		Name: C.A.B.A.L. Construction Yard
	Transforms:
		IntoActor: cabmcv
		Offset: 1,1
		Facing: 640
		DeployCursor: undeploy
		PauseOnCondition: empdisable
	-WithIdleOverlay@TOP:
	-WithIdleOverlay@TOP-BRIGHT:
	-WithIdleOverlay@SIDE:
	-WithIdleOverlay@FRONT:
	-WithIdleOverlay@FRONT-BRIGHT:
	-WithMakeOverlay@MAKE-BRIGHT:
	-WithBuildingPlacedOverlay:
	ProvidesPrerequisite@faction:
		Prerequisite: structures.cab
	ProvidesPrerequisite@grantself:
		Factions: gdi, nod, cab, mut, scr

CABPOWR:
	Inherits: ^Powerplant
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: Firestorm Power Plant
	Buildable:
		Queue: Building
		BuildPaletteOrder: 4
		Description: Provides power for other structures.
		Prerequisites: ~structures.cab, ~techlevel.1
	Valued:
		Cost: 500
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 80000
	Power:
		Amount: 200
	RequiresBuildableArea:
		AreaTypes: building

CABCLAW:
	Inherits: ^Barracks
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^2x3Shape
	Tooltip:
		Name: C.A.B.A.L. Claw
	Buildable:
		Queue: Building
		BuildPaletteOrder: 9
		Description: Processes Infantry.\n\nSpecial:\n- Heals infantry in an area around it.\n- Maximum production speed is reached with 7 barracks.\n- Max production speed reduces production time by 50%.
		Prerequisites: anypower, ~structures.cab, ~techlevel.1
	WithProductionOverlay:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Exit@1:
		SpawnOffset: 724,362,0
		ExitCell: 2,2
		Priority: 2
	Exit@2:
		SpawnOffset: 724,362,0
		ExitCell: 2,1
		Priority: 2
	Exit@fallback1:
		SpawnOffset: -362,1086,0
		ExitCell: 2,3
	Exit@fallback2:
		SpawnOffset: -362,1086,0
		ExitCell: 1,3
	Exit@fallback3:
		SpawnOffset: -1086,362,0
		ExitCell: 0,3
	Exit@fallback4:
		SpawnOffset: -1086,362,0
		ExitCell: -1,3
	Exit@fallback5:
		SpawnOffset: -1086,362,0
		ExitCell: -1,2
	Exit@fallback6:
		SpawnOffset: -362,-362,0
		ExitCell: -1,1
	Exit@fallback7:
		SpawnOffset: 362,-1086,0
		ExitCell: -1,0
	Exit@fallback8:
		SpawnOffset: 362,-1086,0
		ExitCell: -1,-1
	Exit@fallback9:
		SpawnOffset: 362,-1086,0
		ExitCell: 0,-1
	Exit@fallback10:
		SpawnOffset: 1086,-362,0
		ExitCell: 1,-1
	Exit@fallback11:
		SpawnOffset: 1086,-362,0
		ExitCell: 2,-1
	Exit@fallback12:
		SpawnOffset: 724,362,0
		ExitCell: 2,0
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 48

CABPROC:
	Inherits: ^Refinery
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: C.A.B.A.L. Refinery
	Buildable:
		Queue: Building
		BuildPaletteOrder: 14
		Prerequisites: anypower, ~structures.cab, ~techlevel.1, ~AIantiRush, ~!global-megawealth
		Description: Processes raw Tiberium into useable resources.\nCan be rotated.\n\nSpecial:\n- Stores 1000$.
		IconPalette: UnittemIconCab
	FreeActor:
		Actor: cabharv
	-WithIdleOverlay@REDLIGHTS:
	WithDeathAnimation:
		DeathSequencePalette: playercab
		CrushedSequencePalette: playercab
		CrushedPaletteIsPlayerPalette: true
	PlaceBuildingVariants:
		Actors: cabproc3, cabproc2, cabproc4
		Facings: 384, 640, 896, 128
	IsometricSelectable:
		Class: CABPROC

CABPROC2:
	Inherits: ^FlippedRefinery
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: C.A.B.A.L. Refinery
	FreeActor:
		Actor: cabharv
	-WithIdleOverlay@REDLIGHTS:
	WithDeathAnimation:
		DeathSequencePalette: playercab
		CrushedSequencePalette: playercab
		CrushedPaletteIsPlayerPalette: true
	IsometricSelectable:
		Class: CABPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconCab
		TooltipActor: cabproc

CABPROC3:
	Inherits: ^FlippedXRefinery
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: C.A.B.A.L. Refinery
	FreeActor:
		Actor: cabharv
	-WithIdleOverlay@REDLIGHTS:
	WithDeathAnimation:
		DeathSequencePalette: playercab
		CrushedSequencePalette: playercab
		CrushedPaletteIsPlayerPalette: true
	IsometricSelectable:
		Class: CABPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconCab
		TooltipActor: cabproc

CABPROC4:
	Inherits: ^FlippedYRefinery
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: C.A.B.A.L. Refinery
	FreeActor:
		Actor: cabharv
	-WithIdleOverlay@REDLIGHTS:
	WithDeathAnimation:
		DeathSequencePalette: playercab
		CrushedSequencePalette: playercab
		CrushedPaletteIsPlayerPalette: true
	IsometricSelectable:
		Class: CABPROC
	ActorStatValues:
		Icon: icon
		IconPalette: UnittemIconCab
		TooltipActor: cabproc

CABWEAP:
	Inherits: ^Factory
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: C.A.B.A.L. War Factory
	Buildable:
		Queue: Building
		BuildPaletteOrder: 19
		Description: Produces vehicles.\n\nSpecial:\n- Maximum production speed is reached with 4 factories.\n- Max production speed reduces production time by 50%.
		Prerequisites: proc, ~structures.cab, ~techlevel.2
	WithIdleOverlay@ROOF:
		Sequence: idle-roof
		RequiresCondition: !Building-Buildup
	WithProductionDoorOverlay@DOOR:
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	IsometricSelectable:
		DecorationHeight: 36

CABRADR:
	Inherits: ^Radar
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Tooltip:
		Name: C.A.B.A.L. Radar
	Buildable:
		Queue: Building
		BuildPaletteOrder: 29
		Description: Provides an overview of the battlefield and provides the Spy Satellite ability.\n\nSpecial:\n- Provides minimap\n- Stealth detection\n- Provides Spy Satellite\n- Requires power to operate
		Prerequisites: proc, ~structures.cab, ~techlevel.4
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	RequiresBuildableArea:
		AreaTypes: building
	SpawnActorPower:
		OrderName: CabalRadarScan
		Icons:
			1: CABradarscan
	IsometricSelectable:
		DecorationHeight: 96

CABAIR:
	Inherits: ^Helipad
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Tooltip:
		Name: Air Factory
	Buildable:
		BuildPaletteOrder: 39
		Queue: Building
		Description: Produces aircraft.\n\nSpecial:\n- C.A.B.A.L. Aircraft do not need to rearm.\n- Maximum production speed is reached with 7 helipads.\n- Max production speed reduces production time by 50%.
		Prerequisites: cabradr, ~structures.cab, ~techlevel.4
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Reservable:
	Exit@1:
		Facing: 896
		SpawnOffset: 0,-256,0
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
	WithProductionOverlay@WHITELIGHTS:
		Sequence: lights
		RequiresCondition: !Building-Buildup
	Production:
		Produces: Air
	PrimaryBuilding:
		PrimaryCondition: primary
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@airhuman:
		Prerequisite: air.human
	WithTextDecoration@primary:
		Text: PRIMARY
		Position: Top
		Color: E0D048
		RequiresCondition: primary
	RequiresBuildableArea:
		AreaTypes: building

CABTECH:
	Inherits: ^TechCenter
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^3x2Shape
	Tooltip:
		Name: Supercomputer
	Buildable:
		Queue: Building
		BuildPaletteOrder: 44
		Description: Provides access to advanced C.A.B.A.L. technologies.
		Prerequisites: cabradr, ~structures.cab, ~techlevel.5
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	RequiresBuildableArea:
		AreaTypes: building

CABOBELISK:
	Inherits: ^Building
	Inherits@1: ^SuperWeapon
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: Nanomachine Core
	Buildable:
		Queue: Building
		Prerequisites: cabtech, ~structures.cab, ~techlevel.6
		Description: C.A.B.A.L.'s Support Superweapon.\n\nSpecial:\n- Provides access to Nanomachine Swarms\n- Requires power to operate
		BuildPaletteOrder: 49
		BuildLimit: 1
	Valued:
		Cost: 2500
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	BodyOrientation:
		QuantizedFacings: 32
	ProvidesPrerequisite@buildingname:
	SpawnActorPower@nanomachinesson:
		Cursor: ioncannon
		Prerequisites:
			1: cabobelisk
		Icons:
			1: nanomachineswarm
		Names:
			1: Nanomachine Swarm
		Descriptions:
			1: Fills an area with nanomachines.\n- Heals friendly units up to 40% (Even buildings)\n- Turns fallen units (Friendly and Hostile) remaining into nano swarm.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		OrderName: NanomachineSwarm
		Actors:
			1: NANOBURSTDUMMY
		TargetCircleRanges:
			1: 7c0
		BeginChargeSound:
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		EndChargeTextNotification: Commander, our superweapon is online.
		ChargeInterval: 6000
		DisplayRadarPing: true
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: empdisable || disabled
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchTextNotification: Warning: A superweapon has been launched.
		IncomingTextNotification: Warning: A superweapon has been launched.
		LaunchSound: n_swlaunch.aud
		LifeTime: -1
	Health:
		HP: 150000
	RequiresBuildableArea:
		AreaTypes: building
	Power:
		Amount: -200
