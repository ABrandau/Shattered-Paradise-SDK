### This file defines units can be only built by AI player, which
### 1. will use a diffirent set of logic compared to orignal units used by AI/Player
### 2. are pre-loaded transprot units with unload logic.

COLOSSI_CHRONO:
	Inherits: COLOSSI
	Inherits@AImicroManagable: ^AImicroManagable
	-Buildable:
	Selectable:
		Class: colossi
	Mobile:
		RequireForceMoveCondition: !AImicroManage && !undeployed
	Armament@1:
		Weapon: ColossiShard
		LocalOffset: 400,0,1300
		RequiresCondition: !AImicroManage && undeployed
		PauseOnCondition: WebDisable
		Name: OnFoot
	Armament@2:
		Weapon: GColossiShard
		LocalOffset: 300,0,1000
		RequiresCondition: !AImicroManage && undeployed
		PauseOnCondition: WebDisable
	Armament@AI:
		RequiresCondition: AImicroManage && undeployed
		Weapon: SharkJump
		PauseOnCondition: WebDisable
		Name: OnFoot
	AutoDeployer@AI:
		RequiresCondition: AImicroManage && !deployed
		DeployChance: 100
		DeployTicks: 5
		UndeployTicks: 50
		DeployTrigger: Attack
	RenderSprites:
		Image: colossi
	RejectsOrders@deployment:
		Reject: AttackMove, AssaultMove
		RequiresCondition: !AImicroManage && deployed
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: colossi

APC_BOT:
	Inherits: APC
	Selectable:
		Class: apc
	RenderSprites:
		Image: apc
	-Buildable:
	Cargo:
		InitialUnits: gdie1, gdie1, medic, gdie1, grenadier
	AutoTarget:
		ScanRadius: 7
	ActorStatValues:
		TooltipActor: apc

RIFLEBGGY:
	Inherits: BGGY
	Selectable:
		Class: bggy
	EditorOnlyTooltip:
		Name: Anti Infantry Buggy
	RenderSprites:
		Image: bggy
	-Buildable:
	Cargo:
		InitialUnits: altnode1
	ActorStatValues:
		TooltipActor: bggy

ROCKETBGGY:
	Inherits: RIFLEBGGY
	EditorOnlyTooltip:
		Name: Rocket Buggy
	Cargo:
		InitialUnits: crusader
	ActorStatValues:
		TooltipActor: bggy

FLAMEBGGY:
	Inherits: RIFLEBGGY
	Cargo:
		InitialUnits: templar
	EditorOnlyTooltip:
		Name: Flame Buggy
	ActorStatValues:
		TooltipActor: bggy

LAZORBGGY:
	Inherits: RIFLEBGGY
	Cargo:
		InitialUnits: nconf
	EditorOnlyTooltip:
		Name: Laser Buggy
	ActorStatValues:
		TooltipActor: bggy

STRUCKFULL:
	Inherits: STRUCK
	Selectable:
		Class: struck
	-Buildable:
	Cargo:
		InitialUnits: marauder, marauder, marauder, marauder, marauder
	RenderSprites:
		Image: struck
	EditorOnlyTooltip:
		Name: Filled Battle bus
	ActorStatValues:
		TooltipActor: struck

STRUCKFULL_T3:
	Inherits: STRUCKFULL
	Cargo:
		InitialUnits: psyker, seer, seer, seer, seer
	ProvidesPrerequisite@AIbuildinglimit:
		Prerequisite: psyker
	ActorStatValues:
		TooltipActor: struck

^BotCarryall:
	Inherits@2: ^AutoTargetAllAssaultMove
	AutoCarryall:
		CarryCondition: loaded
		AutoCarryCondition: none ## No longer Auto Action
	Armament@AIunloadingDummyWeapon:
		Weapon: AITransportAimingDummyWeapon
		RequiresCondition: AImicroManage && loaded && !StopAndDeploy
		ReloadingCondition: StopAndDeploy
	AttackAircraft:
		AttackType: Hover
		FacingTolerance: 512
		RequiresCondition: AImicroManage && loaded && !StopAndDeploy
	AutoTarget:
		ScanRadius: 9
		InitialStanceAI: AttackAnything
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	ProvidesPrerequisite@AIbuildinglimit:
		RequiresCondition: loaded
		Prerequisite: LoadedExists
	KillsSelf@DisappearsIfUnload:
		Delay: 500
		RequiresCondition: AImicroManage && !loaded
		RemoveInstead: true
	ActorStatValues:
		Armaments: None

NUKECARRYALL_BOT:
	Inherits: trnsport.mut
	Inherits@1: ^BotCarryall
	Buildable:
		Description: AI Nuke Transport
		Prerequisites: ~muair, muhall, ~techlevel.5, ~AIOnly, ~!LoadedExists
	ProductionCostMultiplier@Preload:
		Multiplier: 600
	ProductionTimeMultiplier@Preload:
		Multiplier: 600
	AutoCarryall:
		InitialActor: hvrtruk3
	AmmoPool:
		AmmoCondition: disableAutoTartget
	AutoTarget:
		RequiresCondition: AImicroManage && !disableAutoTartget
	-AutoDeployer@AI:
	AutoDeployer@AI:
		RequiresCondition: AImicroManage && loaded
		DeployChance: 100
		DeployTicks: 20
		UndeployTicks: 20

SONICARRYALL_BOT:
	Inherits: TRNSPORT
	Inherits@1: ^BotCarryall
	Buildable:
		Description: AI Sonic Transport
		Prerequisites: ~gahpad, gatech, ~techlevel.5, ~AIOnly, ~!LoadedExists
	ProductionCostMultiplier@Preload:
		Multiplier: 200
	ProductionTimeMultiplier@Preload:
		Multiplier: 200
	AutoCarryall:
		InitialActor: sonic
	-AutoDeployer@AI:
	AutoDeployer@AI:
		RequiresCondition: AImicroManage && loaded
		DeployChance: 100
		DeployTicks: 20
		UndeployTicks: 20

APCARRYALL_BOT:
	Inherits: TRNSPORT
	Inherits@1: ^BotCarryall
	Buildable:
		Description: AI APC Transport
		Prerequisites: ~gahpad, gapile, ~techlevel.2, ~AIOnly, ~!LoadedExists
	ProductionCostMultiplier@Preload:
		Multiplier: 180
	ProductionTimeMultiplier@Preload:
		Multiplier: 180
	AutoCarryall:
		InitialActor: apc_bot
	-AutoDeployer@AI:
	AutoDeployer@AI:
		RequiresCondition: AImicroManage && loaded
		DeployChance: 100
		DeployTicks: 20
		UndeployTicks: 20

MUBUNKRFULL:
	Inherits: MUBUNKR
	-Buildable:
	IsometricSelectable:
		Class: mubunkr
	ProductionCostMultiplier:
		Multiplier: 180
	RenderSprites:
		Image: mubunkr
	EditorOnlyTooltip:
		Name: Filled Bunker
	Cargo:
		InitialUnits: marauder, marauder, marauder, marauder, marauder
	ActorStatValues:
		TooltipActor: mubunkr

### 3. are meme units to make the game more challenging
GHOST:
	Inherits: ^Mutant
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@VISION: ^8CellVision
	Valued:
		Cost: 2000
	Tooltip:
		Name: Gil the Ghost Stalker
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Infantry.Shared, Infantry.Mutant
		BuildPaletteOrder: 32
		Prerequisites: ~murax, muhall, ~techlevel.5, ~AIOnly
		Description: Gil is the elite commando of Mutants, if not GDI.\nHe is armed with a ion railgun and C4.\n\nGood vs Ground\n\nSpecial:\n- Maximum Supply of 1\n- Does not receive damage from tiberium fields\n- Demolishes structures with C4\n- Heals on Tiberium\n- Immune to mindcontrol\n- Crush class: crushable
		BuildLimit: 1
		BuildDuration: 1250
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 10
		Prerequisites: AIOnly
	Armor:
		Type: Infantry
	Mobile:
		Speed: 75
	Health:
		HP: 40000
	Armament:
		Weapon: LtRail
		LocalOffset: 200,0,743
		Name: OnFoot
		PauseOnCondition: WebDisable
	Armament@pit:
		Weapon: LtRailSmudge
		LocalOffset: 200,0,743
		Name: OnFoot
		PauseOnCondition: WebDisable
	Armament@garrison:
		Weapon: GLtRail
		LocalOffset: 200,0,743
	Armament@garrisonpit:
		Weapon: GLtRailSmudge
		LocalOffset: 200,0,743
	-Targetable@MC:
	TakeCover:
		ProneOffset: 256,32,-584
	Crushable:
		CrushSound: squishy2.aud
	AnnounceOnSeen:
		PingRadar: true
		Notification: CommandoDetected
		TextNotification: Enemy commando detected.
	AttackFrontal:
		Voice: Attack
		Armaments: OnFoot
		FacingTolerance: 2
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
	Demolition:
		DetonationDelay: 45
		Voice: Attack
	Voiced:
		VoiceSet: Ghost
	Cloak@CLOAKGENERATOR:
		CloakedCondition: bettercloak
	Cloak@personalskill:
		RequiresCondition: !bettercloak
		InitialDelay: 40
		CloakDelay: 40
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Damage, Move
		EffectImage: explosion
		EffectPalette: apolgreenalpha75
		CloakEffectSequence: smokebomb
		EffectTracksActor: false
		EffectOffset: 0, 0, 800
	ActorStatValues:
		Damage: 200

UMAGON:
	Inherits: ^Mutant
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@VISION: ^10CellVision
	Tooltip:
		Name: Umagon
	Valued:
		Cost: 2000
	Voiced:
		VoiceSet: Umagon
	Buildable:
		Queue: Infantry.Shared, Infantry.Mutant
		BuildPaletteOrder: 33
		Prerequisites: ~murax, muhall, ~techlevel.5, ~AIOnly
		Description: Umagon was one of the GDI's "good girls", she sure was. \nShe is armed with a sniper with silencer and C4.\n\nGood vs Infantry\n\nSpecial:\n- Maximum Supply of 1\n- Does not receive damage from tiberium fields\n- Demolishes structures with C4\n- Heals on Tiberium\n- Immune to mindcontrol\n- Crush class: crushable
		BuildLimit: 1
		BuildDuration: 1250
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 10
		Prerequisites: AIOnly
	Mobile:
		Speed: 80
	-Targetable@MC:
	Health:
		HP: 20000
	Armament@1:
		Weapon: Sniper
		LocalOffset: 300,0,800
		PauseOnCondition: WebDisable
		Name: OnFoot
	Armament@2:
		Weapon: GSniper
		LocalOffset: 300,0,800
		PauseOnCondition: WebDisable
	Demolition:
		DetonationDelay: 45
		Voice: Attack
	AttackFrontal:
		Voice: Attack
		Armaments: OnFoot
		FacingTolerance: 2
	AutoTarget:
		ScanRadius: 11 #PREF: save trait looks up and scan armaments
	WithInfantryBody:
		AttackSequences: shoot
	Cloak@CLOAKGENERATOR:
		CloakedCondition: bettercloak
	Cloak@personalskill:
		RequiresCondition: !bettercloak
		InitialDelay: 40
		CloakDelay: 40
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Damage, Move
		EffectImage: explosion
		EffectPalette: apolgreenalpha75
		CloakEffectSequence: smokebomb
		EffectTracksActor: false
		EffectOffset: 0, 0, 800
	-RevealOnFire:
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		Damage: 150

COREDEFENDER:
	Inherits: ^Walker
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^CabRender
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@VISION: ^9CellVision
	Inherits@VOICE: ^CabalVehicleVoice
	Valued:
		Cost: 10000
	Tooltip:
		Name: Core Defender
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 30
		Speed: 60
		Locomotor: VehicleCrusher
	Voiced:
		VoiceSet: CoreDefender
		Volume: 0.75
	-Crushable:
	AnnounceOnSeen:
		PingRadar: true
		Notification: CommandoDetected
		TextNotification: Enemy Core Defender detected.
	AmbientSound@WalkAnim:
		SoundFiles: mamothwalk0000.wav, mamothwalk0001.wav, mamothwalk0002.wav, mamothwalk0003.wav
		Delay: 50
		Interval: 16
		RequiresCondition: walking
	GrantConditionOnMovement:
		Condition: walking
	SmokeParticleEmitter@spawnsmoke:
		Offset: 0,0,3000
	Armor:
		-RequiresCondition:
	Armor@Boss:
		Type: Boss
	ExplodeWeapon@spawnsparks:
		LocalOffset: 0,0,3000
	Health:
		HP: 650000
	-WithIdleOverlay@shield:
	-ExternalCondition@VanguardShield:
	-Shielded@Shield:
	-Targetable@Shield:
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	AttackFrontal:
		Voice: Attack
		PauseOnCondition: empdisable
		FacingTolerance: 3
		Armaments: ArmArmament, HeadArmament, ShoulderArmament
	-Targetable@MC:
	AutoTarget:
		ScanRadius: 9
		InitialStanceAI: AttackAnything
	RenderSprites:
	WithMuzzleOverlay:
	AutoTarget:
	Selectable:
		Bounds: 1809, 5428, 0, -2412
	-Passenger:
	-SharedPassenger:
	-Chronoshiftable:
	-Carryable:
	SmokeParticleEmitter@spawnsmoke:
		Offset: 0,0,2500
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel
	ExplodeWeapon@spawnsparks:
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel
	WithInfantryBody:
		-DefaultAttackSequence:
		RequiresCondition: !inside-tunnel
		AttackSequences:
			ArmArmament: shoot2
	MustBeDestroyed:
		RequiredForShortGame: true
	####### arm weapon###########
	Armament@RightArm1:
		Weapon: CoreDefLazer1R
		LocalOffset: 1580,500,3400
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ArmArmament
	Armament@RightArm2:
		Weapon: CoreDefLazer2R
		LocalOffset: 1580,500,3400
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle2
		Name: ArmArmament
	Armament@LeftArm1:
		Weapon: CoreDefLazer1L
		LocalOffset: 1480,-800,3350
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ArmArmament
	Armament@LeftArm2:
		Weapon: CoreDefLazer2L
		LocalOffset: 1480,-800,3350
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle2
		Name: ArmArmament
	####### shoulder weapon###########
	Armament@Shoulder:
		Weapon: CoreDefenderCannon
		LocalOffset: 600,450,4000
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ShoulderArmament
	Armament@ShoulderAA:
		Weapon: CoreDefenderCannonAA
		LocalOffset: 600,450,4000
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: ShoulderArmament
	####### head weapon###########
	Armament@Head:
		Weapon: CoreDefLazerAA
		LocalOffset: 700,0,4900
		PauseOnCondition: empdisable
		MuzzlePalette: apblue
		MuzzleSequence: muzzle1
		Name: HeadArmament
		RequiresCondition: !SuperAttack ##Head AA laser weapon cannot use when superweapon attack
	Armament@HeadSuper:
		Weapon: CoreDefSuper
		LocalOffset: 700,0,4900
		Name: HeadSuperWeapon
	ProvidesPrerequisite@HeadSuperAIbuildinglimit:
		Prerequisite: DefenderExists
		ResetOnOwnerChange: true
	FireArmamentPower:
		Cursor: emp
		Icons:
			1: coreicon
		ChargeInterval: 2500
		ArmamentName: HeadSuperWeapon
		Names:
			1: Core Defender Rage
		Descriptions:
			1: Fires Firestorm laser sweep through target location.\n\nSpecial:\n- Instant kills ground units and aircraft
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		SelectTargetSound: speech-nod|00-i042.aud
		Prerequisites:
			1: DefenderExists
		OrderName: CoreDefSuper
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: empdisable
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	GrantConditionOnAttack@muzzle:
		Condition: SuperAttack
		ArmamentNames: HeadSuperWeapon
	WithIdleOverlay@SuperWeaponMuzzle:
		Offset: 700,0,4900
		Image: explosion
		Sequence: firestormactived
		Palette: apolbluealpha
		RequiresCondition: SuperAttack
		IsDecoration: true ## so this doesn't affect by cloak palette
	Explodes@shattered:
		Weapon: DefenderExplosion
		EmptyWeapon: DefenderExplosion
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	ThrowsShrapnel:
		Pieces: 5, 9
	ThrowsShrapnel@LARGE:
		Pieces: 2, 4
		Weapons: LargeDebris
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: defd
		Damage: 1668

DEFD:
	Inherits: ^BasicBuilding
	Inherits@1: ^StructureEffects
	Inherits@2: ^6CellVision
	Inherits@3: ^SelectableBuilding
	Inherits@SHAPE: ^2x3Shape
	Inherits@AIbuilding: ^AIbuildingMicroControl
	Valued:
		Cost: 10000
	Health:
		HP: 1100000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, 1536
	HitShape@2:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			LocalYaw: -128
			TopLeft: 512, 512
			BottomRight: 1536, 1536
	Buildable:
		Queue: Building.Shared, Building.CABAL
		Prerequisites: ~cabyard, cabtech, ~techlevel.5, ~AIOnly, ~!DefenderExists
		Description: C.A.B.A.L.'s final creation armed with crazy weapon.\n\nGood vs: Everything\n\nSpecial:\n- Needs preparing before rising.\n- Selfrepair\n- Can shoot over walls\n- Can crush vehicle\n- Immune to mindcontrol
		BuildPaletteOrder: 54
		BuildDuration: 3000
		BuildDurationModifier: 100
		BuildLimit: 1
	Building:
		Footprint: xx_ xx_ xxx
		Dimensions: 3,3
	CaptureNotification:
		Notification: BuildingCaptured
		LoseNotification: BuildingLostToCapture
	CaptureManager:
	Capturable:
		Types: Building
		RequiresCondition: !Building-Buildup
	CapturableProgressBar:
	CapturableProgressBlink:
	GivesExperience:
		PlayerExperienceModifier: 100
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	MustBeDestroyed:
		RequiredForShortGame: true
	WithMakeAnimation:
		Condition: Building-Buildup
	GrantConditionAfterDelay:
		Delay: 10000
		Condition: Rising
		PauseOnCondition: empdisable
	Transforms:
		RequiresCondition: Rising
		IntoActor: coredefender
		Offset: 1, 1
		Facing: 384
		TransformSounds: coreup1.aud
		NoTransformSounds:
	AutoDeployer@AI:
		RequiresCondition: Rising && AIbuildingMicroControl
		DeployChance: 100
		DeployTrigger: Periodically
		DeployTicks: 20
		UndeployTicks: 20
	Tooltip:
		Name: Core Defender
	RevealsShroud@revealitself:
		ValidRelationships: Neutral, Enemy
		MaxHeightDelta: 3
		Range: 2c0
	ProvidesPrerequisite@AIbuildinglimit:
		Prerequisite: DefenderExists
		ResetOnOwnerChange: true
	Targetable:
		TargetTypes: Building, Ground, C4, DetonateAttack, ConsideredThreatForAI
	WithIdleOverlay@charging:
		RequiresCondition: !Building-Buildup
		Sequence: flag
		Palette: playercab
		IsPlayerPalette: true
	-Targetable@MC:
	MapEditorData:
		Categories: Building

AVATAR:
	Inherits: ^Walker
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@VISION: ^8CellVision
	Valued:
		Cost: 2250
	Tooltip:
		Name: Avatar
	Selectable:
		Bounds: 1550, 5000, 0, -1500
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Lightbringer
		BuildAtProductionType: Lightbringer
		BuildPaletteOrder: 51
		Prerequisites: ~naweap, nahfac, ~AIOnly, ~techlevel.6
		Description: Heavy Walker armed with a strong laser and enhances nearby Units.\n\nGood vs: Ground\n\nSpecial:\n- Can crush infantry
		BuildDuration: 2250
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cheat
		Multiplier: 10
		Prerequisites: AIOnly
	Voiced:
		VoiceSet: Vehicle
	Mobile:
		TurnSpeed: 20
		Speed: 70
	AmbientSound@WalkAnim:
		SoundFiles: mamothwalk0000.wav, mamothwalk0001.wav, mamothwalk0002.wav, mamothwalk0003.wav
		Delay: 16
		Interval: 16
		RequiresCondition: walking
	GrantConditionOnMovement:
		Condition: walking
	Health:
		HP: 180000
	BodyOrientation:
		QuantizedFacings: 8
	AttackFrontal:
		FacingTolerance: 2
	Armament@primary:
		Weapon: AvatarLazer
		LocalOffset: 990,509,2121
		MuzzlePalette: jascredalpha
		MuzzleSequence: muzzle
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	WithInfantryBody:
		DefaultAttackSequence: shoot
	RenderSprites:
	WithMuzzleOverlay:
	# Will add new effect later, better not add another searching actor from map function
	HitShape:
	ActorStatValues:
		Damage: 200

HMECTEST:
	Inherits: ^Tank
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Defence
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@VISION: ^9CellVision
	Valued:
		Cost: 10000
	Tooltip:
		Name: Mammoth Mk. III
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle.Shared, Vehicle.MammothMkII
		BuildAtProductionType: Mammoth
		BuildPaletteOrder: 49
		Prerequisites: ~showhmec, gtdrop, ~AIOnly, ~techlevel.6
		Description: GDI's final creation for the war when everything is doomed.\n\nGood vs: Everything\n\nSpecial:\n- Build limit: 1\n- Selfhealing up to 100%\n- Can attack air\n- Immune to mind control\n- Can shoot over walls\n- Can crush everything except other Epics\n- It is deployed via dropship at the Dropship Bay\n- Can attack while moving\n- Can spawn 2 gun drones
		BuildLimit: 1
		BuildDuration: 3000
		BuildDurationModifier: 100
	ProductionTimeMultiplier@2_FACTORY:
		Multiplier: 80
		Prerequisites: prerequisite.two_factory, !global-multiqueue
	ProductionTimeMultiplier@3_FACTORY:
		Multiplier: 65
		Prerequisites: prerequisite.three_factory, !global-multiqueue
	ProductionTimeMultiplier@4_FACTORY:
		Multiplier: 50
		Prerequisites: prerequisite.four_factory, !global-multiqueue
	Voiced:
		VoiceSet: MammothMkII
		Volume: 2
	Mobile:
		TurnSpeed: 12
		Speed: 60
		Locomotor: VehicleCrusher
	-Crushable:
	-Passenger:
	-SharedPassenger:
	-Chronoshiftable:
	SmokeParticleEmitter@spawnsmoke:
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel && !carried
	ExplodeWeapon@spawnsparks:
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel && !carried
	Health:
		HP: 650000
	Armor@Boss:
		Type: Boss
	AnnounceOnSeen:
		PingRadar: true
		Notification: MammothDetected
		TextNotification: Enemy Mammoth Mk. III detected.
	AttackTurreted:
		Voice: Attack
		Turrets: primary, secondary, tertiary, quaternary
		Armaments: primary, secondary, tertiary, quaternary
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	AmbientSound@WalkAnim:
		SoundFiles: mamothwalk0000.wav, mamothwalk0001.wav, mamothwalk0002.wav, mamothwalk0003.wav
		Delay: 16
		Interval: 16
		RequiresCondition: walking
	GrantConditionOnMovement:
		Condition: walking
	Armament@M1:
		Weapon: MKIIITusk
		LocalOffset: 200,0,2900
		Name: secondary
		Turret: secondary
		ReloadingCondition: reload-ground
		PauseOnCondition: empdisable || reload-air || reload-super
	Armament@M1AA:
		Weapon: MKIIITuskAA
		LocalOffset: 200,0,2900
		Name: secondary
		Turret: secondary
		ReloadingCondition: reload-air
		PauseOnCondition: empdisable || reload-ground || reload-super
	Armament@M2:
		Weapon: MKIIITusk
		LocalOffset: 200,0,2900
		Name: tertiary
		Turret: tertiary
		FireDelay: 5
		ReloadingCondition: reload-ground
		PauseOnCondition: empdisable || reload-air || reload-super
	Armament@M2AA:
		Weapon: MKIIITuskAA
		LocalOffset: 200,0,2900
		Name: tertiary
		Turret: tertiary
		FireDelay: 5
		ReloadingCondition: reload-air
		PauseOnCondition: empdisable || reload-ground || reload-super
	Armament@R: ##Hit effect and firedly fire
		Weapon: MKIIIRailgun
		LocalOffset: 1200,-250,2650, 1200,250,2650
		PauseOnCondition: empdisable
	Armament@R2:
		Weapon: MKIIIRailgun2
		LocalOffset: 1200,-250,2650, 1200,250,2650
		PauseOnCondition: empdisable
		MuzzleSequence: muzzle2
	Armament@SuperWeapon1:
		Weapon: SonicClusterMissile
		LocalOffset: 200,0,2900
		Name: MKIIISuperWeapon
		Turret: secondary
		ReloadingCondition: reload-super
		PauseOnCondition: empdisable
	Armament@SuperWeapon2:
		Weapon: SonicClusterMissile
		LocalOffset: 200,0,2900
		Name: MKIIISuperWeapon
		Turret: tertiary
		FireDelay: 5
		ReloadingCondition: reload-super
		PauseOnCondition: empdisable
	FireArmamentPower:
		Cursor: emp
		Icons:
			1: mammothicon
		ChargeInterval: 2500
		ArmamentName: MKIIISuperWeapon
		Names:
			1: Sonic Missile Storm
		Descriptions:
			1: Fires sonic cluster missile bombard target location.\n\nSpecial:\n- Instant kills aircraft
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		SelectTargetSound: speech-nod|00-i042.aud
		Prerequisites:
			1: MKIIISuper
		OrderName: MKIIISuper
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: empdisable
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	ProvidesPrerequisite@MKIIISuper:
		Prerequisite: MKIIISuper
		ResetOnOwnerChange: true
	-Targetable@MC:
	Turreted@1:
		Offset: -500,0,0
		TurnSpeed: 16
	Turreted@2:
		Offset: 600,300,-400
		TurnSpeed: 32
		Turret: secondary
	Turreted@3:
		Offset: 600,-300,-400
		TurnSpeed: 32
		Turret: tertiary
	DroneSpawnerMaster:
		Actors: MKIIIDRONE-MINIGUN, MKIIIDRONE-MINIGUN
		SpawnOffset: 0,0,1024, 0,0,1024
		RespawnTicks: 128
		FollowAfterAttackDelay: 35
		PauseOnCondition: inside-tunnel || carried
	Carryable:
		LocalOffset: 0, 0, 1536
	WithMuzzleOverlay:
	WithSpriteTurret:
		RequiresCondition: !inside-tunnel
	WithSpriteTurret@2:
		Sequence: turret2
		Turret: secondary
		RequiresCondition: !inside-tunnel
	WithSpriteTurret@3:
		Sequence: turret2
		Turret: tertiary
		RequiresCondition: !inside-tunnel
	Passenger:
		CustomPipType: red
	WithMoveAnimation:
		MoveSequence: run
	Selectable:
		Bounds: 2413, 4041, 0, -1508
	SharedPassenger:
		CustomPipType: red
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	ThrowsShrapnel:
		Pieces: 5, 9
	ThrowsShrapnel@LARGE:
		Pieces: 2, 4
		Weapons: LargeDebris
	ExternalCondition@PRODUCED: ## Use this to prevent map-preplaced MK2 announces itself
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	RenderSprites:
		Image: mammothtest
	ActorStatValues:
		Damage: 720
		Armaments: primary, secondary
		SplitRanges: true
	MustBeDestroyed:
		RequiredForShortGame: true


MKIIIDRONE-MINIGUN:
	Inherits: ^CombatPlane
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Infantry
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^3CellVision
	Tooltip:
		Name: Minigun drone
	Interactable:
	Aircraft:
		MaximumPitch: 90
		Repulsable: true
		TurnSpeed: 32
		Speed: 210
		IdleTurnSpeed: 16
		IdleSpeed: 128
		AltitudeVelocity: 200
		RepulsionSpeed: 32
		VTOL: true
		AirborneCondition: airborne
		MoveIntoShroud: true
		CruiseAltitude: 3c768
		TakeUpCellWhenLand: false
	Armament@primaryAP:
		Weapon: MKIIIDroneVulcan
		LocalOffset: 350,0,0
		MuzzleSequence: muzzle
	Armament@2Bullet:
		Weapon: MKIIIDroneVulcanLine
		LocalOffset: 350,0,-350, 350,0,-350
		CasingWeapon: CasingDebris
		CasingSpawnLocalOffset: 128,0,-350, 128,0,-350
		CasingTargetOffset: 0, 400, 0, 0, -400, 0
	Armament@Repair:
		Weapon: MKIIIDroneRepair
		LocalOffset: 0,0,-350
		TargetRelationships: Ally
		ForceTargetRelationships: Ally
	AttackTurreted:
		Armaments: primary
		PersistentTargeting: false
	WithSpriteTurret:
	Turreted@1:
		Offset: 0,0,75
		TurnSpeed: 32
	RejectsOrders:
	RenderSprites:
		Image: mkiiidrone
	AutoTarget:
		InitialStance: Defend
		InitialStanceAI: Defend
		ScanRadius: 6 #PREF: save trait looks up and scan armaments
	AutoTargetPriority@DEFAULT:
		ValidRelationships: Enemy, Ally
	AutoTargetPriority@ATTACKANYTHING:
		ValidRelationships: Enemy, Ally
	-Rearmable:
	Health:
		HP: 10000
	DroneSpawnerSlave:
		AttackCallBackDistance: 12c0
	-Targetable@FullHealth:
	Targetable@Ignore:
		TargetTypes: Summoned
	-Targetable@MC:
	-UpdatesPlayerStatistics:
	-ActorLostNotification:
	-AppearsOnRadar:
	-Selectable:
	-SelectionDecorations:
	-Explodes@Shrapnel:
	-GrantConditionOnDamageState@HeavyDamaged:
	-ExplodeWeapon@spawnsparks:
	-SmokeParticleEmitter@spawnsmoke:
	-SpawnActorOnDeath@ScrinEssence:
	-MapEditorData:
	-RevealsShroud@Landed:
	-RevealOnDeath@Landed:
	-RevealsShroud@Airborne:
	-RevealOnDeath@Airborne:
	WithDeathAnimation:
		FallbackSequence: die
		DeathSequence: die
		DeathSequencePalette: effect
		DeathPaletteIsPlayerPalette: false
		UseDeathTypeSuffix: false
		CrushedSequence: die
		CrushedSequencePalette: apblue

SCRINCOUNCIL: 
	Inherits: ^CombatHelicopter
	Inherits@1: ^ScrinAircraftGeneric
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Building
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@SELFHEAL: ^PermanentSelfHeal
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^11CellVision
	Valued:
		Cost: 10000
	Tooltip:
		Name: Scrin Council
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Air.Shared, Air.Scrin
		Description: A council debates on the world's corpse.\n\nGood vs: Everything\n\nSpecial:\n- Build limit: 1\n- Selfhealing up to 100%\n- Can attack air\n- Immune to mind control\n- Can shoot over walls\n- Can attack while moving
		BuildPaletteOrder: 29
		Prerequisites: ~scrair, scradvpowr, ~techlevel.6, ~AIOnly
		BuildLimit: 1
		BuildDuration: 1500
		BuildDurationModifier: 100
	Selectable:
		Bounds: 2709,3135, 0,-1280
	Targetable@Essence:
		TargetTypes: ScrinUnit
	-Targetable@MC:
	AnnounceOnSeen:
		PingRadar: true
		Notification: BattleCruiserDetected
		TextNotification: Enemy Scrin Council detected.
	Aircraft:
		AltitudeVelocity: 180
		TurnSpeed: 20
		Speed: 40
		Repulsable: true
		IdealSeparation: 1920
		MoveIntoShroud: true
	-Rearmable:
	Health:
		HP: 400000
	Armor@Boss:
		Type: Boss
	DroneSpawnerMaster:
		Actors: COUNCILOR, COUNCILOR, COUNCILOR, COUNCILOR
		SpawnOffset: 0,0,0,0,0,0,0,0,0,0,0,0
		GatherCell: 0,0,0,0,0,0,0,0 #-1, 1, -1,-1, 1,1, 1, -1
	## AA Target Weapon
	Armament@AA:
		Weapon: AIGlyder1AimingDummyWeapon
		Name: secondary
	## Main Target Weapon. This will make Scrin Council fire its weapon and try get closer when firing
	Armament@PRIMARY1:
		Weapon:  CouncilazerAimingDummyWeaponFar
		Name: primary
		ReloadingCondition: moveclose
		RequiresCondition: !moveclose
	Armament@PRIMARY2:
		Weapon:  CouncilazerAimingDummyWeaponClose
		Name: primary
	GrantConditionOnAttack@NormalWeapon:
		Condition: NormalAttack
		ArmamentNames: primary
		RevokeDelay: 51
	WithIdleOverlay@NormalWeaponMuzzle:
		Offset:  0,0,-1128
		Sequence: muzzle
		Palette: jascpurplealpha
		RequiresCondition: NormalAttack
		IsDecoration: true ## so this doesn't affect by cloak palette
	ExplodeWeapon@NormalWeapon:
		LocalOffset: 0,0,-1128
		Weapon: CouncilazerElevator
		RequiresCondition: NormalAttack
	## Superweapon
	Armament@SuperWeapon:
		Name: super
		Weapon: TearingReality
	GrantConditionOnAttack@muzzle-sup:
		Condition: SuperAttack
		ArmamentNames: super
		RevokeDelay: 200
	WithIdleOverlay@SuperWeaponMuzzle:
		Offset: 0,0,1000
		Image: scrintele
		Sequence: loop
		Palette: jascbluealpha
		RequiresCondition: SuperAttack
		IsDecoration: true ## so this doesn't affect by cloak palette
	ProvidesPrerequisite@Super:
		Prerequisite: CouncilExists
		ResetOnOwnerChange: true
	FireArmamentPower:
		Cursor: emp
		Icons:
			1: councilicon
		IconPalette: chromescrin
		ChargeInterval: 2500
		ArmamentName: super
		Names:
			1: Tearing Reality
		Descriptions:
			1: Tearing the time and space on target location.\n\nSpecial:\n- Teleport troops after dealing damage.
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		SelectTargetSound: speech-nod|00-i042.aud
		Prerequisites:
			1: CouncilExists
		OrderName: TearingReality
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	AttackAircraft:
		Voice: Attack
		FacingTolerance: 512
		Armaments: primary, secondary
	AutoTarget:
		ScanRadius: 9
	BodyOrientation:
		QuantizedFacings: 32
	SpawnActorOnDeath:
		RequiresCondition: airborne
		Actor: SCRCOUNCIL.Husk
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	DeathSounds:
	Voiced:
		VoiceSet: Battlecruiser
	MustBeDestroyed:
		RequiredForShortGame: true

COUNCILOR:
	Inherits: ^CombatPlane
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Infantry
	Inherits@VISION: ^3CellVision
	Tooltip:
		Name: Councilor
	Interactable:
	Aircraft:
		Repulsable: true
		TurnSpeed: 1023
		Speed: 210
		AltitudeVelocity: 180
		RepulsionSpeed: 128
		CanSlide: true
		VTOL: true
		AirborneCondition: airborne
		MoveIntoShroud: true
		CruiseAltitude: 5c256
		IdleTurnSpeed: 64
		IdleSpeed: 128
		IdealSeparation: 512
		TakeUpCellWhenLand: false
	Armament@PRIMARY:
		Weapon:  CouncilorPlasma
		LocalOffset: 0,0,0, 0,0,0
		LocalYaw: -168, 168
		ReloadingCondition: reloading
		PauseOnCondition: !ammo
	Armament@AA:
		Weapon: CouncilorZap
		ReloadingCondition: reloading
		PauseOnCondition: !ammo
	AttackAircraft:
		AttackType: Hover
		FacingTolerance: 1024
		PersistentTargeting: false
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Count: 1
		Delay: 100
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
		InitialStance: Defend
		InitialStanceAI: Defend
	RejectsOrders:
	RenderSprites:
		Palette: gensmkexplopurple
	WithFacingSpriteBody:
		RequiresCondition: !reloading
	-Rearmable:
	Health:
		HP: 5000
	DroneSpawnerSlave:
		MovingCallBackCellDistance: 1
		AttackCallBackDistance: 0
	-Targetable@GROUND:
	-Targetable@AIRBORNE:
	-Targetable@FullHealth:
	Targetable@Ignore:
		TargetTypes: Summoned
	-Targetable@MC:
	-UpdatesPlayerStatistics:
	-ActorLostNotification:
	-AppearsOnRadar:
	-Selectable:
	-SelectionDecorations:
	-Explodes@Shrapnel:
	-GrantConditionOnDamageState@HeavyDamaged:
	-ExplodeWeapon@spawnsparks:
	-SmokeParticleEmitter@spawnsmoke:
	-SpawnActorOnDeath@ScrinEssence:
	-MapEditorData:
	-RevealsShroud@Landed:
	-RevealOnDeath@Landed:
	-RevealsShroud@Airborne:
	-RevealOnDeath@Airborne:
	WithDeathAnimation:
		FallbackSequence: die
		DeathSequence: die
		DeathSequencePalette: effect
		DeathPaletteIsPlayerPalette: false
		UseDeathTypeSuffix: false
		CrushedSequence: die
		CrushedSequencePalette: appurp

