^ExistsInWorld:
	AppearsOnRadar:
	UpdatesPlayerStatistics:
	CombatDebugOverlay:
	ScriptTriggers:
	RenderDebugState:

^SpriteActor:
	BodyOrientation:
		UseClassicPerspectiveFudge: false
		CameraPitch: 85
	QuantizeFacingsFromSequence:
	RenderSprites:

^AntiVehiclePriority:
	AutoTargetPriority@AntiVehiclePriority:
		RequiresCondition: stance-attackanything
		ValidTargets: Vehicle
		InvalidTargets: NoAutoTarget
		ValidRelationships: Enemy
		Priority: 1

^AutoTargetGround:
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
		MinimumScanTimeInterval: 19
		MaximumScanTimeInterval: 19
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything
		ValidTargets: Infantry, Vehicle, Creep, Water, Defence, Mine
		InvalidTargets: NoAutoTarget
		ValidRelationships: Enemy
		Priority: 2
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything
		ValidTargets: Infantry, Vehicle, Creep, Water, Building, Defence, Mine
		InvalidTargets: NoAutoTarget
		ValidRelationships: Enemy
		Priority: 2

^AutoTargetGroundAssaultMove:
	Inherits: ^AutoTargetGround
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything || assault-move
	AttackMove:
		AssaultMoveCondition: assault-move

^AutoTargetGroundAssaultMoveWithBerserkable:
	Inherits: ^AutoTargetGroundAssaultMove
	AutoTarget:
		RequiresCondition: !chaos

^AutoTargetAir:
	AutoTarget:
		MinimumScanTimeInterval: 19
		MaximumScanTimeInterval: 19
	AutoTargetPriority@DEFAULT:
		ValidTargets: Air
		InvalidTargets: NoAutoTarget

^AutoTargetAll:
	AutoTarget:
		AttackAnythingCondition: stance-attackanything
		MinimumScanTimeInterval: 19
		MaximumScanTimeInterval: 19
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything
		ValidTargets: Infantry, Vehicle, Creep, Water, Air, Defence, Mine
		InvalidTargets: NoAutoTarget
		ValidRelationships: Enemy
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything
		ValidTargets: Infantry, Vehicle, Creep, Water, Air, Building, Defence, Mine
		InvalidTargets: NoAutoTarget
		ValidRelationships: Enemy

^AutoTargetAllAssaultMove:
	Inherits: ^AutoTargetAll
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: stance-attackanything || assault-move
	AttackMove:
		AssaultMoveCondition: assault-move

^AutoTargetAllAssaultMoveWithBerserkable:
	Inherits: ^AutoTargetAllAssaultMove
	AutoTarget:
		RequiresCondition: !chaos

^AutoTargetHeal:
	AutoTarget:
		ScanRadius: 6
		MinimumScanTimeInterval: 19
		MaximumScanTimeInterval: 19
	AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry, Vehicle, Water, Defence, Building, Air
		InvalidTargets: FullHealth, Summoned
		ValidRelationships: Ally
		Priority: 2

^AutoTargetDroneRepair:
	AutoTarget:
		MinimumScanTimeInterval: 43
		MaximumScanTimeInterval: 43
	AutoTargetPriority@DEFAULT:
		ValidTargets: Vehicle,  Air
		InvalidTargets: FullHealth, Summoned, NoRepair
		ValidRelationships: Ally
		Priority: 2

^InfantryShape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Circle
			Radius: 128
			VerticalTopOffset: 512

^VehicleShape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Circle
			Radius: 340
			VerticalTopOffset: 512

^1x1Shape:
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
			LocalYaw: 128

^2x1Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -512
			BottomRight: 1024, 512

^1x2Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -512, -1024
			BottomRight: 512, 1024

^2x2Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024

^2x2DiagonalShape:
	HitShape@1:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 0, 0
	HitShape@2:
		Type: Rectangle
			TopLeft: 0, 0
			BottomRight: 1024, 1024
^1x3Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536

^3x1Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512

^3x2Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024

^2x3Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1536
			BottomRight: 1024, 1536

^3x3Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536

^2x4Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -2048
			BottomRight: 1024, 2048

^4x2Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024

^3x4Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -2048
			BottomRight: 1536, 2048

^4x3FactoryWithBibShape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -2048
			BottomRight: 1536, 1024
			LocalYaw: 128

^5x3FactoryWithBibShape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -3096
			BottomRight: 1536, 1024
			LocalYaw: 128

^NormalRefineryHitShape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -2048
			BottomRight: 1536, 0
			LocalYaw: 128

^FlippedRefineryHitshape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, 0
			BottomRight: 1536, 2048
			LocalYaw: 128

^FlippedRefineryXHitshape:
	HitShape:
		Type: Rectangle
			TopLeft: 0, -1536
			BottomRight: 2048, 1536
			LocalYaw: 128

^FlippedRefineryYHitshape:
	HitShape:
		Type: Rectangle
			TopLeft: -2048, -1536
			BottomRight: 0, 1536
			LocalYaw: 128

^4x3Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -2048, -1536
			BottomRight: 2048, 1536

^4x4Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -2048, -2048
			BottomRight: 2048, 2048

^3x5Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -2560
			BottomRight: 1536, 2560

^5x3Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -2560, -1536
			BottomRight: 2560, 1536

^2x5Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -2560
			BottomRight: 1024, 2560

^2x6Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -3072
			BottomRight: 1024, 3072

^3x6Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -3072
			BottomRight: 1536, 3072

^6x4Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -3072, -2048
			BottomRight: 3072, 2048

^6x6Shape:
	HitShape:
		Type: Rectangle
			TopLeft: -3072, -3072
			BottomRight: 3072, 3072

^CabalVehicleVoice:
	Voiced:
		VoiceSet: CabalVehicle
		Volume: 2

^GainsExperienceNonCombat:
	GainsExperience:
		LevelUpNotification: LevelUp
		LevelUpTextNotification: notification-promoted
		Conditions:
			200: rank-promotion
			400: rank-promotion
			600: rank-promotion
		LevelUpImage: crate-effects
	GrantCondition@rank-veteran:
		RequiresCondition: rank-promotion == 1
		Condition: rank-veteran
	GrantCondition@rank-elite:
		RequiresCondition: rank-promotion == 2
		Condition: rank-elite
	GrantCondition@rank-heroic:
		RequiresCondition: rank-promotion >= 3
		Condition: rank-heroic
	DamageMultiplier@rank-veteran:
		RequiresCondition: rank-veteran
		Modifier: 90
	DamageMultiplier@rank-elite:
		RequiresCondition: rank-elite
		Modifier: 80
	DamageMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 70
	SpeedMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 130
	ChangesHealth@rank-heroic:
		PercentageStep: 3
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: rank-heroic
	RevealsShroudMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 130
	WithDecoration@rank-veteran:
		Image: rank
		Sequence: rank-veteran
		Palette: pips
		Position: BottomRight
		RequiresCondition: rank-veteran
		ValidRelationships: Ally, Enemy, Neutral
	WithDecoration@rank-elite:
		Image: rank
		Sequence: rank-elite
		Palette: pips
		Position: BottomRight
		RequiresCondition: rank-elite
		ValidRelationships: Ally, Enemy, Neutral
	WithDecoration@rank-heroic:
		Image: rank
		Sequence: rank-heroic
		Palette: pips
		Position: BottomRight
		RequiresCondition: rank-heroic
		ValidRelationships: Ally, Enemy, Neutral
	WithStatIconOverlay@rank-veteran:
		Image: rank
		Sequence: rank-veteran
		Palette: pips
		RequiresCondition: rank-veteran
	WithStatIconOverlay@rank-elite:
		Image: rank
		Sequence: rank-elite
		Palette: pips
		RequiresCondition: rank-elite
	WithStatIconOverlay@rank-heroic:
		Image: rank
		Sequence: rank-heroic
		Palette: pips
		RequiresCondition: rank-heroic
	GainsExperienceMultiplier@armory:
		Modifier: 150
		RequiresCondition: ArmoryBuff
	GrantConditionOnPrerequisite@ArmoryBuff:
		Condition: ArmoryBuff
		Prerequisites: ArmoryExpBuff

^GainsExperience:
	Inherits: ^GainsExperienceNonCombat
	FirepowerMultiplier@rank-veteran:
		RequiresCondition: rank-veteran
		Modifier: 110
	FirepowerMultiplier@rank-elite:
		RequiresCondition: rank-elite
		Modifier: 120
	FirepowerMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 130
	ReloadDelayMultiplier@rank-veteran:
		RequiresCondition: rank-veteran
		Modifier: 90
	ReloadDelayMultiplier@rank-elite:
		RequiresCondition: rank-elite
		Modifier: 80
	ReloadDelayMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 70
	ReloadAmmoDelayMultiplier@rank-veteran:
		RequiresCondition: rank-veteran
		Modifier: 90
	ReloadAmmoDelayMultiplier@rank-elite:
		RequiresCondition: rank-elite
		Modifier: 80
	ReloadAmmoDelayMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 70
	RangeMultiplier@rank-heroic:
		RequiresCondition: rank-heroic
		Modifier: 130

^TyrannyBuff:
	SpeedMultiplier@TyrannyBuff:
		RequiresCondition: TyrannyBuff
		Modifier: 120
	ReloadDelayMultiplier@TyrannyBuff:
		RequiresCondition: TyrannyBuff
		Modifier: 80
	ReloadAmmoDelayMultiplier@TyrannyBuff:
		RequiresCondition: TyrannyBuff
		Modifier: 80
	DamageMultiplier@TyrannyBuff:
		RequiresCondition: TyrannyBuff
		Modifier: 120
	WithDecoration@TyrannyBuff:
		Image: zapicon
		Sequence: idle
		Position: BottomLeft
		Palette: apgreen
		ValidRelationships: Enemy, Neutral, Ally
		RequiresCondition: TyrannyBuff
	ExternalCondition@TyrannyBuff:
		Condition: TyrannyBuff

^NodZealousBuff:
	FirepowerMultiplier@ZealousBuff:
		RequiresCondition: ZealousBuff
		Modifier: 130
	ExternalCondition@ZealousBuff:
		Condition: ZealousBuff
	WithIdleOverlayOnGround@ZealousBuff:
		Sequence: zealous
		Palette: apred
		RequiresCondition: ZealousBuff
		IsDecoration: true ## so this doesn't affect by cloak palette

^CommandoIcon:
	WithDecoration@CommandoIcon:
		Image: skullicon
		Sequence: idle
		Palette: mouse
		ValidRelationships: Enemy, Neutral, Ally

^BossIcon:
	WithDecoration@CommandoIcon:
		Image: bossicon
		Sequence: idle
		Palette: mouse
		ValidRelationships: Enemy, Neutral, Ally

^WolfDebuff:
	WithIdleOverlay@WolfDebuff:
		Sequence: bullparticle
		Palette: jascgreen60
		RequiresCondition: WolfDebuff
		IsDecoration: true ## so this doesn't affect by cloak palette
	ReloadDelayMultiplier@WolfDebuff:
		RequiresCondition: WolfDebuff
		Modifier: 130
	ReloadAmmoDelayMultiplier@WolfDebuff:
		RequiresCondition: WolfDebuff
		Modifier: 130
	SpeedMultiplier@WolfDebuff:
		RequiresCondition: WolfDebuff
		Modifier: 70
	ExternalCondition@WolfDebuff:
		Condition: WolfDebuff

^DisplayWrench:
	WithDecoration@DisplayWrench:
		Image: wrenchicon
		Sequence: idle
		Position: BottomLeft
		Palette: apgrey
		ValidRelationships: Ally, Enemy
		RequiresCondition: DisplayWrench
	ExternalCondition@DisplayWrench:
		Condition: DisplayWrench

^FirestormGenBuff:
	DamageMultiplier@firestorm:
		Modifier: 50
		RequiresCondition: FirestormWallCondition
	ExternalCondition@FirestormWallCondition:
		Condition: FirestormWallCondition
	WithDecoration@FirestormWallCondition:
		Image: firestormicon
		Sequence: idle
		Position: BottomLeft
		Palette: mouse
		ValidRelationships: Ally, Enemy
		RequiresCondition: FirestormWallCondition

## The basic idea is:
## "MindControllable" is can be controlled by all MC units
## "MindControllableMastermind" is only can be instantly controlled by Mastermind,
## "MindControllableBuilding" is only can be controlled by Mastermind, but it has a delay
## "-Targetable@MC:" is absolute MindControlImmune
^MindControllable:
	WithMindControlArc:
		ZOffset: 8000
		Transparency: 128
		QuantizedSegments: 24
		UsePlayerColor: true
	MindControllable:
		RevokeControlSounds: gmindcle.wav
		Condition: mindcontrolled
	Targetable@MC:
		TargetTypes: MindControllable
		RequiresCondition: !mindcontrolled
	WithDecoration@mindcontrolled:
		Image: mindcontrolled
		Sequence: mindcontrolled
		Position: Top
		IsPlayerPalette: true
		Palette: player
		RequiresCondition: mindcontrolled
		ValidRelationships: Enemy, Neutral, Ally

^MindControllableMastermind:
	Inherits: ^MindControllable
	Targetable@MC:
		TargetTypes: MindControllableMastermind

^MindControllableBuilding:
	Inherits: ^MindControllable
	Targetable@MC:
		TargetTypes: MindControllableBuilding

^AISellOnMindControl:
	IssueOrderToBot@AISell:
		RequiresCondition: mindcontrolled
		OrderName: Sell
		OrderTrigger: Periodically
		OrderChance: 100
		OrderInterval: 45

^AISellOnMindControlWhenDock:
	Inherits: ^AISellOnMindControl
	IssueOrderToBot@AISell:
		RequiresCondition: mindcontrolled && unit.sellable

^Berserkable:
	Berserkable@CHAOS:
		RequiresCondition: chaos
		TargetTypesToIgnore: Mine
	RejectsOrders@CHAOS:
		RequiresCondition: chaos
	WithDecoration@CHAOS:
		Image: afflicted
		Sequence: afflicted
		Position: Top
		Palette: apred
		ValidRelationships: Enemy, Neutral, Ally
		RequiresCondition: chaos
	TimedConditionBar@CHAOS:
		Color: 770000
		Condition: chaos
	ExternalCondition@CHAOS:
		Condition: chaos


^ScrinEssence:
	ExplodesAlsoTransported@EssenceDeath:
		DamageSource: Killer
		Weapon: SpawnEssence
		DeathTypes: ScrinEssenceKill

^Chronoshiftable:
	RA2Chronoshiftable:
		TerrainsAndDeathTypes:
			Water, Waterfall: DrownedDeath, ScrinEssenceKill

^PlayerHandicaps:
	HandicapFirepowerMultiplier:
	HandicapDamageMultiplier:
	#HandicapProductionTimeMultiplier:

^FlatSelectionMode:
	Selectable:
		PriorityModifiers: Ctrl

^LowPrioritySelectionMode:
	Selectable:
		Priority: 6
		PriorityModifiers: Ctrl, Alt

^Cloakable: ##Mainly used for Nod cloak field effect
	Cloak@CLOAKGENERATOR:
		RequiresCondition: cloakgenerator
		InitialDelay: 75
		CloakDelay: 150
		MinCloakedAlpha: 0.4
		MaxCloakedAlpha: 0.7
		UncloakOn: Attack, Damage, Heal, SupportPower
	ExternalCondition@CLOAKGENERATOR:
		Condition: cloakgenerator

##Mainly used for Nod cloak field effect, pre-require ^Cloakable
^WithTriggerCloakEffect:
	Cloak@CLOAKGENERATOR:
		CloakSound: cloak5.aud
		UncloakSound: cloak5.aud
		EffectImage: explosion
		EffectPalette: MarnAlpha20

^WithTriggerCloakEffect-Infantry:
	Inherits: ^WithTriggerCloakEffect
	Cloak@CLOAKGENERATOR:
		CloakEffectSequence: marnflash7
		UncloakEffectSequence: marnflash7
		EffectOffset: 0, 0, 400

^WithTriggerCloakEffect-Vehicle:
	Inherits: ^WithTriggerCloakEffect
	Cloak@CLOAKGENERATOR:
		CloakEffectSequence: marnflash3
		UncloakEffectSequence: marnflash3
		EffectOffset: 0, 0, 300

^WithTriggerCloakEffect-Building:
	Inherits: ^WithTriggerCloakEffect
	Cloak@CLOAKGENERATOR:
		CloakEffectSequence: marnflash2
		UncloakEffectSequence: marnflash2
		EffectOffset: 0, 0, 300

^WithTriggerCloakEffect-Defence:
	Inherits: ^WithTriggerCloakEffect
	Cloak@CLOAKGENERATOR:
		CloakEffectSequence: marnflash6
		UncloakEffectSequence: marnflash6
		EffectOffset: 0, 0, 300

^RevealItselfToAll:
	RevealsShroud@revealhimself:
		RequiresCondition: !cloaking-self
		ValidRelationships: Neutral, Enemy
		MaxHeightDelta: 3
		Range: 2c0

^SuperWeapon:
	Inherits@PowerDownDisable: ^DisableOnLowPowerOrPowerDown
	Inherits@RevealItself: ^RevealItselfToAll
	Power:
		Amount: -200
	SupportPowerChargeBar:
	NotificationAnnouncement:
		Notification: SuperWeaponDetected
		TextNotification: notification-superweapon-detected
		ValidRelationships: Neutral, Enemy
		PlayToOwner: False
		PingRadar: True
	ProvidesPrerequisite@swlimit:
		RequiresPrerequisites: global-swlimit

^IncompleteSelfHeal:
	ChangesHealth@Incomplete:
		PercentageStep: 1
		Step: 0
		Delay: 50
		StartIfBelow: 50
		DamageCooldown: 100

^PermanentSelfHeal:
	ChangesHealth@Permanent:
		PercentageStep: 1
		Step: 0
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 100

^CABALSelfHeal:
	ChangesHealth@Permanent:
		PercentageStep: 1
		Step: 0
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 0

^HealsOnTiberium:
	GrantConditionOnTerrain@Tib:
		Condition: TiberiumHealing
		TerrainTypes: Tiberium, BlueTiberium
	ChangesHealth@Tib:
		PercentageStep: 1
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: TiberiumHealing

^HopspitalHeal:
	ChangesHealth@HOSPITAL:
		PercentageStep: 3
		Step: 0
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: hospitalheal
	GrantConditionOnPrerequisite@hospitalheal:
		Condition: hospitalheal
		Prerequisites: cahosp
	WithDecoration@hospitalheal:
		Image: healpip
		Sequence: idle
		Position: BottomLeft
		Palette: mouse
		ValidRelationships: Ally, Enemy, Neutral
		BlinkPattern: On,On, Off
		BlinkInterval: 15
		RequiresCondition: hospitalheal && !FullHealth
	ExternalCondition@hospitalheal:
		Condition: hospitalheal

^MachineShopHeal:
	ChangesHealth@MachineShopHeal:
		PercentageStep: 1
		Step: 0
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: MachineShopHeal
	GrantConditionOnPrerequisite@MachineShopHeal:
		Condition: MachineShopHeal
		Prerequisites: machineshop
	WithDecoration@MachineShopHeal:
		Image: wrenchicon
		Sequence: idle
		Position: BottomLeft
		ValidRelationships: Ally, Enemy, Neutral
		Palette: player
		BlinkPattern: On,On, Off
		BlinkInterval: 15
		RequiresCondition: MachineShopHeal && !FullHealth

^Unkillable:
	DamageMultiplier@Unkillable:
		Modifier: 0

^HeavyDamagedEffect:
	GrantConditionOnDamageState@HeavyDamaged:
		Condition: HeavyDamaged
		ValidDamageStates: Critical, Heavy

^CriticalDamagedEffect:
	GrantConditionOnDamageState@CriticalDamaged:
		Condition: CriticalDamaged
		ValidDamageStates: Critical

^LowHealthSpeedPenalty:
	Inherits: ^CriticalDamagedEffect
	SpeedMultiplier@CRITICAL:
		Modifier: 75
		RequiresCondition: CriticalDamaged

^VeinholePoisonVehicle:
	ChangesHealth@veinholedrain:
		PercentageStep: 0
		Step: -500
		Delay: 5
		StartIfBelow: 128
		RequiresCondition: veinholedrain
	ExternalCondition@veinholedrain:
		Condition: veinholedrain
	WithIdleOverlay@veinholedrain:
		Sequence: veins
		IsPlayerPalette: true
		Palette: player
		RequiresCondition: veinholedrain
		IsDecoration: true ## so this doesn't affect by cloak palette
	GrantConditionOnTerrain@VEINS:
		TerrainTypes: Veins
		Condition: veinholedrain

^BugPoison:
	Inherits: ^CriticalDamagedEffect
	WithIdleOverlay@BugPoison:
		Sequence: cloud
		IsPlayerPalette: true
		Palette: playerscrin
		RequiresCondition: BugPoison || BugSlowPoison
		IsDecoration: true ## so this doesn't affect by cloak palette
	ChangesHealth@BugPoison:
		PercentageStep: -1
		Step: 0
		Delay: 20
		StartIfBelow: 200
		RequiresCondition: (BugPoison || BugSlowPoison) && !CriticalDamaged
	SpeedMultiplier@BugSlowPoison:
		Modifier: 50
		RequiresCondition: BugSlowPoison
	ExternalCondition@BugPoison:
		Condition: BugPoison
	ExternalCondition@BugSlowPoison:
		Condition: BugSlowPoison

^ToxinTrooperDebuff:
	SpeedMultiplier@ToxinTrooperDebuff:
		RequiresCondition: ToxinTrooperDebuff
		Modifier: 15
	ExternalCondition@ToxinTrooperDebuff:
		Condition: ToxinTrooperDebuff
	TimedConditionBar@ToxinTrooperDebuff:
		Condition: ToxinTrooperDebuff
		Color: 88AA12

^Slowdown50pp:
	SpeedMultiplier@Slowdown50pp:
		RequiresCondition: Slowdown50pp
		Modifier: 50
	ExternalCondition@Slowdown50pp:
		Condition: Slowdown50pp
	TimedConditionBar@Slowdown50pp:
		Condition: Slowdown50pp
		Color: 88AA12

^EmpDisable:
	WithColoredOverlay@EMPDISABLE:
		RequiresCondition: empdisable
		Color: 000000AA
	TimedConditionBar@EMPDISABLE:
		Condition: empdisable
		Color: FFFFFF
	WithIdleOverlay@EMPDISABLE:
		Sequence: emp-overlay
		Palette: effect
		RequiresCondition: empdisable
		Offset: 0,0,512
		IsDecoration: true ## so this doesn't affect by cloak palette
	ExternalCondition@empdisable:
		Condition: empdisable

^EmpDisableMobile:
	Inherits: ^EmpDisable
	Mobile:
		PauseOnCondition: empdisable
	SpeedMultiplier@InstantStop:
		RequiresCondition: empdisable
		Modifier: 0

^DisableOnLowPower:
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled
		Color: 000000AA
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower
		Condition: disabled

^DisableOnLowPowerOrPowerDown:
	Inherits: ^DisableOnLowPower
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSpeech: DisablePower
		DisabledTextNotification: notification-building-online
		EnabledSpeech: EnablePower
		EnabledTextNotification: notification-building-offline
		Condition: powerdown
		OrderName: PowerDown
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: mouse
		RequiresCondition: powerdown
		Position: Center
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0

^WebDisable:
	TimedConditionBar@WebDisable:
		Condition: WebDisable
		Color: FFFFFF
	Mobile:
		PauseOnCondition: WebDisable
	SpeedMultiplier@InstantStop:
		RequiresCondition: WebDisable
		Modifier: 0
	WithInfantryBody:
		RequiresCondition: !WebDisable
	WithIdleOverlay@web:
		Sequence: webguy
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: WebDisable
	ExternalCondition@WebDisable:
		Condition: WebDisable

^Nanomachinebuff:
	ChangesHealth@nanomachinerecovery:
		PercentageStep: 2
		Step: 0
		Delay: 25
		StartIfBelow: 100
		RequiresCondition: nanomachinerecovery
	WithIdleOverlay@nanomachinerecovery:
		Image: nanoparticle
		Sequence: idle-big
		Palette: jascgrey60
		RequiresCondition: nanomachinerecovery
		IsDecoration: true ## so this doesn't affect by cloak palette
	ExternalCondition@nanomachinerecovery:
		Condition: nanomachinerecovery
	SpawnCorpseOnDeath@nanomachinereanimate:

^tractorstop:
	SpeedMultiplier@tractorstop:
		RequiresCondition: tractorstop
		Modifier: 0
	ExternalCondition@tractorstop:
		Condition: tractorstop

^DisplayVanguardShield:
	WithIdleOverlay@shield:
		Sequence: shield
		IsPlayerPalette: true
		Palette: playerscrin
		RequiresCondition: shields-up && !inside-tunnel
		IsDecoration: true ## so this doesn't affect by cloak palette
	ExternalCondition@VanguardShield:
		Condition: VanguardShield
	Shielded@Shield:
		MaxStrength: 15000
		InitialStrength: 0
		DamageRegenDelay: 250
		RegenAmount: 750
		RegenInterval: 10
		BlockExcessDamage: true
		SelectionBarColor: 36fbff
		ShieldsUpCondition: shields-up
		PauseOnCondition: empdisable
		RequiresCondition: VanguardShield
	Armor:
		RequiresCondition: !shields-up
	Armor@Shield:
		Type: Shield
		RequiresCondition: shields-up

^SpawnSmoke:
	Inherits: ^CriticalDamagedEffect
	FloatingSpriteEmitter@spawnsmoke:
		RequiresCondition: CriticalDamaged
		Sequences: idle
		SpawnFrequency: 6, 12
		Speed: 6
		Gravity: 70
		Offset: 0,0,0
		Image: sgrysmk1
		Palette: effect
		Lifetime: 60
		Duration: -1
		RandomFacing: True

^SpawnSpark:
	Inherits: ^HeavyDamagedEffect
	SpawnSparks:
		RequiresCondition: HeavyDamaged
		SparkWeapon: SparkDebris
		Amount: 3
		LaunchEffectImage: explosion
		LaunchEffectSequences: smallspark

^SpawnFire:
	Inherits: ^HeavyDamagedEffect
	WithIdleOverlay@SpawnFire:
		RequiresCondition: HeavyDamaged
		Image: building_fire
		Sequence: building_fire
		Palette: effect
		IsDecoration: true ## so this doesn't affect by cloak palette

^DamagedByTintedCells: #Damage = DamageCoeff * RadioactivityLevel / MaxLevel
	DamagedByTintedCells@Default:
		Damage: 30
		DamageTypes: TiberiumDeath
		DamageLevel: 5
		DamageInterval: 25
	DamagedByTintedCells@BlueRadiation:
		Damage: 60
		DamageTypes: TiberiumDeath
		DamageLevel: 5
		DamageInterval: 25
		LayerName: BlueRadiation
	DamagedByTintedCells@OrangeRadiation:
		Damage: 10
		DamageTypes: FireDeath
		DamageLevel: 5
		DamageInterval: 25
		LayerName: OrangeRadiation
	DamagedByTintedCells@Colossus:
		Damage: 60
		DamageTypes: EnergyDeath
		DamageLevel: 5
		DamageInterval: 25
		LayerName: ColossusRadiation

^AffectedByAPAmmunition:
	ActorStatValues:
		Upgrades: upgrade.ap_ammunition
	FirepowerMultiplier@APAMMUNITION:
		Modifier: 150
		RequiresCondition: apammo
	GrantConditionOnPrerequisite@APAMMUNITION:
		Condition: apammo
		Prerequisites: upgrade.ap_ammunition

^AffectedByNanofiberVests:
	ActorStatValues:
		Upgrades: upgrade.nanofiber_vests
	DamageMultiplier@NANOFIBERVESTS:
		Modifier: 80
		RequiresCondition: nanofibers
	GrantConditionOnPrerequisite@NANOFIBERVESTS:
		Condition: nanofibers
		Prerequisites: upgrade.nanofiber_vests

^AffectedByRailguns:
	ActorStatValues:
		Upgrades: upgrade.railguns
	GrantConditionOnPrerequisite@RAILGUNS:
		Condition: railguns
		Prerequisites: upgrade.railguns

^AffectedByCeramicPlating:
	ActorStatValues:
		Upgrades: upgrade.ceramic_plating
	DamageMultiplier@CERAMICPLATING:
		Modifier: 80
		RequiresCondition: ceramic_plating
	GrantConditionOnPrerequisite@CERAMICPLATING:
		Condition: ceramic_plating
		Prerequisites: upgrade.ceramic_plating

^AffectedByPurifyingFlame:
	ActorStatValues:
		Upgrades: upgrade.purifying_flame
	FirepowerMultiplier@BLUEFLAME:
		Modifier: 150
		RequiresCondition: blueflame
	GrantConditionOnPrerequisite@BLUEFLAME:
		Condition: blueflame
		Prerequisites: upgrade.purifying_flame

^AffectedByRaiderPassenger:
	ActorStatValues:
		Upgrades: upgrade.raider_passenger
	FreePassenger:
		Actors: altnode1
		RequiresCondition: raidere1
	GrantConditionOnPrerequisite@RAIDERE1:
		Condition: raidere1
		Prerequisites: upgrade.raider_passenger

^AffectedByExplosiveMixtures: ##TODO
	ActorStatValues:
		Upgrades: upgrade.explosive_mixtures
	GrantConditionOnPrerequisite@EXPLOSIVEMIXTURES:
		Condition: explosive_mixtures
		Prerequisites: upgrade.explosive_mixtures

^AffectedByImprovedStealthGenerator:
	ActorStatValues:
		Upgrades: upgrade.improved_stealth_generator
	GrantConditionOnPrerequisite@IMPROVEDSGEN:
		Condition: improvedsgen
		Prerequisites: upgrade.improved_stealth_generator

^AffectedByTibCoreMissiles:
	ActorStatValues:
		Upgrades: upgrade.tib_core_missiles
	FirepowerMultiplier@EXPLOSIVEMIXTURES:
		Modifier: 150
		RequiresCondition: tibcore
	GrantConditionOnPrerequisite@TIBCORE:
		Condition: tibcore
		Prerequisites: upgrade.tib_core_missiles

^AffectedByLaserCapacitors:
	ActorStatValues:
		Upgrades: upgrade.laser_capacitors
	GrantConditionOnPrerequisite@CAPACITORS:
		Condition: capacitors
		Prerequisites: upgrade.laser_capacitors

^AffectedByBrickWalls:
	ActorStatValues:
		Upgrades: upgrade.fortified_upg
	GrantConditionOnPrerequisite@BRICKWALLS:
		Condition: fortified_upg
		Prerequisites: upgrade.fortified_upg

^AffectedByBlueShards:
	ActorStatValues:
		Upgrades: upgrade.blue_shards
	FirepowerMultiplier@BLUESHARDS:
		Modifier: 125
		RequiresCondition: blue_shards
	GrantConditionOnPrerequisite@BLUESHARDS:
		Condition: blue_shards
		Prerequisites: upgrade.blue_shards

^AffectedByLynxRockets:
	ActorStatValues:
		Upgrades: upgrade.lynx_rockets
	GrantConditionOnPrerequisite@LYNXROCKETS:
		Condition: lynx_rockets
		Prerequisites: upgrade.lynx_rockets

^AffectedByTiberiumInfusion:
	ActorStatValues:
		Upgrades: upgrade.tiberium_infusion
	DamageMultiplier@TIBERIUMINFUSION:
		Modifier: 80
		RequiresCondition: tibinfusion
	SpeedMultiplier@TIBERIUMINFUSION:
		Modifier: 125
		RequiresCondition: tibinfusion
	ChangesHealth@TIBERIUMINFUSION:
		PercentageStep: 1
		Step: 0
		Delay: 50
		StartIfBelow: 100
		DamageCooldown: 100
		RequiresCondition: tibinfusion
	GrantConditionOnPrerequisite@TIBERIUMINFUSION:
		Condition: tibinfusion
		Prerequisites: upgrade.tiberium_infusion

^AffectedByTiberiumGasWarheads:
	ActorStatValues:
		Upgrades: upgrade.tiberium_gas_warheads
	GrantConditionOnPrerequisite@TIBGASWH:
		Condition: tibgaswh
		Prerequisites: upgrade.tiberium_gas_warheads

^AffectedByCyberneticLegEnhancements:
	ActorStatValues:
		Upgrades: upgrade.cybernetic_leg_enhancements
	SpeedMultiplier@CYBERNETICLEGENHANCEMENTS:
		Modifier: 167
		RequiresCondition: cyborglegs && !CriticalDamaged
	GrantConditionOnPrerequisite@CYBERNETICLEGENHANCEMENTS:
		Condition: cyborglegs
		Prerequisites: upgrade.cybernetic_leg_enhancements

^AffectedByLimpetAATargeting:
	ActorStatValues:
		Upgrades: upgrade.limpet_aa_targeting
	GrantConditionOnPrerequisite@LIMPETAA:
		Condition: limpetaa
		Prerequisites: upgrade.limpet_aa_targeting

^AffectedByImprovedReaperNets:
	ActorStatValues:
		Upgrades: upgrade.improved_reaper_nets
	GrantConditionOnPrerequisite@IMPROVEDNETS:
		Condition: improvednets
		Prerequisites: upgrade.improved_reaper_nets

^AffectedByReclaimAndRecycle:
	ActorStatValues:
		Upgrades: upgrade.reclaim_and_recycle
	DamageMultiplier@RECYCLE:
		Modifier: 67
		RequiresCondition: recycle
	SpeedMultiplier@RECYCLE:
		Modifier: 134
		RequiresCondition: recycle
	GrantConditionOnPrerequisite@RECYCLE:
		Condition: recycle
		Prerequisites: upgrade.reclaim_and_recycle

^AffectedByRegenerativeMaterials:
	ActorStatValues:
		Upgrades: upgrade.regenerative_materials
	ChangesHealth@REGEN_MATERIALS:
		PercentageStep: 1
		Step: 0
		Delay: 75
		StartIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: regen_materials
	GrantConditionOnPrerequisite@REGEN_MATERIALS:
		Condition: regen_materials
		Prerequisites: upgrade.regenerative_materials

^AffectedByGatlingCannons:
	ActorStatValues:
		Upgrades: upgrade.gatling_cannons
	GatlingReloadDelayMultiplier:
		MinModifier: 40
		CoolDownDelay: 12
		CoolDownChange: 3
		RequiresCondition: gatling
	GrantConditionOnPrerequisite@GATLING:
		Condition: gatling
		Prerequisites: upgrade.gatling_cannons

^AffectedByViniferaCatalysts:
	ActorStatValues:
		Upgrades: upgrade.vinifera_catalysts
	GrantConditionOnPrerequisite@VINIFERACATALYSTS:
		Condition: vinifera_catalysts
		Prerequisites: upgrade.vinifera_catalysts

^AffectedByTiberiumConversion:
	GrantConditionOnPrerequisite@megawealth:
		Condition: megawealth
		Prerequisites: global-megawealth
	GrantConditionOnDeployWithCharge@TIBCONVERSION:
		DeployedCondition: absorbTib
		ChargeDuration: 2000
		ConditionDuration: 50
		PauseOnCondition: empdisable
		RequiresCondition: tibconversion && !megawealth
	SpawnSparks@TIBCONVERSION:
		Interval: 3
		SparkWeapon: AbsorbTibField
		Amount: 1
		RequiresCondition: !empdisable && absorbTib
	ExternalCondition@TIBCONVERSION:
		Condition: charge
	AmmoPool@TIBCONVERSION:
		InitialAmmo: 0
		Ammo: 3
		AmmoCondition: charged
		Armaments: primary
	ReloadAmmoPool@TIBCONVERSION:
		Delay: 2
		PauseOnCondition: !charge
	WithAmmoPipsDecoration@TIBCONVERSION:
		Margin: 4, 3
		FullSequence: pip-cannon
		EmptySequence: pip-cannonempty
		Palette: jascgreen
		Position: BottomLeft
		RequiresSelection: true
		RequiresCondition: tibconversion
	ActorStatValues:
		Upgrades: upgrade.tiberium_conversion
	FirepowerMultiplier@TIBCONVERSION:
		Modifier: 150
		RequiresCondition: charged
	GrantConditionOnPrerequisite@TIBCONVERSION:
		Condition: tibconversion
		Prerequisites: upgrade.tiberium_conversion
	GrantConditionOnTerrain@TIBCONVERSIONAI:
		Condition: OnTiber
		TerrainTypes: Tiberium, BlueTiberium
	IssueOrderToBot@TIBCONVERSION:
		OrderTrigger: Periodically
		OrderName: DeployWithCharge
		OrderInterval: 220
		RequiresCondition: OnTiber && tibconversion

^AffectedByAerialGliders:
	ActorStatValues:
		Upgrades: upgrade.aerial_gliders
	GrantConditionOnPrerequisite@AERIALGLIDERS:
		Condition: aerial_gliders
		Prerequisites: upgrade.aerial_gliders

^AffectedByImprovedPlagueGas:
	ActorStatValues:
		Upgrades: upgrade.improved_plague_gas
	GrantConditionOnPrerequisite@IMPPLAGUEGAS:
		Condition: impplaguegas
		Prerequisites: upgrade.improved_plague_gas

^AffectedByDiscBarrage:
	GrantConditionOnPrerequisite@DISCBARRAGE:
		Condition: discbarrage
		Prerequisites: upgrade.disc_barrage

^AffectedByHyperFlightRotors:
	ActorStatValues:
		Upgrades: upgrade.hyper_flight_rotors
	SpeedMultiplier@HYPERFLIGHTROTORS:
		Modifier: 140
		RequiresCondition: hyperflight
	GrantConditionOnPrerequisite@HYPERFLIGHTROTORS:
		Condition: hyperflight
		Prerequisites: upgrade.hyper_flight_rotors

^3CellVision:
	RevealsShroud:
		Range: 3c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 1c512

^4CellVision:
	RevealsShroud:
		Range: 4c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 2c0

^5CellVision:
	RevealsShroud:
		Range: 5c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 2c512

^6CellVision:
	RevealsShroud:
		Range: 6c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 3c0

^7CellVision:
	RevealsShroud:
		Range: 7c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 3c512

^8CellVision:
	RevealsShroud:
		Range: 8c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 4c0

^9CellVision:
	RevealsShroud:
		Range: 9c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 4c512

^10CellVision:
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 5c0

^11CellVision:
	RevealsShroud:
		Range: 11c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 5c512

^12CellVision:
	RevealsShroud:
		Range: 12c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 6c0

^13CellVision:
	RevealsShroud:
		Range: 13c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 6c512

^14CellVision:
	RevealsShroud:
		Range: 14c0
		Type: GroundPosition
	RevealOnDeath:
		Duration: 50
		Radius: 7c0

^7CellVisionAir:
	RevealsShroud@Landed:
		Range: 6c0
		Type: GroundPosition
		RequiresCondition: !airborne
	RevealOnDeath@Landed:
		Duration: 50
		Radius: 3c0
		RequiresCondition: !airborne
	RevealsShroud@Airborne:
		Range: 7c0
		Type: GroundPosition
		RequiresCondition: airborne
	RevealOnDeath@Airborne:
		Duration: 50
		Radius: 3c512
		RequiresCondition: airborne

^8CellVisionAir:
	Inherits: ^7CellVisionAir
	RevealsShroud@Airborne:
		Range: 8c0
	RevealOnDeath@Airborne:
		Radius: 4c0

^9CellVisionAir:
	Inherits: ^7CellVisionAir
	RevealsShroud@Airborne:
		Range: 9c0
	RevealOnDeath@Airborne:
		Radius: 4c512

^10CellVisionAir:
	Inherits: ^7CellVisionAir
	RevealsShroud@Airborne:
		Range: 10c0
	RevealOnDeath@Airborne:
		Radius: 5c0

^11CellVisionAir:
	Inherits: ^7CellVisionAir
	RevealsShroud@Airborne:
		Range: 11c0
	RevealOnDeath@Airborne:
		Radius: 5c512

^12CellVisionAir:
	Inherits: ^7CellVisionAir
	RevealsShroud@Airborne:
		Range: 12c0
	RevealOnDeath@Airborne:
		Radius: 6c0

^Blind:
	RevealsShroudMultiplier@Blind:
		RequiresCondition: Blind
		Modifier: 30
	ExternalCondition@blind:
		Condition: Blind

^FullHealthRepairCondition:
	Targetable@FullHealth:
		RequiresCondition: FullHealth
		TargetTypes: FullHealth
	GrantConditionOnDamageState@FullHealth:
		Condition: FullHealth
		ValidDamageStates: Undamaged

^UsesAmmunition:
	AmmoPool:
		Ammo: 8
	WithAmmoPipsDecoration:
		ValidRelationships: Ally, Neutral, Enemy
		Position: BottomLeft
		RequiresSelection: true

^AImicroManagable:
	GrantConditionOnBotOwner@AImicroManage:
		Condition: AImicroManage
		Bots: EasyAI, NormalAI, CheaterAI, ShatteredAI, ParadiseAI

^ConditionForEachFaction:
	GrantConditionOnFaction@GDI:
		Condition: gdi
		Factions: gdi
		ResetOnOwnerChange: true
	GrantConditionOnFaction@NOD:
		Condition: nod
		Factions: nod
		ResetOnOwnerChange: true
	GrantConditionOnFaction@MUT:
		Condition: mut
		Factions: mut
		ResetOnOwnerChange: true
	GrantConditionOnFaction@CAB:
		Condition: cab
		Factions: cab
		ResetOnOwnerChange: true
	GrantConditionOnFaction@SCR:
		Condition: scr
		Factions: scr
		ResetOnOwnerChange: true

^GenericEffects:
	#Inherits@0: ^KillSelf #deprecated, now firestorm use very high damage to kill
	Inherits@1: ^Cloakable
	Inherits@2: ^ScrinEssence
	Inherits@3: ^Nanomachinebuff
	Inherits@4: ^FirestormGenBuff
	RevealOnFire:
		Duration: 50
		Radius: 3c0
	OwnerLostAction:
		Action: Kill

^StructureEffects:
	Inherits: ^GenericEffects
	Inherits@1: ^EmpDisable
	Inherits@2: ^SpawnSmoke
	Inherits@3: ^SpawnSpark
	Inherits@4: ^WithTriggerCloakEffect-Building
	Inherits@5: ^MindControllableBuilding
	Cloak@CLOAKGENERATOR:
		CloakedCondition: cloaking-self
	FloatingSpriteEmitter@spawnsmoke:
		RequiresCondition: CriticalDamaged && !cloaking-self
	SpawnSparks:
		RequiresCondition: HeavyDamaged && !cloaking-self
	WithIdleOverlay@SpawnFire:
		RequiresCondition: HeavyDamaged && !cloaking-self

^InfantryEffects:
	Inherits: ^GenericEffects
	Inherits@1: ^TyrannyBuff
	Inherits@2: ^InfantryStealthDetection
	Inherits@3: ^HopspitalHeal
	Inherits@4: ^ToxinTrooperDebuff
	Inherits@5: ^Chronoshiftable
	Inherits@6: ^WebDisable
	Inherits@7: ^BugPoison
	# Inherits@8: ^DisplayVanguardShield
	Inherits@9: ^DamagedByTintedCells
	Inherits@10: ^WolfDebuff
	Inherits@13: ^FullHealthRepairCondition
	Inherits@14: ^Slowdown50pp
	Inherits@15: ^WithTriggerCloakEffect-Infantry
	Inherits@16: ^MindControllable
	Inherits@19: ^Berserkable
	Inherits@20: ^NodZealousBuff
	GrantConditionOnTunnelLayer:
		Condition: inside-tunnel
	Targetable@FullHealth:
		RequiresCondition: FullHealth || inside-tunnel
		TargetTypes: FullHealth
	WithIdleOverlay@nanomachinerecovery:
		Image: nanoparticle
		Sequence: idle-small
	DeliversCash:
		Payload: 50

^VehicleEffects:
	Inherits: ^GenericEffects
	Inherits@1: ^TyrannyBuff
	Inherits@2: ^DisplayWrench
	Inherits@3: ^MachineShopHeal
	Inherits@4: ^BugPoison
	Inherits@5: ^EmpDisableMobile
	Inherits@6: ^SpawnSmoke
	Inherits@7: ^MindControllable
	Inherits@8: ^SpawnSpark
	Inherits@9: ^DisplayVanguardShield
	Inherits@10: ^VeinholePoisonVehicle
	Inherits@11: ^DamagedByTintedCells
	Inherits@12: ^WolfDebuff
	Inherits@14: ^Chronoshiftable
	Inherits@15: ^FullHealthRepairCondition
	Inherits@16: ^ToxinTrooperDebuff
	Inherits@17: ^Slowdown50pp
	Inherits@18: ^WithTriggerCloakEffect-Vehicle
	Inherits@19: ^Berserkable
	Inherits@20: ^LowHealthSpeedPenalty
	GrantConditionOnTunnelLayer:
		Condition: inside-tunnel
	Targetable@FullHealth:
		RequiresCondition: FullHealth || inside-tunnel
		TargetTypes: FullHealth
	Cloak@CLOAKGENERATOR:
		CloakedCondition: cloaking-self
	FloatingSpriteEmitter@spawnsmoke:
		RequiresCondition: CriticalDamaged && !cloaking-self && !inside-tunnel
	SpawnSparks:
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel

^AircraftEffects:
	Inherits: ^GenericEffects
	Inherits@1: ^tractorstop
	Inherits@2: ^SpawnSmoke
	Inherits@3: ^SpawnSpark
	Inherits@4: ^MindControllableMastermind
	Inherits@5: ^FullHealthRepairCondition
	Inherits@6: ^WithTriggerCloakEffect-Vehicle
	Inherits@7: ^Berserkable
	Cloak@CLOAKGENERATOR:
		CloakedCondition: cloaking-self
	FloatingSpriteEmitter@spawnsmoke:
		RequiresCondition: CriticalDamaged && !cloaking-self
	SpawnSparks:
		RequiresCondition: HeavyDamaged && !cloaking-self

^ProducesUnits:
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		Position: Top
		Color: E0D048
		RequiresCondition: primary && !multiqueue
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
		SelectionTextNotification: notification-primary-building
		RequiresCondition: !multiqueue
	GrantConditionOnPrerequisite@multiqueue:
		Condition: multiqueue
		Prerequisites: global-multiqueue
	RallyPoint:
		Path: 2,3
		Palette: mouse
		IsPlayerPalette: false
	CommandBarBlacklist:
		DisableStop: false
	FreeActor@Dummy:
		Actor: QueueUpdaterDummy
		RequiresCondition: updatequeue
	GrantConditionAfterDelay:
		Delay: 1
		Condition: updatequeue
		ShowSelectionBar: false

^CivBillboard:
	Inherits: ^CivBuilding
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 40000
	MapEditorData:
		RequireTilesets: TEMPERATE
	MapEditorData:
		Categories: Billboards
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 36

^Crate:
	HiddenUnderFog:
	Tooltip:
		Name: crate-name
	Crate:
		Duration: 10800
		TerrainTypes: Clear, Rough, Sand, Road, DirtRoad, Tiberium, BlueTiberium, Veins, Green, Pavement
	RenderSprites:
		Palette: unitterrain
	WithCrateBody:
	MapEditorData:
		Categories: Crate
	Interactable:
		Bounds: 823,1447

^BuildingPlug:
	AlwaysVisible:
	Interactable:
	Building:
		BuildSounds: place2.aud
	SequencePlaceBuildingPreview:
		Sequence: place
		SequenceAlpha: 0.55
		Palette: placefootprint
	KillsSelf:
		RemoveInstead: true
	RenderSprites:
	RequiresBuildableArea:
		AreaTypes: building

^Infantry:
	Inherits@1: ^InfantryEffects
	Inherits@2: ^ExistsInWorld
	Inherits@3: ^SpriteActor
	Inherits@4: ^InfantryShape
	Inherits@5: ^6CellVision
	Inherits@BLIND: ^Blind
	Inherits@HANDICAPS: ^PlayerHandicaps
	Inherits@SELECTION_MODE: ^FlatSelectionMode
	ActorLostNotification:
		TextNotification: notification-unit-lost
	AttackMove:
		Voice: Move
	Armor:
		Type: Infantry
	Crushable:
		WarnProbability: 0
		CrushSound: squish6.aud
	DamagedByTerrain:
		Damage: 300
		DamageInterval: 25
		Terrain: Tiberium, BlueTiberium
		DamageTypes: TiberiumDeath
	DamagedByTintedCells@OrangeRadiation:
		Damage: 20
	DrawLineToTarget:
	DeathSounds@NORMAL:
		DeathTypes: BulletDeath, ExplosionDeath, CabalDeath, CabalDeathUpg, TiberiumDeath
	DeathSounds@BURNED:
		Voice: Burned
		DeathTypes: FireDeath
	DeathSounds@ZAPPED:
		Voice: Zapped
		DeathTypes: EnergyDeath
	MapEditorData:
		Categories: Infantry
	GivesExperience:
		PlayerExperienceModifier: 100
	GivesExperienceToMasterOrTransport:
		ActorExperienceModifierOnTransport: 0
	Guard:
		Voice: Move
	Guardable:
	HiddenUnderFog:
	RevealsShroud:
		RequiresCondition: !inside-tunnel
		Type: CenterPosition
		MaxHeightDelta: 3
	RevealOnFire:
		ArmamentNames: OnFoot, primary
	Valued:
		Cost: 1
	TeleportNetworkTransportable:
	Health:
		HP: 5000
	Mobile:
		Voice: Move
		Speed: 60
		Locomotor: Infantry
		TurnsWhileMoving: true
	Selectable:
		Bounds: 514,1809,0,-603
	SelectionDecorations:
		MinimumZoom: 0
	Voiced:
		VoiceSet: Infantry
	Targetable:
		TargetTypes: Ground, Infantry
		RequiresCondition: !inside-tunnel
	SharedPassenger:
		CargoType: Infantry
	Passenger:
		CargoType: Infantry
		Voice: Move
	QuantizeFacingsFromSequence:
		Sequence: stand
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	SpawnSmokeParticleOnDeath@FLAMEGUY:
		Image: flameguy
		Sequences: run-all
		EndSequences: die
		Duration: 19
		Palette: player
		DeathTypes: FireDeath
	GrantRandomCondition@tiberium:
		Conditions: visc, zombie
	SpawnActorOnDeath@tiberium1:
		RequiresCondition: zombie
		Actor: zombie
		Probability: 10
		OwnerType: InternalName
		InternalOwner: Creeps
		DeathType: TiberiumDeath
		RequiresLobbyCreeps: true
	SpawnActorOnDeath@tiberium2:
		RequiresCondition: visc
		Actor: visc_sml
		Probability: 10
		OwnerType: InternalName
		InternalOwner: Creeps
		DeathType: TiberiumDeath
		RequiresLobbyCreeps: true
	SpawnActorOnDeath@conversion:
		Actor: worker
		Probability: 100
		OwnerType: Killer
		DeathType: CabalDeath
		RequiresLobbyCreeps: false
	SpawnActorOnDeath@conversionUpg:
		Actor: cyborg15-hum
		Probability: 100
		OwnerType: Killer
		DeathType: CabalDeathUpg
		RequiresLobbyCreeps: false
	ExplodesAlsoTransported@DrownedDeath:
		Weapon: UnitDrownedSmall
		DeathTypes: DrownedDeath
	WithInfantryBody:
		MinIdleDelay: 75
		MaxIdleDelay: 250
		RequiresCondition: !inside-tunnel && !WebDisable
	TurnOnIdle:
		MinDelay: 125
		MaxDelay: 325
	WithDeathAnimation@normal:
		DeathTypes:
			BulletDeath: 1, 2
			CabalDeath: 1, 2
			CabalDeathUpg: 1, 2
	WithDeathAnimation@tib:
		DeathSequencePalette: apolra2g
		DeathPaletteIsPlayerPalette: false
		DeathTypes:
			TiberiumDeath: evaporate, melt, shatter, cristalize1, cristalize2
	WithDeathAnimation@explosion:
		DeathSequencePalette: gensmkexplojFred
		DeathPaletteIsPlayerPalette: false
		DeathTypes:
			ExplosionDeath: 4, 5, 7
	WithDeathAnimation@energy:
		DeathSequencePalette: pips
		DeathPaletteIsPlayerPalette: false
		DeathTypes:
			EnergyDeath: 6
	WithDeathAnimation@body:
		DeathSequencePalette: effect
		DeathPaletteIsPlayerPalette: false
		CrushedSequence: diebody1
		CrushedSequencePalette: effect
		DeathTypes:
			BulletDeath: body1, body2, body3, body4, body5
			CabalDeath: body1, body2, body3, body4, body5
			CabalDeathUpg: body1, body2, body3, body4, body5
			EnergyDeath: body1, body2, body3, body4, body5
		Delay: 10
	WithDeathAnimation@blood1:
		DeathSequencePalette: gradientred
		DeathPaletteIsPlayerPalette: false
		CrushedSequence: dieblood1
		CrushedSequencePalette: gradientred
		DeathTypes:
			BulletDeath: blood1, blood2, blood3, blood4, blood5, blood6
			CabalDeath: blood1, blood2, blood3, blood4, blood5, blood6
			CabalDeathUpg: blood1, blood2, blood3, blood4, blood5, blood6
			ExplosionDeath: blood1, blood2, blood3, blood4, blood5, blood6
		Delay: 12
	WithTextControlGroupDecoration:
	GrantConditionOnTunnelLayer:
		Condition: inside-tunnel
	WithDecoration@UNDERGROUND:
		RequiresCondition: inside-tunnel
		Position: Center
		Image: typeglyphs
		Sequence: infantry
		Palette: player
		IsPlayerPalette: true

	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiresCondition: !suddendeath
	ActorStatValues:
		ArmorsToIgnore: Boss
		Stats: Armor, Sight, Speed
		UpgradePrerequisites: global-upgrades

^TakeCoverInfantry:
	Inherits@1: ^Infantry
	TakeCover:
		RequiresCondition: !WebDisable
		DamageModifiers:
			Prone50Percent: 50
			Prone60Percent: 60
			Prone70Percent: 70
			Prone100Percent: 100
			Prone350Percent: 350
		DamageTriggers: TriggerProne
		Duration: 100
		SpeedModifier: 80
		ProneOffset: 300, 0, -600

^Soldier:
	Inherits@1: ^TakeCoverInfantry
	Inherits@VISION: ^6CellVision
	WithInfantryBody:
		IdleSequences: idle1,idle2
		DefaultAttackSequence: shoot
	WithDeathAnimation@normal:
		CrushedSequence: die-crushed
		CrushedSequencePalette: player
		CrushedPaletteIsPlayerPalette: true
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^Mutant:
	Inherits: ^TakeCoverInfantry
	Inherits@1: ^HealsOnTiberium
	-DamagedByTerrain:
	Mobile:
		Locomotor: TibInmuneInfantry

^MutantSoldier:
	Inherits: ^Soldier
	Inherits@1: ^HealsOnTiberium
	-DamagedByTerrain:
	Mobile:
		Locomotor: TibInmuneInfantry

^TibBeast:
	Inherits: ^Soldier
	Inherits@1: ^HealsOnTiberium
	Inherits@VISION: ^8CellVision
	SpawnActorOnDeath@conversion:
		Actor: cybdog
	SpawnActorOnDeath@conversionUpg:
		Actor: cyborg15-beast
	-DamagedByTerrain:
	WithDeathAnimation@normal:
		DeathTypes:
			BulletDeath: 1, 2
			CabalDeath: 1, 2
			CabalDeathUpg: 1, 2
			FireDeath: 1, 2
			EnergyDeath: 1, 2
			TiberiumDeath: 1, 2
	WithDeathAnimation@explosion:
		DeathSequencePalette: apolredalpha
	WithDeathAnimation@blood1:
		Delay: 0
	WithDeathAnimation@body:
		DeathSequencePalette: gradientred
		CrushedSequencePalette: gradientred
		Delay: 20
		DeathTypes:
			FireDeath: body1, body2, body3, body4, body5
	ExplodesAlsoTransported@DrownedDeath:
		Weapon: UnitDrowned
	Mobile:
		Locomotor: HeavyInfantry
		-PauseOnCondition:
	-TakeCover:
	-WithDeathAnimation@tib:
	-SpawnSmokeParticleOnDeath@FLAMEGUY:
	Armor:
		Type: Heavy
	Targetable:
		TargetTypes: Ground, Vehicle, OrganicVehicle, NoRepair
	Crushable:
		CrushClasses: HeavyInfantry
	Voiced:
		VoiceSet: Fiend
	AttackFrontal:
		TargetFrozenActors: true
		FacingTolerance: 2
	Passenger:
		CargoType: Vehicle
		Voice: Move
		Weight: 3
	-TimedConditionBar@WebDisable:
	-SpeedMultiplier@InstantStop:
	WithInfantryBody:
		IdleSequences: idle2, idle3
		RequiresCondition: !inside-tunnel
	-WithIdleOverlay@web:
	-ExternalCondition@WebDisable:
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	SelectionDecorations:
		MinimumZoom: 0
	TurnOnIdle:
		MinDelay: 125
		MaxDelay: 325

^ScrinSoldier:
	Inherits: ^Soldier
	Inherits@1: ^ScrinReaper
	Inherits@2: ^ScrinRender
	Inherits@3: ^ScrinInfantryDeath
	Voiced:
		VoiceSet: Desintegrator
	-DamagedByTerrain:
	-SpawnSmokeParticleOnDeath@FLAMEGUY:
	Mobile:
		Locomotor: TibInmuneInfantry
	WithDeathAnimation@body:
		Delay: 10

^CyborgSoldier:
	Inherits: ^Infantry
	Inherits@1: ^EmpDisableMobile
	Crushable:
		CrushClasses: HeavyInfantry
	-DamagedByTerrain:
	Passenger:
		CargoCondition: ascargo
	ExplosionOnDamageTransition:
		Weapon: DroneExplode
		DamageState: Critical
		CoolDown: 100
		RequiresCondition: !ascargo
	ExplodesAlsoTransported:
		Weapon: DroneExplode
		RequiresCondition: !ascargo
		InvalidDeathTypes: DrownedDeath
	Mobile:
		Locomotor: TibInmuneInfantry
		PauseOnCondition: empdisable || WebDisable
	SpeedMultiplier@InstantStop:
		RequiresCondition: empdisable || WebDisable
	Voiced:
		VoiceSet: Cyborg
	DeathSounds:
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiresCondition: !suddendeath
	WithInfantryBody:
		RequiresCondition: !CriticalDamaged && !WebDisable && !inside-tunnel
		DefaultAttackSequence: shoot
		IdleSequences: idle1, idle2
	WithInfantryBody@Damaged:
		RequiresCondition: CriticalDamaged && !WebDisable && !inside-tunnel
		MoveSequence: crippled-run
		DefaultAttackSequence: crippled-shoot
		StandSequences: crippled-stand
	SpeedMultiplier@CRITICAL:
		RequiresCondition: CriticalDamaged
		Modifier: 50
	-SpawnActorOnDeath@conversion:
	-SpawnActorOnDeath@conversionUpg:
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^CabalSoldier:
	Inherits: ^TakeCoverInfantry
	Inherits@1: ^EmpDisableMobile
	-DamagedByTerrain:
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiresCondition: !suddendeath
	Voiced:
		VoiceSet: Cyborg
	Mobile:
		Locomotor: TibInmuneInfantry
		PauseOnCondition: empdisable || WebDisable
	SpeedMultiplier@InstantStop:
		RequiresCondition: empdisable || WebDisable
	WithInfantryBody:
		IdleSequences: idle1,idle2
		DefaultAttackSequence: shoot
	WithDeathAnimation@normal:
		CrushedSequence: die-crushed
		CrushedSequencePalette: player
		CrushedPaletteIsPlayerPalette: true
	-SpawnActorOnDeath@conversion:
	-SpawnActorOnDeath@conversionUpg:
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^DroneSoldier:
	Inherits: ^Infantry
	Inherits@1: ^EmpDisableMobile
	-WithDeathAnimation@normal:
	-WithDeathAnimation@tib:
	-WithDeathAnimation@explosion:
	-WithDeathAnimation@energy:
	-WithDeathAnimation@body:
	-SpawnSmokeParticleOnDeath@FLAMEGUY:
	-GrantRandomCondition@tiberium:
	-SpawnActorOnDeath@tiberium1:
	-SpawnActorOnDeath@tiberium2:
	-DamagedByTerrain:
	-WithDeathAnimation@blood1:
	Voiced:
		VoiceSet: Limpet
	Mobile:
		Locomotor: TibInmuneInfantry
		PauseOnCondition: empdisable || WebDisable
	Passenger:
		CargoCondition: ascargo
	ExplodesAlsoTransported:
		Weapon: DroneExplode
		RequiresCondition: !ascargo
		InvalidDeathTypes: DrownedDeath
	SpeedMultiplier@InstantStop:
		RequiresCondition: empdisable || WebDisable
	-SpawnActorOnDeath@conversion:
	-SpawnActorOnDeath@conversionUpg:
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^HoverDroneSoldier:
	Inherits: ^DroneSoldier
	Mobile:
		Locomotor: HoverInfantry
	GrantConditionOnTerrain:
		Condition: hoverunitonwater
		TerrainTypes: Water
	Hovers:
		FallTicks: 5
		RiseTicks: 10
		RequiresCondition: !WebDisable && !empdisable
	KillsSelf@DisabledOnWater:
		RequiresCondition: hoverunitonwater && (WebDisable || empdisable)
		DamageTypes: DrownedDeath
	LeavesTrails:
		RequiresCondition: hoverunitonwater
		Image: wake
		Palette: terrain
		TerrainTypes: Water
		StationaryInterval: 18
		MovingInterval: 12
		Sequences: idle2
	ExplodesAlsoTransported:
		Weapon: DroneExplode
		InvalidDeathTypes: DrownedDeath
	DamagedByTintedCells@Default:
		RequiresCondition: WebDisable || empdisable
	DamagedByTintedCells@BlueRadiation:
		RequiresCondition: WebDisable || empdisable
	DamagedByTintedCells@OrangeRadiation:
		RequiresCondition: WebDisable || empdisable
	DamagedByTintedCells@Colossus:
		RequiresCondition: WebDisable || empdisable
	RA2Chronoshiftable:
		-TerrainsAndDeathTypes:

^CivilianInfantry:
	Inherits: ^Infantry
	Voiced:
		VoiceSet: Civilian
	Tooltip:
		Name: civilian-name
	WithInfantryBody:
		IdleSequences: idle1, idle2
	ScaredyCat:
	WithDeathAnimation@normal:
		CrushedSequence: die-crushed
		CrushedSequencePalette: player
		CrushedPaletteIsPlayerPalette: true
	GrantConditionOnCombatantOwner:
		Condition: CombatantOwner
	AttackWander:
		RequiresCondition: !CombatantOwner
		WanderMoveRadius: 1
		MinMoveDelay: 100
		MaxMoveDelay: 200
	-GrantRandomCondition@tiberium:
	-SpawnActorOnDeath@tiberium1:
	-SpawnActorOnDeath@tiberium2:
	-FirepowerMultiplier@ZealousBuff:
	-ExternalCondition@ZealousBuff:
	-WithIdleOverlayOnGround@ZealousBuff:
	ActorStatValues:
		Damage: 5
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^HologramKillTimer:
	KillsSelf@TimedLife:
		Delay: 375
		DamageTypes: BulletDeath
	WithDecoration@holoicon:
		Image: holoicon
		Sequence: idle
		Position: BottomRight
		Palette: mouse
		ValidRelationships: Ally, Neutral
	WithDeathAnimation@body:
		DeathSequencePalette: apolra2i
		DeathPaletteIsPlayerPalette: false
		UseDeathTypeSuffix: false
		DeathSequence: dieevaporate
		Delay: 0
	DamageMultiplier@hologram:
		Modifier: 200
	RevealsShroudMultiplier@hologram:
		Modifier: 50

^HologramSoldier:
	Inherits: ^Soldier
	Inherits@2: ^HologramKillTimer
	-GivesExperience:
	-GivesExperienceToMasterOrTransport:
	Mobile:
		Speed: 75
	-UpdatesPlayerStatistics:
	-Passenger:
	-SharedPassenger:
	-DamagedByTerrain:
	-ActorLostNotification:
	AttackFrontal:
		TargetFrozenActors: true
		FacingTolerance: 2
	-WithDeathAnimation@normal:
	-WithDeathAnimation@tib:
	-WithDeathAnimation@explosion:
	-WithDeathAnimation@energy:
	-SpawnSmokeParticleOnDeath@FLAMEGUY:
	-GrantRandomCondition@tiberium:
	-SpawnActorOnDeath@tiberium1:
	-SpawnActorOnDeath@tiberium2:
	-SpawnActorOnDeath@conversion:
	-SpawnActorOnDeath@conversionUpg:
	-ExplodesAlsoTransported@EssenceDeath:
	-WithDeathAnimation@blood1:
	-RevealsShroud:
	-DetectCloaked:
	-RevealOnDeath:
	-RevealsShroudMultiplier@Blind:
	-ExternalCondition@blind:

	-ChangesHealth@nanomachinerecovery:
	-WithIdleOverlay@nanomachinerecovery:
	-SpawnCorpseOnDeath@nanomachinereanimate:
	-ExternalCondition@nanomachinerecovery:

	-DamageMultiplier@firestorm:
	-ExternalCondition@FirestormWallCondition:
	-WithDecoration@FirestormWallCondition:

	-Berserkable@CHAOS:
	-RejectsOrders@CHAOS:
	-WithDecoration@CHAOS:
	-TimedConditionBar@CHAOS:
	-ExternalCondition@CHAOS:
	-Cloak@CLOAKGENERATOR:
	-ExternalCondition@CLOAKGENERATOR:

	-RA2Chronoshiftable:

	-ChangesHealth@HOSPITAL:
	-GrantConditionOnPrerequisite@hospitalheal:
	-WithDecoration@hospitalheal:
	-ExternalCondition@hospitalheal:

^Engineering:
	Tooltip:
		Name: engineer-name
	Passenger:
		CustomPipType: yellow
	SharedPassenger:
		CustomPipType: yellow
	InstantlyRepairs:
		RepairSound: urepair.wav
	RepairsBridges:
		RepairNotification: BridgeRepaired
		RepairTextNotification: notification-repair-bridge
	CaptureManager:
	Captures@NormalBuilding:
		CaptureTypes: Building
		PlayerExperience: 25
		CaptureDelay: 75
		RequiresCondition: !instantcapture
	Captures@TechBuilding:
		CaptureTypes: TechBuilding
		PlayerExperience: 25
		CaptureDelay: 250
		RequiresCondition: !instantcapture
	Captures@InstantBuilding:
		CaptureTypes: Building, TechBuilding
		PlayerExperience: 25
		RequiresCondition: instantcapture
	GrantConditionOnPrerequisite@INSTANTCAPTURE:
		Condition: instantcapture
		Prerequisites: global-instantcapture
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 30
		Prerequisites: AIOnly

^BasicVehicle:
	Inherits@1: ^VehicleShape
	Inherits@VISION: ^8CellVision
	Inherits@BLIND: ^Blind
	Inherits@SCRIN_KILL: ^ScrinEssence
	Inherits@HANDICAPS: ^PlayerHandicaps
	Inherits@SELECTION_MODE: ^FlatSelectionMode
	ActorLostNotification:
		TextNotification: notification-unit-lost
	#Huntable:
	Armor:
		Type: Heavy
	AttackMove:
		Voice: Move
	Crushable:
		CrushClasses: Vehicle
		WarnProbability: 0
	DrawLineToTarget:
	GivesExperience:
		PlayerExperienceModifier: 100
	GivesExperienceToMasterOrTransport:
		ActorExperienceModifierOnTransport: 0
	RevealsShroud:
		Type: CenterPosition
		MaxHeightDelta: 3
	Valued:
		Cost: 1
	Mobile:
		Locomotor: Vehicle
		TurnSpeed: 28
		Voice: Move
		PauseOnCondition: carrylock
	TeleportNetworkTransportable:
	Selectable:
		Bounds: 1206,1809, 0, -240
	SelectionDecorations:
		MinimumZoom: 0
	Voiced:
		VoiceSet: Vehicle
	WithTextControlGroupDecoration:
	Targetable:
		TargetTypes: Ground, Vehicle
	Repairable:
		RepairActors: gadept, scrdepot, tdrepd
		Voice: Move
	Carryable:
		RequiresCondition: !inside-tunnel
		LockedCondition: carrylock
	Passenger:
		CargoType: Vehicle
		CustomPipType: blue
		Voice: Move
		Weight: 3
	SharedPassenger:
		CargoType: Vehicle
		CustomPipType: blue
	Sellable:
		SellSounds: cashturn.aud
		Cursor: sell2
		Notification: UnitSold
		TextNotification: notification-unit-sold
		RequiresCondition: unit.sellable
	GrantConditionOnClientDock@Sellable:
		Condition: unit.sellable
		AfterDockDuration: 20
		DockHostNames: gadept, scrdepot, tdrepd
	HiddenUnderFog:
	Guard:
		Voice: Move
	Guardable:
	ExplodesAlsoTransported:
		Weapon: UnitExplodeSmall
		InvalidDeathTypes: DrownedDeath
	ExplodesAlsoTransported@DrownedDeath:
		Weapon: UnitDrowned
		DeathTypes: DrownedDeath
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiresCondition: !suddendeath
	RenderSprites:
	MapEditorData:
		Categories: Vehicle
	BodyOrientation:
		QuantizedFacings: 32
	WithFacingSpriteBody:
		RequiresCondition: !inside-tunnel
	GrantConditionOnTunnelLayer:
		Condition: inside-tunnel
	WithDecoration@UNDERGROUND:
		RequiresCondition: inside-tunnel
		Position: Center
		Image: typeglyphs
		Sequence: vehicle
		Palette: player
		IsPlayerPalette: true
	ActorStatValues:
		ArmorsToIgnore: Boss
		Stats: Armor, Sight, Speed
		UpgradePrerequisites: global-upgrades

^Vehicle:
	Inherits@0: ^BasicVehicle
	Inherits@2: ^VehicleEffects
	Inherits@3: ^ExistsInWorld
	Inherits@AISell: ^AISellOnMindControlWhenDock
	Carryable:
		LockedCondition: carrylock
	Mobile:
		PauseOnCondition: empdisable || carrylock
	FloatingSpriteEmitter@spawnsmoke:
		RequiresCondition: CriticalDamaged && !cloaking-self && !inside-tunnel
	SpawnSparks:
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel

^CombatVehicle:
	Inherits: ^Vehicle
	ExplodesAlsoTransported:
		Weapon: UnitExplode
		RequiresCondition: !inside-tunnel
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^Tank:
	Inherits: ^CombatVehicle
	WithSpriteTurret:
		RequiresCondition: !inside-tunnel
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: empdisable
		TargetFrozenActors: true

^HoverVehicle:
	Inherits: ^Vehicle
	Hovers:
		FallTicks: 5
		RiseTicks: 10
		RequiresCondition: !empdisable
	GrantConditionOnTerrain:
		Condition: hoverunitonwater
		TerrainTypes: Water
	Mobile:
		Locomotor: Hover
		TurnsWhileMoving: true
		TurnSpeed: 24
		CanMoveBackward: true
		BackwardDuration: 5
		MaxBackwardCells: -1
	LeavesTrails@water:
		RequiresCondition: hoverunitonwater && !inside-tunnel && !empdisable
		Image: hoverwind
		Sequences: water
		Palette: terrain
		Type: CenterPosition
		#TerrainTypes: Water #don't need since we get condition
		StationaryInterval: 18
		MovingInterval: 6
		TrailWhileStationary: true
		SpawnAtLastPosition: false
		StartDelay: -1
	LeavesTrails@land:
		RequiresCondition: !hoverunitonwater && !inside-tunnel && !empdisable
		Image: hoverwind
		Sequences: non-water
		Palette: effect
		#TerrainTypes: Water
		Type: CenterPosition
		StationaryInterval: 18
		MovingInterval: 12
		SpawnAtLastPosition: false
		TrailWhileStationary: true
		StartDelay: -1
	KillsSelf@DisabledOnWater:
		RequiresCondition: hoverunitonwater && empdisable
		DamageTypes: DrownedDeath
	ChangesHealth@veinholedrain:
		RequiresCondition: empdisable && veinholedrain
	WithIdleOverlay@veinholedrain:
		RequiresCondition: empdisable && veinholedrain
	DamagedByTintedCells@Default:
		RequiresCondition: empdisable
	DamagedByTintedCells@BlueRadiation:
		RequiresCondition: empdisable
	DamagedByTintedCells@OrangeRadiation:
		RequiresCondition: empdisable
	DamagedByTintedCells@Colossus:
		RequiresCondition: empdisable
	RA2Chronoshiftable:
		-TerrainsAndDeathTypes:

^HoverTank:
	Inherits: ^HoverVehicle
	WithSpriteTurret:
		RequiresCondition: !inside-tunnel
	Turreted:
	AttackTurreted:
		TargetFrozenActors: true
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	ExplodesAlsoTransported:
		Weapon: UnitExplode
		InvalidDeathTypes: DrownedDeath
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^SubterraneanVehicle:
	Inherits: ^Vehicle
	Inherits@VISION: ^8CellVision
	Mobile:
		TurnSpeed: 24
		Speed: 90
		Locomotor: subterranean
	RevealsShroud:
		RequiresCondition: !inside-tunnel && !submerged
	ChangesHealth@veinholedrain:
		RequiresCondition: veinholedrain && !submerged
	WithIdleOverlay@veinholedrain:
		RequiresCondition: veinholedrain && !submerged
	Cloak@subterranean:
		RequiresCondition: submerged
		InitialDelay: 25
		CloakDelay: 25
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Demolish, Damage
	RejectsOrders@subterranean:
		RequiresCondition: submerged
		Except: Stop
	Mobile:
		PauseOnCondition: empdisable || resurfaced || carrylock
	Carryable:
		RequiresCondition: !inside-tunnel && !submerged
	Targetable:
		RequiresCondition: !inside-tunnel && !submerged
	Targetable@NoAutoTarget:
		TargetTypes: NoAutoTarget
		RequiresCondition: submerged
	FloatingSpriteEmitter@spawnsmoke:
		RequiresCondition: CriticalDamaged && !cloaking-self && !inside-tunnel && !submerged
	SpawnSparks:
		RequiresCondition: HeavyDamaged && !cloaking-self && !inside-tunnel && !submerged
	AnnounceOnSeen@subterranean:
		PingRadar: true
		Notification: SubterraneanUnitDetected
		TextNotification: notification-subterranean
	GrantConditionOnSubterraneanLayer:
		Condition: submerged
		ResurfaceCondition: resurfaced
		ResurfaceConditionDuration: 75
		SubterraneanTransitionImage: dig
		SubterraneanTransitionSequence: idle
		SubterraneanTransitionPalette: terrain
		SubterraneanTransitionSound: subdril1.aud
	WithFacingSpriteBody:
		RequiresCondition: !inside-tunnel && !submerged
	WithIdleOverlay@shield:
		RequiresCondition: shields-up && !submerged && !inside-tunnel
	-SpawnCorpseOnDeath@nanomachinereanimate:

^Walker:
	Inherits: ^CombatVehicle
	FloatingSpriteEmitter@spawnsmoke:
		Offset: 0,0,400
	HitShape:
		TargetableOffsets: 0,0,400
		Type: Circle
			VerticalTopOffset: 500
	-WithFacingSpriteBody:
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !inside-tunnel

^ScrinVehicleOverride:
	Inherits@0: ^ScrinReaper
	Inherits@1: ^ScrinRender
	ExplodesAlsoTransported:
		Weapon: ScrinUnitExplode
		InvalidDeathTypes: DrownedDeath
	Buildable:
		IconPalette: chromesilver
	RenderSprites:
		PlayerPalette: playerscrinblue
	Voiced:
		VoiceSet: Seeker
	FloatingSpriteEmitter@spawnsmoke:
		Image: scrsmoke
		Palette: jascblue

^CivilianSpriteVehicle:
	Inherits: ^Vehicle
	Valued:
		Cost: 100
	-GrantConditionOnPrerequisite@SUDDENDEATH:
	-MustBeDestroyed:
	MapEditorData:
		Categories: Civilian Vehicle

^Ship:
	Inherits@0: ^BasicVehicle
	Inherits@2: ^VehicleEffects
	Inherits@3: ^ExistsInWorld
	Mobile:
		Locomotor: Naval
		TurnSpeed: 28
		Voice: Move
	LeavesTrails:
		Image: wake
		Palette: terrain
		TerrainTypes: Water
		StationaryInterval: 18
		MovingInterval: 6
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	ActorStatValues:
		Stats: Armor, Sight, Speed
	RA2Chronoshiftable:
		TerrainsAndDeathTypes:
			Clear, Ice, Rough, Road, DirtRoad, Ground, Green: BulletDeath, ScrinEssenceKill
	-Carryable:
	-Passenger:
	-SharedPassenger:

^Aircraft:
	Inherits: ^SpriteActor
	Inherits@2: ^AircraftEffects
	Inherits@3: ^ExistsInWorld
	Inherits@4: ^VehicleShape
	Inherits@5: ^10CellVisionAir
	Inherits@HANDICAPS: ^PlayerHandicaps
	Inherits@SELECTION_MODE: ^FlatSelectionMode
	Inherits@AISell: ^AISellOnMindControlWhenDock
	DrawLineToTarget:
	WithTextControlGroupDecoration:
	AppearsOnRadar:
		UseLocation: true
	Targetable@GROUND:
		TargetTypes: Vehicle, Ground, LandedCraft
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	Selectable:
	SelectionDecorations:
		MinimumZoom: 0
	Armor:
		Type: Aircraft
	GivesExperience:
		PlayerExperienceModifier: 100
	GivesExperienceToMasterOrTransport:
		ActorExperienceModifierOnTransport: 0
	Aircraft:
		AirborneCondition: airborne
		CruisingCondition: cruising
		Voice: Move
		CruiseAltitude: 4c050
		IdealSeparation: 1c0
		AltitudeVelocity: 300
		MaximumPitch: 90
		TakeOffOnResupply: true
	-SpawnCorpseOnDeath@nanomachinereanimate:
	Passenger:
		CargoType: Aircraft
	Sellable:
		SellSounds: cashturn.aud
		Cursor: sell2
		Notification: UnitSold
		TextNotification: notification-unit-sold
		RequiresCondition: unit.sellable
	GrantConditionOnClientDock@Sellable:
		Condition: unit.sellable
		AfterDockDuration: 20
		DockHostNames: gadept, scrdepot, tdrepd
	Repairable:
		RepairActors: gadept, scrdepot, tdrepd, civheli
		Voice: Move
	Voiced:
		VoiceSet: Heli
	HiddenUnderFog:
		Type: CenterPosition
	AttackMove:
		Voice: Move
	ActorLostNotification:
		TextNotification: notification-structure-sold
	RenderSprites:
	WithFacingSpriteBody:
	Guard:
		Voice: Move
	Guardable:
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiresCondition: !suddendeath
	MapEditorData:
		Categories: Aircraft
	Hovers@CRUISING:
		RequiresCondition: cruising
	#Huntable:
	ExplodesAlsoTransported@Shrapnel:
		Weapon: SmalLAircraftShrapnel
	ActorStatValues:
		ArmorsToIgnore: Boss
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange
		UpgradePrerequisites: global-upgrades

^AircraftShadow:
	WithShadow:
		RequiresCondition: airborne
	WithShadow@2:
		Offset: 240,480,0
		RequiresCondition: !airborne
		ZOffset: -1000

### Different type of air unit use different set of "CruiseAltitude"
## so big aircraft won't block the way of small aircraft.
^Helicopter:
	Inherits: ^Aircraft
	Aircraft:
		CruiseAltitude: 4c0
		Crushes: crate, mine, minetrigger
		LandableTerrainTypes: Clear, Ice, Rough, Road, DirtRoad, Ground, Green, Tiberium, BlueTiberium
		VTOL: true
		CanHover: true
		CanSlide: true
		-CruisingCondition:
	Targetable@AIRBORNE:
		TargetTypes: Air #, Helicopter
		RequiresCondition: airborne
	-Hovers@CRUISING:
	Hovers:
		RequiresCondition: airborne

^CombatHelicopter:
	Inherits: ^Helicopter
	Rearmable:
		RearmActors: nahpad, gahpad, muair, cabair, civheli, tdhelipad

^CombatAirCruiser:
	Inherits: ^CombatHelicopter
	-Rearmable:
	Aircraft:
		CruiseAltitude: 3c930
		
^AirTransport:
	Inherits: ^Helicopter
	Aircraft:
		CruiseAltitude: 3c930

^AirInfantry:
	Inherits: ^Aircraft
	Aircraft:
		CruiseAltitude: 3c980
		TurnSpeed: 40
		Speed: 150
		IdealSeparation: 1c0
		LandableTerrainTypes: Clear, Ice, Rough, Road, DirtRoad, Ground, Green, Tiberium, BlueTiberium
		CanHover: true
		Repulsable: true
		MoveIntoShroud: true
		TakeOffOnResupply: true
		VTOL: true
		CanSlide: true
	Selectable:
		Bounds: 664,1809,0,-603
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -250, -250
			BottomRight: 250, 250
	TakeOffOnMake:
	Targetable@GROUND:
		TargetTypes: Infantry, Ground
	Targetable@AIRBORNE:
		TargetTypes: Air, OrganicVehicle, NoRepair
	-Repairable:
	-GrantConditionOnDamageState@HeavyDamaged:
	-GrantConditionOnDamageState@CriticalDamaged:
	-SpawnSparks:
	-FloatingSpriteEmitter@spawnsmoke:
	-ExplodesAlsoTransported@Shrapnel:
	Cloak@CLOAKGENERATOR:
		-CloakedCondition:
	-Sellable:
	-GrantConditionOnClientDock@Sellable:
	-IssueOrderToBot@AISell:

^Plane:
	Inherits: ^Aircraft
	Rearmable:
		RearmActors: nahpad, gahpad, muair, cabair, civheli, tdhelipad

^CombatPlane:
	Inherits: ^Plane

^CombatDronePlane:
	Inherits: ^CombatPlane
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Infantry
	Inherits@VISION: ^3CellVision
	-RevealsShroud@Landed:
	-RevealOnDeath@Landed:
	-RevealsShroud@Airborne:
	-RevealOnDeath@Airborne:
	Interactable:
	Aircraft:
		MaximumPitch: 90
		Repulsable: false
		TurnSpeed: 80
		Speed: 210
		AltitudeVelocity: 200
		VTOL: false #Hack: avoid unable entering carrier while carrier moving
		AirborneCondition: airborne
		MoveIntoShroud: true
		IdealSeparation: 256
		TakeUpCellWhenLand: false
	RejectsOrders:
	Health:
		HP: 5000
	Valued:
		Cost: 5
	Targetable@GROUND:
		TargetTypes: Vehicle, Ground, LandedCraft, Summoned, IgnoredByAI
	Targetable@AIRBORNE:
		TargetTypes: Air, Summoned, IgnoredByAI
	WithDeathAnimation:
		FallbackSequence: die
		DeathSequence: die
		DeathSequencePalette: effect
		DeathPaletteIsPlayerPalette: false
		UseDeathTypeSuffix: false
		CrushedSequence: die
		CrushedSequencePalette: effect
	-Targetable@MC:
	-UpdatesPlayerStatistics:
	-ActorLostNotification:
	-AppearsOnRadar:
	-Selectable:
	-SelectionDecorations:
	-ExplodesAlsoTransported@Shrapnel:
	Cloak@CLOAKGENERATOR:
		-CloakedCondition:
	-GrantConditionOnDamageState@HeavyDamaged:
	-GrantConditionOnDamageState@CriticalDamaged:
	-SpawnSparks:
	-FloatingSpriteEmitter@spawnsmoke:
	-ExplodesAlsoTransported@EssenceDeath:
	-MapEditorData:

	-Sellable:
	-GrantConditionOnClientDock@Sellable:
	-IssueOrderToBot@AISell:

	-ChangesHealth@nanomachinerecovery:
	-WithIdleOverlay@nanomachinerecovery:
	-ExternalCondition@nanomachinerecovery:

	-DamageMultiplier@firestorm:
	-ExternalCondition@FirestormWallCondition:
	-WithDecoration@FirestormWallCondition:

	-Berserkable@CHAOS:
	-RejectsOrders@CHAOS:
	-WithDecoration@CHAOS:
	-TimedConditionBar@CHAOS:
	-ExternalCondition@CHAOS:

^InvisibleDronePlane:
	Inherits: ^SpriteActor
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^Cloakable
	Inherits@3: ^WithTriggerCloakEffect-Infantry
	-UpdatesPlayerStatistics:
	Aircraft:
		CruiseAltitude: 3c890
		MaximumPitch: 90
		Repulsable: true
		TurnSpeed: 16
		Speed: 128
		IdleTurnSpeed: 10
		IdleSpeed: 64
		AltitudeVelocity: 200
		RepulsionSpeed: 16
		VTOL: true
		AirborneCondition: airborne
		MoveIntoShroud: true
		TakeUpCellWhenLand: false
	HiddenUnderFog:
		Type: CenterPosition
	Interactable:
	RejectsOrders:
	WithDisposedAnimation:
		DisposedSequence: die
		Palette: effect
		IsPlayerPalette: false
	RenderSprites:
	WithFacingSpriteBody:
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250

^Visceroid:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@3: ^1x1Shape
	Inherits@4: ^6CellVision
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@HANDICAPS: ^PlayerHandicaps
	Inherits@SELECTION_MODE: ^FlatSelectionMode
	DrawLineToTarget:
	Health:
		HP: 10
	Valued:
		Cost: 50
	Armor:
		Type: Heavy
	Mobile:
		Speed: 120
		TurnSpeed: 64
		Locomotor: HeavyInfantry
		TurnsWhileMoving: true
	SelectionDecorations:
		MinimumZoom: 0
	Selectable:
		Bounds: 784,1568,0,-90
	Targetable:
		TargetTypes: Ground, Vehicle, NoRepair
	AttackMove:
	HiddenUnderFog:
	DamagedByTerrain:
		Damage: -200
		DamageInterval: 16
		Terrain: Tiberium, BlueTiberium
	Guardable:
	WithFacingSpriteBody:
	MapEditorData:
		Categories: Tib Critters
	AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry, Vehicle, Creep, Water, Building, Defence, Air, NoAutoTarget, Wall
	AutoTargetPriority@ATTACKANYTHING:
		ValidTargets: Infantry, Vehicle, Creep, Water, Building, Defence, Air, NoAutoTarget, Wall
	ExplodesAlsoTransported@VisceroidDefault:
		Weapon: VisceroidExplode
	ActorStatValues:
		Stats: Armor, Sight, Speed, Damage, ReloadDelay, MaxRange

^BasicBuilding:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@3: ^SpawnFire
	Inherits@HANDICAPS: ^PlayerHandicaps
	Valued:
		Cost: 1
	Armor:
		Type: Building
	Targetable:
		TargetTypes: Building, Ground, C4
	Building:
		Dimensions: 1,1
		Footprint: x
		BuildSounds: place2.aud
		UndeploySounds: cashturn.aud
		TerrainTypes: Clear, Road, DirtRoad, Rough
		RequiresBaseProvider: true
	ActorPreviewPlaceBuildingPreview:
		PreviewAlpha: 0.55
		Palette: placefootprint
		LineBuildFootprintAlpha: 0.5
		FootprintUnderPreview: Valid, LineBuild, Invalid
		FootprintOverPreview: None
	FrozenUnderFog:
	SoundOnDamageTransition:
		DamagedSounds: expnew01.aud
		DestroyedSounds: crmble2.aud
	WithSpriteBody:
	ExplodesAlsoTransported@BuildingFireSmallParticleSpawner:
		Weapon: BuildingFireBigShrapnel
		Type: Footprint
	ExplodesAlsoTransported@BuildingFireBigSpawn:
		Weapon: BuildingFireSmallShrapnel
		Type: Footprint
	ExplodesAlsoTransported:
		Weapon: BuildingExplode
		Type: Footprint
	InstantlyRepairable:
	ShakeOnDeath:
	Guardable:
		Range: 6c0
	Health:
		HP: 28000
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			LocalYaw: -128
			TopLeft: -512, -512
			BottomRight: 512, 512
	Demolishable:
	MapEditorData:
		Categories: Civilian Structure
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 3
	FireProjectilesOnDeath@SMALL:
		Pieces: 5, 9
		Weapons: SmallDebris
	FireProjectilesOnDeath@LARGE:
		Pieces: 2, 4
		Weapons: LargeDebris
	ActorStatValues:
		ArmorsToIgnore: Boss
		Stats: Armor, Sight
		UpgradePrerequisites: global-upgrades

^Building:
	Inherits@0: ^BasicBuilding
	Inherits@1: ^StructureEffects
	Inherits@2: ^6CellVision
	Inherits@3: ^SelectableBuilding
	Inherits@AISell: ^AISellOnMindControl
	GivesBuildableArea:
		AreaTypes: building
	CaptureNotification:
		Notification: BuildingCaptured
		TextNotification: notification-building-captured
		LoseNotification: BuildingLostToCapture
		LoseTextNotification: notification-building-lost-captured
	CaptureManager:
	Capturable:
		Types: Building
		RequiresCondition: !Building-Buildup
	CapturableProgressBar:
		RequiresCondition: !instantcapture
	CapturableProgressBlink:
		Interval: 25
		Sound: ucapture.aud
		RequiresCondition: !instantcapture
	GrantConditionOnPrerequisite@INSTANTCAPTURE:
		Condition: instantcapture
		Prerequisites: global-instantcapture
	GivesExperience:
		PlayerExperienceModifier: 100
	GivesExperienceToMasterOrTransport:
		ActorExperienceModifierOnTransport: 0
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	RepairableBuilding:
		RepairingNotification: Repairing
		RepairStep: 700
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorsOnSell@gdi:
		ValuePercent: 30
		ActorTypes: gdie1
		Factions: gdi
	SpawnActorsOnSell@nod:
		ValuePercent: 30
		ActorTypes: altnode1
		Factions: nod
	SpawnActorsOnSell@cab:
		ValuePercent: 30
		ActorTypes: worker
		Factions: cab
	SpawnActorsOnSell@mut:
		ValuePercent: 30
		ActorTypes: marauder
		Factions: mut
	SpawnActorsOnSell@scr:
		ValuePercent: 30
		ActorTypes: shark
		Factions: scr
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath
	MustBeDestroyed:
		RequiredForShortGame: true
		RequiresCondition: !suddendeath
	Sellable:
		SellSounds: cashturn.aud
		Notification: StructureSold
		TextNotification: notification-structure-sold
		RequiresCondition: !Building-Buildup
	WithMakeAnimation:
		Condition: Building-Buildup
	MapEditorData:
		Categories: Buildable Structure
	WithBuildingRepairDecoration:
		Image: allyrepair
		Sequence: repair
		Position: Center
		Palette: mouse
	#Huntable:

^AffectPowerBuilding:
	Inherits: ^Building
	ActorStatValues:
		Stats: Armor, Sight, Power
		UpgradePrerequisites: global-upgrades

^Defence:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^DisableOnLowPowerOrPowerDown
	Inherits@2: ^8CellVision
	Inherits@3: ^WithTriggerCloakEffect-Defence
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	-GivesBuildableArea:
	MustBeDestroyed:
		RequiredForShortGame: false
	RenderRangeCircle:
		Color: FFFF00CC
		BorderColor: 000000CC
		BorderWidth: 0
		Width: 2
	Targetable:
		TargetTypes: Building, Ground, C4, Defence
	Armor:
		Type: Defense
	MapEditorData:
		Categories: Defence
	WithIdleOverlay@SpawnFire:
		Sequence: defence_fire
	RequiresBuildableArea:
		AreaTypes: building
	-GrantConditionOnPrerequisite@INSTANTCAPTURE:
	-CaptureManager:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	ActorStatValues:
		Stats: Armor, Sight, Power, Damage, ReloadDelay, MaxRange

^TurretedDefence:
	Inherits: ^Defence
	Turreted:
		TurnSpeed: 40
	Turreted:
		InitialFacing: 368
		RealignDelay: -1
	AttackTurreted:
		PauseOnCondition: empdisable || disabled
	WithSpriteTurret:
		Recoils: true
		RequiresCondition: !Building-Buildup
	Power:
		Amount: -20
	BodyOrientation:
		QuantizedFacings: 32

^AntiAir:
	Inherits@0: ^8CellVision
	Inherits@AUTOTARGET: ^AutoTargetAir
	RenderRangeCircle:
		RangeCircleType: AA
	RevealsShroud:
		Type: Footprint
	Valued:
		Cost: 800
	Health:
		HP: 60000
	Power:
		Amount: -20

^Tier2:
	RenderRangeCircle:
		RangeCircleType: Tier2

^MiscTurret:
	Inherits: ^Defence
	RenderRangeCircle:
		RangeCircleType: MiscTurret

^CivBuilding:
	Inherits: ^BasicBuilding
	Inherits@0: ^4CellVision
	Inherits@1: ^SelectableBuilding
	-UpdatesPlayerStatistics:
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	Health:
		HP: 90000
	Tooltip:
		Name: civilianbuilding-name
	RenderSprites:
		Palette: unitterrain
	MapEditorData:
		Categories: Civilian Structure
	-GrantConditionOnDamageState@HeavyDamaged:
	-WithIdleOverlay@SpawnFire:
	RadarColorFromTerrain:
		Terrain: CivilianBuilding
	# Interactable:

^FakeTurretedCivBuilding:
	Inherits: ^CivBuilding
	-WithSpriteBody:
	WithSpriteTurret:
	Turreted:
		RealignDelay: -1
	Armament:
		Weapon: LightTowerClaxon
	AttackTurreted:
	ActorStatValues:
		Armaments: None

^1x1TurretedCivBuilding:
	Inherits@1: ^FakeTurretedCivBuilding
	Building:
		Footprint: x
		Dimensions: 1, 1
	Crushable:
		CrushClasses: infantry

^TechBuilding:
	Inherits: ^BasicBuilding
	Inherits@0: ^Cloakable
	Inherits@1: ^3CellVision
	Inherits@2: ^SelectableBuilding
	Inherits@3: ^MindControllableBuilding
	Inherits@4: ^EmpDisable
	Buildable:
		Queue: Building.Tech
		BuildPaletteOrder: 10
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	CaptureManager:
	Capturable:
		Types: TechBuilding
	CapturableProgressBar:
		RequiresCondition: !instantcapture
	CapturableProgressBlink:
		Interval: 25
		Sound: ucapture.aud
		RequiresCondition: !instantcapture
	CaptureNotification:
		Notification: BuildingCaptured
		TextNotification: notification-building-captured
		LoseNotification: BuildingLostToCapture
		LoseTextNotification: notification-building-lost-captured
	GrantConditionOnPrerequisite@INSTANTCAPTURE:
		Condition: instantcapture
		Prerequisites: global-instantcapture
	RepairableBuilding:
		RepairStep: 700
	OwnerLostAction:
		Action: ChangeOwner
	RenderSprites:
	MapEditorData:
		Categories: Tech Structure
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	WithBuildingRepairDecoration:
		Image: allyrepair
		Sequence: repair
		Position: Center
		Palette: mouse
	Cloak@CLOAKGENERATOR:
		CloakedCondition: cloaking-self
	WithIdleOverlay@SpawnFire:
		RequiresCondition: HeavyDamaged && !cloaking-self

^Decoration:
	Inherits@1: ^SpriteActor
	Inherits@2: ^1x1Shape
	Interactable:
	HiddenUnderShroud:
	RenderSprites:
		Palette: unitterrain
	WithSpriteBody:
	Building:
		Footprint: x
		Dimensions: 1, 1
	MapEditorData:
		Categories: Decoration
	RadarColorFromTerrain:
		Terrain: CivilianProp
	AppearsOnRadar:
	Interactable:

^BlossomTree:
	Inherits: ^Decoration
	RenderSprites:
		Palette: player
	Tooltip:
		Name: blossomtree-name
		ShowOwnerRow: false
	RadarColorFromTerrain:
		Terrain: Tiberium
	SeedsResource:
		ResourceType: Tiberium
		Interval: 50
	WithIdleAnimation:
	TerrainLightSource:
		RedTint: 0
		GreenTint: 0.4
		BlueTint: 0
		Intensity: 0
		Range: 7c0
	MapEditorData:
		Categories: Tib Spawners
	GrantConditionOnPrerequisite@megawealth:
		Condition: megawealth
		Prerequisites: global-megawealth
	KillsSelf:
		RemoveInstead: true
		RequiresCondition: megawealth

^Tree:
	Inherits: ^Decoration
	RadarColorFromTerrain:
		Terrain: Tree
	Tooltip:
		Name: tree-name
	MapEditorData:
		Categories: Trees
	Targetable:
		TargetTypes: NoAutoTarget, Ground
	Health:
		HP: 10000
	Armor:
		Type: Light
	Crushable:
		CrushClasses: infantry
		CrushSound: gsancrua.wav #, gsancrub.wav
	FireProjectilesOnDeath@:
		Weapons: WoodDebris
		Pieces: 15,30
		Range: 0c256, 2c0
	FireProjectilesOnDeath@2:
		Weapons: WoodDebrisBig
		Pieces: 3, 6
		Range: 0c256, 1c0

^Rock:
	Inherits: ^Decoration
	RenderSprites:
		Palette: terraindecoration
	RadarColorFromTerrain:
		Terrain: Rock
	Tooltip:
		Name: rock-name
	MapEditorData:
		Categories: Rock
	Building:
		Footprint: x
		Dimensions: 1, 1

^CrossableDecoration:
	Inherits@1: ^Decoration
	Building:
		Footprint: +
	MapEditorData:
		Categories: Crossable Decoration

^1x1TurretedDecoration:
	Inherits: ^Decoration
	-WithSpriteBody:
	WithSpriteTurret:
	Turreted:
		RealignDelay: -1
	Armament:
		Weapon: LightTowerClaxon
	AttackTurreted:

^TiberiumDecoration:
	Inherits@1: ^SpriteActor
	HiddenUnderShroud:
	Interactable:
	RenderSprites:
		Palette: terraindecoration
	WithSpriteBody:
	Building:
		Footprint: x
		Dimensions: 1, 1
	AppearsOnRadar:
	RadarColorFromTerrain:
		Terrain: TiberiumGlacier
	Tooltip:
		Name: tiberiumformation-name
	MapEditorData:
		Categories: Decoration
	RequiresBuildableArea:
		AreaTypes: building

^Palette:
	Inherits: ^Decoration
	Tooltip:
		Name: palette-name

^TerrainOverlay:
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	RenderSprites:
		Palette: unitterrain
	WithSpriteBody:
	BodyOrientation:
		UseClassicPerspectiveFudge: false
		QuantizedFacings: 1

^Railway:
	Inherits: ^TerrainOverlay
	RenderSprites:
		Palette: terrain
	EditorOnlyTooltip:
		Name: railway-name2
	Interactable:

^Tunnel:
	RenderSprites:
		Palette: terrain
	WithSpriteBody:
	BodyOrientation:
		UseClassicPerspectiveFudge: false
		QuantizedFacings: 1
	Building:
		Dimensions: 3, 3
		Footprint: ___ ___ ___
	Targetable:
	AlwaysVisible:
	TunnelEntrance:
	MapEditorData:
		Categories: Tunnel
	Interactable:
		Bounds: 4343, 8686

^Wall:
	Inherits: ^1x1Shape
	Inherits@1: ^SpriteActor
	Inherits@HANDICAPS: ^PlayerHandicaps
	CombatDebugOverlay:
	FrozenUnderFog:
	AppearsOnRadar:
	Interactable:
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Dimensions: 1,1
		Footprint: x
		RequiresBaseProvider: false
		BuildSounds: place2.aud
		TerrainTypes: Clear, Rough, Road, DirtRoad, Green, Sand, Pavement
	FootprintPlaceBuildingPreview:
		Palette: placefootprint
		LineBuildFootprintAlpha: 0.5
	SoundOnDamageTransition:
		DamagedSounds: expnew01.aud
		DestroyedSounds: crmble2.aud
	Health:
		HP: 25000
	BlocksProjectiles:
	Armor:
		Type: Concrete
	Crushable:
		CrushClasses: heavywall
	LineBuild:
		Range: 6
		NodeTypes: wall
	LineBuildNode:
		Types: wall
	Targetable:
		TargetTypes: Ground, Wall
	WithWallSpriteBody:
		Type: wall
	Sellable:
		SellSounds: cashturn.aud
	Demolishable:
	ExplodesAlsoTransported@Demolish:
		DeathTypes: Demolish
		Weapon: UnitExplodeSmall
	ScriptTriggers:
	MapEditorData:
		Categories: Wall
	Valued:
		Cost: 100
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 6
	Replaceable:
		Types: Gate, Tower

^Gate:
	Inherits: ^Building
	Inherits@EMPDISABLE: ^EmpDisable
	Inherits@2: ^WithTriggerCloakEffect-Defence
	Valued:
		Cost: 100
	Health:
		HP: 25000
	BlocksProjectiles:
	Armor:
		Type: Concrete
	LineBuildNode:
		Types: wall, gate
	-WithDeathAnimation:
	-Building:
	-GivesBuildableArea:
	-GrantConditionOnPrerequisite@SUDDENDEATH:
	-MustBeDestroyed:
	-WithSpriteBody:
	## Sell/make animation has bug with WithGateSpriteBody
	-WithMakeAnimation:
	WithGateSpriteBody:
		OpenSequence: open
	Tooltip:
		Name: gate-name
	Building:
		BuildSounds: place2.aud
		RequiresBaseProvider: false
		TerrainTypes: Clear, Rough, Road, DirtRoad, Green, Sand, Pavement
	MapEditorData:
		Categories: Defence
	Gate:
		PauseOnCondition: empdisable
		OpeningSound: gatedwn1.aud
		ClosingSound: gateup1.aud
		BlocksProjectilesHeight: 640
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 6
	Replacement:
		ReplaceableTypes: Gate
	Sellable:
		-RequiresCondition:
	Voiced:
		VoiceSet: GateVoice
	-GrantConditionOnPrerequisite@INSTANTCAPTURE:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:

^Gate_A:
	Inherits: ^Gate
	Inherits@1: ^3x1Shape
	Building:
		Dimensions: 3,1
		Footprint: xxx
	WithGateSpriteBody:
		WallConnections: -1,0, 3,0
	LineBuildNode:
		Connections: -1,0, 1,0

^Gate_B:
	Inherits: ^Gate
	Inherits@1: ^1x3Shape
	Building:
		Dimensions: 1,3
		Footprint: x x x
	WithGateSpriteBody:
		WallConnections: 0,-1, 0,3
	LineBuildNode:
		Connections: 0,-1, 0,1

^ScrinDeathExplo:
	Inherits: ^SpawnSmoke
	ExplodesAlsoTransported:
		Weapon: ScrinBuildingExplode
		Type: Footprint
	ExplodesAlsoTransported@BuildingFireSmallParticleSpawner:
		Weapon: ScrinBuildingFireSmallShrapnel
	ExplodesAlsoTransported@BuildingFireBigSpawn:
		Weapon: ScrinBuildingFireBigShrapnel
	FloatingSpriteEmitter@spawnsmoke:
		Image: scrsmoke
		Palette: jascblue
		RequiresCondition: CriticalDamaged && !cloaking-self
	Building:
		BuildSounds: scrinplacebuilding.wav

^ScrinBuildingFire:
	Inherits: ^SpawnFire
	WithIdleOverlay@SpawnFire:
		Sequence: building_scrinfire
		RequiresCondition: HeavyDamaged && !cloaking-self

^ScrinDefenceFire:
	Inherits: ^ScrinBuildingFire
	WithIdleOverlay@SpawnFire:
		Sequence: defence_scrinfire
		RequiresCondition: HeavyDamaged && !cloaking-self

^ScrinAircraftVoice:
	Voiced:
		VoiceSet: Deva
		Volume: 2

^ScrinRender:
	Inherits: ^Cloakable
	Buildable:
		IconPalette: chromescrin
	RenderSprites:
		PlayerPalette: playerscrin
	ExternalCondition@CLOAKGENERATOR:
		Condition: cloakgenerator

^ScrinRenderBuilding:
	Inherits: ^ScrinRender
	WithDeathAnimation:
		DeathSequencePalette: playerscrin
		CrushedSequencePalette: playerscrin
		CrushedPaletteIsPlayerPalette: true

^ScrinInfantryDeath:
	WithDeathAnimation@energy:
		DeathSequencePalette: scrinenergystuffs
		DeathTypes:
			FireDeath: 6
			EnergyDeath: 6
	WithDeathAnimation@explosion:
		DeathSequencePalette: gensmkexploFpurple
	WithDeathAnimation@blood1:
		DeathSequencePalette: jascblue
		CrushedSequencePalette: jascblue
	WithDeathAnimation@normal:
		DeathSequencePalette: playerscrin
		CrushedSequencePalette: playerscrin
		CrushedPaletteIsPlayerPalette: true
	WithDeathAnimation@body:
		DeathSequencePalette: gradientpurple
		CrushedSequencePalette: gradientpurple

^MutRender:
	Inherits: ^Cloakable
	RenderSprites:
		PlayerPalette: playermut
	ExternalCondition@CLOAKGENERATOR:
		Condition: cloakgenerator

^MutRenderGreen:
	Inherits: ^Cloakable
	RenderSprites:
		PlayerPalette: playerunittemgreen
	ExternalCondition@CLOAKGENERATOR:
		Condition: cloakgenerator

^MutRenderBuilding:
	Inherits: ^MutRender
	WithDeathAnimation:
		DeathSequencePalette: playermut
		CrushedSequencePalette: playermut
		CrushedPaletteIsPlayerPalette: true

^CabRender:
	Inherits: ^Cloakable
	RenderSprites:
		PlayerPalette: playercab
	ExternalCondition@CLOAKGENERATOR:
		Condition: cloakgenerator

^CabRenderBuilding:
	Inherits: ^CabRender
	WithDeathAnimation:
		DeathSequencePalette: playercab
		CrushedSequencePalette: playercab
		CrushedPaletteIsPlayerPalette: true

^BuildingCloak:
	Cloak@CLOAKGENERATOR:
		RequiresCondition: cloakgenerator
	ExternalCondition@CLOAKGENERATOR:
		Condition: cloakgenerator

^ScrinReaper:
	Targetable@Essence:
		TargetTypes: ScrinUnit

^InfantryStealthDetection:
	DetectCloaked:
		Range: 1c0
		RequiresCondition: !inside-tunnel && !Blind

^BasicStealthDetection:
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !inside-tunnel && !empdisable && !Blind
	RenderDetectionCircle:
		BorderWidth: 0
		Width: 2
		Color: 006600

^BasicStealthDetectionAir:
	Inherits: ^BasicStealthDetection
	DetectCloaked:
		Range: 6c0
		RequiresCondition: airborne
	RenderDetectionCircle:
		RenderOnGround: true

^TowerStealthDetection:
	DetectCloaked:
		Range: 7c0
		RequiresCondition: !empdisable && !disabled
	RenderDetectionCircle:
		TrailCount: 1
		UpdateLineTick: -3
		BorderWidth: 0
		Width: 2
		Color: 006600

^CargoPips:
	WithCargoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		Palette: pips
		Margin: 5, 2
		ValidRelationships: Ally, Neutral, Enemy
		CustomPipSequences:
			red: pip-red
			green: pip-green
			yellow: pip-yellow
			blue: pip-blue
			gray: pip-gray

^SelectableBuilding:
	IsometricSelectable:
		Priority: 3
		Height: 0
		DecorationHeight: 24
	IsometricSelectionDecorations:
		MinimumZoom: 0
	WithTextControlGroupDecoration:
		Margin: 1, 1

^NonBuildingStaticActor:
	Inherits: ^1x1Shape
	Inherits@3: ^SpriteActor
	Inherits@2: ^ExistsInWorld
	Immobile:
		OccupiesSpace: true
	Health:
		HP: 100
	BodyOrientation:
		QuantizedFacings: 1
	Interactable:
	HiddenUnderFog:
	OwnerLostAction:
		Action: Kill
	WithSpriteBody:

^FirestormWallSP:
	GrantConditionOnDeployWithCharge@FirestormWall:
		DeployedCondition: FirestormGen
		ChargeDuration: 1500
		InitialCharge: 0
		ConditionDuration: 300
	ProximityExternalCondition@FirestormWall:
		Condition: FirestormWallCondition
		Range: 12c0
		AffectsParent: true
		RequiresCondition: FirestormGen
	FirestromSP:
		RequiresCondition: FirestormGen
		FirestormEffectImage: explosion
		FirestormEffectSequences: firestormexplo, fsidle, firestormexplo1, fsidle, firestormexplo2, fsidle
		FirestormEffectPalette: apblue
		FirestormEffectRotationAngle: 6
		Damage: 200000
		DamageMaxRange: 12544
		DamageMinRange: 11904
		Versus:
			Infantry: 100
			Building: 100
			Defense: 100
			Heavy: 100
			Aircraft: 100
			Concrete: 100
			Boss: 10
		ValidTargets: Ground, Water, Air
		InvalidTargets: Building
		ValidRelationships: Neutral, Enemy
		DamageTypes: ExplosionDeath
		LaunchEffectSounds: firstrm1.aud
