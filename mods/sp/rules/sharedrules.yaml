E1:
	Inherits: ^Soldier
	Inherits@EXPERIENCE: ^GainsExperience
	Valued:
		Cost: 120
	Tooltip:
		Name: e1-name
	Health:
		HP: 12500
	Mobile:
		Speed: 81
	Armament@PRIMARY:
		Weapon: MilitantRifle
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 2
	WithInfantryBody:
		AttackSequences: shoot
	RenderSprites:
		Image: e1.gdi
		FactionImages:
			gdi: e1.gdi
			nod: e1.nod
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		Damage: 8

ENGINEER:
	Inherits: ^TakeCoverInfantry
	Inherits@ENGINEER: ^Engineering
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Tooltip:
		Name: engineer-name
	Buildable:
		Queue: Infantry.Shared, Infantry.GDI, Infantry.Nod
		BuildPaletteOrder: 11
		Prerequisites: ~barracks.humanengi, ~techlevel.1
		Description: engineer-desc
		BuildDuration: 375
		BuildDurationModifier: 100
	Valued:
		Cost: 500
	Mobile:
		Speed: 60
	Health:
		HP: 10000
	Selectable:
		Priority: 4
	Passenger:
		Voice: Garrison
	SharedPassenger:
		Voice: Garrison
	InstantlyRepairs:
		Voice: Repair
	Voiced:
		VoiceSet: HumanEngineer
	RenderSprites:
		Image: engineer.gdi
		FactionImages:
			gdi: engineer.gdi
			nod: engineer.nod
	AttackFrontal:
		FacingTolerance: 2
	AnnounceOnSeen:
		PingRadar: true
		Notification: EnemyEngineerDetected
		TextNotification: notification-engineer
	Captures@NormalBuilding:
		RequiresCondition: !instantcapture && !WebDisable
	Captures@TechBuilding:
		RequiresCondition: !instantcapture && !WebDisable
	Captures@InstantBuilding:
		RequiresCondition: instantcapture && !WebDisable
	-FirepowerMultiplier@ZealousBuff:
	-ExternalCondition@ZealousBuff:
	-WithIdleOverlayOnGround@ZealousBuff:

^SuddenDeathTag: ## TODO: Add visual tag
	TooltipDescription@Enemy:
		Description: suddendeath-foe
		ValidRelationships: Enemy
		RequiresCondition: suddendeath
	TooltipDescription@Ally:
		Description: suddendeath-ally
		ValidRelationships: Ally
		RequiresCondition: suddendeath

MCV:
	Inherits: ^Vehicle
	Inherits@SELECTIOMODE: ^LowPrioritySelectionMode
	Inherits@VISION: ^6CellVision
	Inherits@SuddenDeathRequired: ^SuddenDeathTag
	Buildable:
		Queue: Vehicle.Shared, Vehicle.GDI
		BuildAtProductionType: Tank
		BuildPaletteOrder: 8
		Prerequisites: ~gaweap, ~techlevel.4, ~!global-suddendeath
		Description: mcv-desc
		BuildDuration: 1500
		BuildDurationModifier: 100
	Valued:
		Cost: 4000
	Tooltip:
		Name: gdimcv-name
	Selectable:
		DecorationBounds: 1536,2533, 0, -485
	Health:
		HP: 100000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 60
		TurnSpeed: 20
		Locomotor: InfantryCrusherVehicle
	Targetable@MC:
		RequiresCondition: !mindcontrolled && !suddendeath
	MustBeDestroyed:
		RequiredForShortGame: true
		-RequiresCondition:
	CaptureManager: ## Hack: Normally, capture while undeploying conyard will crash the game if do not have this
	#-Capturable:
	-Crushable:
	BaseBuilding:
	Transforms:
		IntoActor: gacnst
		Offset: -1,-1
		Facing: 384
		TransformSounds: place2.aud
		NoTransformSounds:
		Voice: Move
		PauseOnCondition: empdisable
		NoTransformNotification: BuildingCannotPlaceAudio
		NoTransformTextNotification: notification-cannot-deploy
	SelectionDecorations:
	RenderSprites:
		Image: gdimcv
	ExplodesAlsoTransported:
		Weapon: BuildingExplode
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 30
		Prerequisites: AIOnly

HARV:
	Inherits: ^Vehicle
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Valued:
		Cost: 1400
	Tooltip:
		Name: gdiharv-name
	Buildable:
		Queue: Vehicle.Shared, Vehicle.GDI
		BuildAtProductionType: Tank
		BuildPaletteOrder: 1
		Prerequisites: ~gaweap, proc, ~techlevel.1, ~!global-megawealth
		Description: harv-desc
		BuildDuration: 750
		BuildDurationModifier: 100
	Selectable:
		Bounds: 1086, 1536
		DecorationBounds: 1086, 1536
		Class: harv
		Priority: 4
	WithFacingSpriteBody:
		RequiresCondition: !inside-tunnel
	WithMoveAnimation:
		RequiresCondition: !inside-tunnel
	DockClientManager:
		Voice: Move
		SearchForDockDelay: 200
	WithDockingAnimation:
	Harvester:
		Type: Refinary
		Resources: Tiberium, BlueTiberium
		BaleUnloadDelay: 3
		BaleLoadDelay: 9
		FullyLoadedSpeed: 100
		SearchFromHarvesterRadius: 8
		HarvestVoice: Attack
		EmptyCondition: no-tib
		WaitDuration: 53
	StoresResources:
		Capacity: 28
		Resources: Tiberium, BlueTiberium
	Mobile:
		Speed: 90
		Locomotor: InfantryCrusherVehicle
	Health:
		HP: 60000
	ChangesHealth:
		PercentageStep: 1
		Step: 0
		Delay: 100
		DamageCooldown: 100
		StartIfBelow: 100
	Armor:
		Type: Heavy
	ExplodesAlsoTransported:
		RequiresCondition: no-tib
	ExplodesAlsoTransported@tib:
		Weapon: TiberiumExplosion
		InvalidDeathTypes: DrownedDeath
		RequiresCondition: !no-tib
	WithHarvestOverlay:
		LocalOffset: 768,0,0
		Palette: effect
	SelectionDecorations:
	RenderSprites:
		Image: gdiharv
	Voiced:
		VoiceSet: HumanHarvesterVO
		Volume: 4
	-ChangesHealth@veinholedrain:
	-ExternalCondition@veinholedrain:
	-WithIdleOverlay@veinholedrain:
	-GrantConditionOnTerrain@VEINS:
	WithDecoration@UNDERGROUND:
		Sequence: harvester
	WithStoresResourcesPipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		Margin: 5, 2
		PipCount: 7
		Palette: pips
		ValidRelationships: Ally, Neutral, Enemy
		ResourceSequences:
			Tiberium: pip-green
			BlueTiberium: pip-blue
	CarryableHarvester:
	-Carryable:
	AutoCarryable:
		RequiresCondition: !inside-tunnel
		LockedCondition: carrylock
	AddCashCheater@AI:
		CashCheatType: Harvester
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 75
		Prerequisites: AIOnly
	ProvidesPrerequisite@HasHarv: ## For AI Perf.
		Prerequisite: HasHarv
	ActorStatValues:
		Stats: Armor, Sight, Speed, None, None, None, Harvester

harv.nod:
	Inherits: HARV
	Tooltip:
		Name: nodharv-name
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Nod, Vehicle.NodTallMech
		BuildPaletteOrder: 2
		Prerequisites: ~naweap, proc, ~techlevel.1, ~!global-megawealth
	RenderSprites:
		Image: nodharv

harv.mut:
	Inherits: HARV
	Tooltip:
		Name: mutharv-name
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Mutant
		BuildPaletteOrder: 3
		Prerequisites: ~muweap, proc, ~techlevel.1, ~!global-megawealth
	RenderSprites:
		Image: mutharv

CABHARV:
	Inherits: HARV
	Inherits@VOICE: ^CabalVehicleVoice
	Tooltip:
		Name: cabharv-name
	Buildable:
		Queue: Vehicle.Shared, Vehicle.CABAL
		BuildPaletteOrder: 4
		Prerequisites: ~cabweap, proc, ~techlevel.1, ~!global-megawealth
	RenderSprites:
		Image: cabharv
	BodyOrientation:
		QuantizedFacings: 32
	DockClientManager:
		Voice: Action
	Harvester:
		HarvestVoice: Action

SCRHARV:
	Inherits: HARV
	Inherits@1: ^ScrinVehicleOverride
	Inherits@2: ^ScrinRender
	Valued:
		Cost: 1400
	Tooltip:
		Name: scrharv-name
	Buildable:
		Queue: Vehicle.Shared, Vehicle.Scrin
		BuildPaletteOrder: 5
		Prerequisites: ~scrweap, proc, ~techlevel.1, ~!global-megawealth
	Mobile:
		Locomotor: InfantryCrusherVehicle
	RenderSprites:
		Image: scrharv
	BodyOrientation:
		QuantizedFacings: 32
	Voiced:
		VoiceSet: Seeker
		Volume: 1

GACNST:
	Inherits: ^Building
	Inherits@SHAPE: ^3x3Shape
	Inherits@AIbuilding: ^AImicroManagable
	Inherits@SuddenDeathRequired: ^SuddenDeathTag
	Building:
		Footprint: xxx xxx xxx
		BuildSounds: facbld1.aud
		Dimensions: 3,3
	Buildable:
		Queue: Building.Shared, Building.GDI, Building.Nod, Building.Mutant, Building.CABAL, Building.Scrin
		BuildPaletteOrder: 996
		Prerequisites: ~disabled
		Description: gacnst-desc
		BuildDuration: 1500
		BuildDurationModifier: 100
	Health:
		HP: 200000
	Valued:
		Cost: 4000
	Tooltip:
		Name: gacnst-name
	BaseProvider:
		Range: 14c0
	Targetable:
		TargetTypes: Building, Ground, C4, ConsideredValuableForAI
	BaseBuilding:
	Transforms:
		IntoActor: mcv
		Offset: 1,1
		Facing: 384
		DeployCursor: undeploy
		PauseOnCondition: empdisable
		RequiresCondition: !Building-Buildup
	TransformsIntoMobile:
		RequiresCondition: !Building-Buildup
		Locomotor: InfantryCrusherVehicle
		Voice: Move
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: !Building-Buildup
		RepairActors: gadept, scrdepot, tdrepd
		Voice: Move
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: !Building-Buildup
		CargoType: Vehicle
		Voice: Move
		RequiresForceMove: true
	Production@Shared:
		Produces: Building.Shared, Defense.Shared
		PauseOnCondition: empdisable
		RequiresCondition: !multiqueue
	Production:
		Produces: Building.GDI, Defense.GDI
		PauseOnCondition: empdisable
		RequiresCondition: multiqueue
	ProductionQueue@Building:
		Type: Building.GDI
		Group: Building
		DisplayOrder: 0
		BuildDurationModifier: 100
		LowPowerModifier: 200
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: notification-building-ready
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: notification-unable-to-comply
	ProductionQueue@Defense:
		Type: Defense.GDI
		Group: Defense
		DisplayOrder: 5
		LowPowerModifier: 200
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		BuildDurationModifier: 100
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: notification-building-ready
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: notification-unable-to-comply
	ProductionBar@Building.Shared:
		ProductionType: Building.Shared
	ProductionBar@Building:
		ProductionType: Building.GDI
	ProductionBar@Defense.Shared:
		ProductionType: Defense.Shared
		Color: 8A8A8A
	ProductionBar@Defense:
		ProductionType: Defense.GDI
		Color: 8A8A8A
	GrantConditionOnPrerequisite@multiqueue:
		Condition: multiqueue
		Prerequisites: global-multiqueue
	FreeActor@Dummy:
		Actor: QueueUpdaterDummy
		RequiresCondition: updatequeue
	GrantConditionAfterDelay:
		Delay: 1
		Condition: updatequeue
		ShowSelectionBar: false
	WithIdleOverlay@TOP:
		RequiresCondition: !Building-Buildup
		Sequence: idle-top
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@TOP-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-top-bright
		Palette: bright
	WithIdleOverlay@SIDE:
		RequiresCondition: !Building-Buildup
		Sequence: idle-side
	WithIdleOverlay@FRONT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-front
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@FRONT-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-front-bright
		Palette: bright
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	WithBuildingPlacedOverlay:
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@structureshuman:
		Prerequisite: structures.human
	ProvidesPrerequisite@structureswall:
		Prerequisite: structures.wall
	ProvidesPrerequisite@structuresgate:
		Prerequisite: structures.gate
	SpawnActorsOnSell@gdi:
		GuaranteedActorTypes: engineer
	SpawnActorsOnSell@nod:
		GuaranteedActorTypes: engineer
	SpawnActorsOnSell@mut:
		GuaranteedActorTypes: cutman
	SpawnActorsOnSell@cab:
		GuaranteedActorTypes: swarmling
	SpawnActorsOnSell@scr:
		GuaranteedActorTypes: shapeshifter
	Capturable:
		RequiresCondition: !Building-Buildup && !suddendeath
	Targetable@MC:
		RequiresCondition: !mindcontrolled && !suddendeath
	MustBeDestroyed:
		-RequiresCondition:
	RequiresBuildableArea:
		AreaTypes: building
	ProvidesPrerequisite@AIantiRush-building-order:
		RequiresCondition: !AImicroManage
		Prerequisite: AIantiRush-building-order ## Hack: AI Building control. AI build refinary only when it has a combat producing line.
	IsometricSelectable:
		DecorationHeight: 36
	AddCashCheater@AI:
		CashCheatType: BaseBuilder
	### AI Control: AI unpack captured MCV
	GrantConditionOnCapture@AI:
		Condition: captured
	IssueOrderToBot@AI:
		RequiresCondition: captured
		OrderName: DeployTransform
		OrderTrigger: Periodically
		OrderInterval: 200
		OrderChance: 100

^Powerplant:
	Inherits: ^AffectPowerBuilding
	Inherits@SHAPE: ^2x2Shape
	ProvidesPrerequisite@anypower:
		Prerequisite: anypower
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Building, Ground, C4, Powerplant
	ScalePowerWithHealth:
	Health:
		HP: 50000
	Valued:
		Cost: 300
	Power:
		Amount: 100
		RequiresCondition: !empdisable
	IsometricSelectable:
		DecorationHeight: 48

^Barracks:
	Inherits: ^AffectPowerBuilding
	Inherits@PRODUCTION: ^ProducesUnits
	Buildable:
		BuildDuration: 200
		BuildDurationModifier: 100
	Valued:
		Cost: 500
	ProvidesPrerequisite:
		Prerequisite: barracks
	ProximityExternalCondition@hospitalheal:
		Condition: hospitalheal
		Range: 6c0
	WithRangeCircle:
		Range: 6c0
		Type: hospitalheal
		Color: FF0000CC
		BorderWidth: 0
		Width: 2
	Health:
		HP: 50000
	ExitsDebugOverlay:
	RallyPoint:
		ForceSetType: Infantry
	Production@Shared:
		Produces: Infantry.Shared
		PauseOnCondition: empdisable
		RequiresCondition: !multiqueue
	Production:
		Produces: Infantry
		PauseOnCondition: empdisable
		RequiresCondition: multiqueue
	ProductionQueue@Infantry:
		Type: Infantry
		Group: Infantry
		DisplayOrder: 10
		LowPowerModifier: 200
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		ReadyAudio: UnitReady
		ReadyTextNotification: notification-unit-ready
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: notification-unable-to-comply
	ProductionBar@Infantry.Shared:
		ProductionType: Infantry.Shared
	ProductionBar@Infantry:
		ProductionType: Infantry
	Power:
		Amount: -20
	GrantConditionOnPrerequisite@megawealth:
		Condition: megawealth
		Prerequisites: global-megawealth
	ProvidesPrerequisite@mwgenref:
		Prerequisite: proc
		RequiresCondition: megawealth
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@AIantiRush-building-order:
		Prerequisite: AIantiRush-building-order ## Hack: AI Building control. AI build refinary only when it has a combat producing line.

^RefineryOverride:
	Health:
		HP: 100000
	Valued:
		Cost: 2000
	CustomSellValue:
		Value: 600
	Tooltip:
		Name: drefinery-name
	Power:
		Amount: -30
	StoresPlayerResources:
		Capacity: 2000
	DockHost:
		Type: Refinary
	Refinery:
		DiscardExcessResources: false
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		Margin: 8, 2
		FullSequence: pip-green-building
		EmptySequence: pip-empty-building
		PipStride: 4, 2
		PipCount: 25
		Palette: pips
		ValidRelationships: Ally, Neutral, Enemy
	WithDockedOverlay@flame1:
		Sequence: flame
		Palette: gensmkexploFgreen
		RequiresCondition: !Building-Buildup
	WithDockedOverlay@flame2:
		Sequence: flame
		Palette: gensmkexploFgreen
		RequiresCondition: !Building-Buildup
	AddCashCheater@AI:
		CashCheatType: Refinery

^Refinery:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^RefineryOverride
	Inherits@SHAPE: ^NormalRefineryHitShape
	Building:
		Footprint: xx++ xx++ xx++
		Dimensions: 4,3
	DockHost:
		DockAngle: 640
		DockOffset: 700,700,0
	FreeActor:
		Actor: HARV
		SpawnOffset: 3,1
		Facing: 640
	WithIdleOverlay@REDLIGHTS:
		Sequence: idle-redlights
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	ProvidesPrerequisite@proc:
		Prerequisite: proc
	RenderSprites:
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 36
	ThrowsShrapnel@SMALL:
		Pieces: 1, 2
		Weapons: SmallDebris
	ThrowsShrapnel@LARGE:
		Pieces: 1, 2
		Weapons: LargeDebris
	ThrowsShrapnel@TSMALL:
		Pieces: 3, 6
		Weapons: TSmallDebris
	ThrowsShrapnel@TLARGE:
		Pieces: 2, 4
		Weapons: TLargeDebris

^FlippedRefinery:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^RefineryOverride
	Inherits@SHAPE: ^FlippedRefineryHitshape
	Building:
		Footprint: ++xx ++xx ++xx
		Dimensions: 4,3
	DockHost:
		DockAngle: 128
		DockOffset: -700,-700, 0
	FreeActor:
		Actor: HARV
		SpawnOffset: 0,1
		Facing: 128
	WithIdleOverlay@REDLIGHTS:
		Sequence: idle-redlights
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	ProvidesPrerequisite@proc:
		Prerequisite: proc
	RequiresBuildableArea:
		AreaTypes: building

^FlippedXRefinery:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^RefineryOverride
	Inherits@SHAPE: ^FlippedRefineryXHitshape
	Building:
		Footprint: xxx xxx +++ +++
		Dimensions: 3,4
	DockHost:
		DockAngle: 384
		DockOffset: -700,700, 0
	FreeActor:
		Actor: HARV
		SpawnOffset: 1,3
		Facing: 384
	WithIdleOverlay@REDLIGHTS:
		Sequence: idle-redlights
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	ProvidesPrerequisite@proc:
		Prerequisite: proc
	RequiresBuildableArea:
		AreaTypes: building

^FlippedYRefinery:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^RefineryOverride
	Inherits@SHAPE: ^FlippedRefineryYHitshape
	Building:
		Footprint: +++ +++ xxx xxx
		Dimensions: 3,4
	DockHost:
		DockAngle: 896
		DockOffset: 700,-700, 0
	FreeActor:
		Actor: HARV
		SpawnOffset: 1,0
		Facing: 896
	WithIdleOverlay@REDLIGHTS:
		Sequence: idle-redlights
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	ProvidesPrerequisite@proc:
		Prerequisite: proc
	RequiresBuildableArea:
		AreaTypes: building

^Factory:
	Inherits: ^AffectPowerBuilding
	Inherits@PRODUCTION: ^ProducesUnits
	Inherits@SHAPE: ^4x3FactoryWithBibShape
	Buildable:
		BuildDuration: 750
		BuildDurationModifier: 100
	Valued:
		Cost: 2000
	ProvidesPrerequisite@factory:
		Prerequisite: factory
	GrantExternalConditionToOwner:
		Condition: factory
	Building:
		Footprint: xxx+ xxx+ xxx+
		Dimensions: 4,3
	Health:
		HP: 150000
	RallyPoint:
		Path: 4,1
		Palette: mouse
		IsPlayerPalette: false
		ForceSetType: Vehicle
	Exit@Shared:
		SpawnOffset: -384,-384,0
		ExitCell: 3,1
		ExitDelay: 5
		ProductionTypes: Vehicle.Shared, Tank
		RequiresCondition: !multiqueue
	Exit@Multiqueue:
		SpawnOffset: -384,-384,0
		ExitCell: 3,1
		ExitDelay: 5
		RequiresCondition: multiqueue
	Tooltip:
		Name: dwarfactory-name
	ProvidesPrerequisite@factoryhelipad:
		Prerequisite: factoryorair
	Production@Shared:
		Produces: Vehicle.Shared, Tank
		PauseOnCondition: empdisable
		RequiresCondition: !multiqueue
	Production:
		Produces: Vehicle
		PauseOnCondition: empdisable
		RequiresCondition: multiqueue
	ProductionQueue@Vehicle:
		Type: Vehicle
		Group: Vehicle
		DisplayOrder: 15
		BuildDurationModifier: 100
		LowPowerModifier: 200
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		ReadyAudio: UnitReady
		ReadyTextNotification: notification-unit-ready
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: notification-unable-to-comply
	ProductionBar@Vehicle.Shared:
		ProductionType: Vehicle.Shared
	ProductionBar@Vehicle:
		ProductionType: Vehicle
	Power:
		Amount: -50
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building
	ProvidesPrerequisite@humanstuff:
		Factions: gdi, nod, cab, mut
		Prerequisite: humanstuff
		ResetOnOwnerChange: true
	ProvidesPrerequisite@AIantiRush-building-order:
		Prerequisite: AIantiRush-building-order
	IsometricSelectable:
		DecorationHeight: 48

^Helipad:
	Inherits: ^AffectPowerBuilding
	Inherits@PRODUCTION: ^ProducesUnits
	Inherits@SHAPE: ^2x2Shape
	Exit@1:
		SpawnOffset: 0,-256,0
	Buildable:
		BuildDuration: 375
		BuildDurationModifier: 100
	Valued:
		Cost: 1000
	Production@Shared:
		Produces: Air.Shared
		PauseOnCondition: empdisable
		RequiresCondition: !multiqueue
	Production:
		Produces: Air
		PauseOnCondition: empdisable
		RequiresCondition: multiqueue
	ProductionQueue@Air:
		Type: Air
		Group: Air
		DisplayOrder: 20
		BuildDurationModifier: 100
		LowPowerModifier: 200
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		ReadyAudio: UnitReady
		ReadyTextNotification: notification-unit-ready
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: notification-unable-to-comply
	ProductionBar@Air.Shared:
		ProductionType: Air.Shared
	ProductionBar@Air:
		ProductionType: Air
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
		ForceSetType: Air
		-Path: ## Aircraft that still go to former target location after resupply, we hide it by using default value
	Tooltip:
		Name: dhelipad-name
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@factoryorair:
		Prerequisite: factoryorair
	Reservable:
	Health:
		HP: 50000
	Power:
		Amount: -20
	WithSpriteBody:
	ProvidesPrerequisite@AIantiRush-building-order:
		Prerequisite: AIantiRush-building-order

^Radar:
	Inherits: ^AffectPowerBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@VISION: ^12CellVision
	Buildable:
		BuildDuration: 1125
		BuildDurationModifier: 100
	Valued:
		Cost: 1500
	ProvidesPrerequisite:
		Prerequisite: radar
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	ToggleConditionOnOrder:
		DisabledSpeech: DisablePower
		EnabledSpeech: EnablePower
		Condition: powerdown
		OrderName: PowerDown
	ProvidesRadar:
		RequiresCondition: !disabled && !empdisable
	DetectCloaked:
		Range: 10c0
	RenderDetectionCircle:
	Targetable:
		TargetTypes: Building, Ground, C4
	Power:
		Amount: -75
	ProvidesPrerequisite@buildingname:
	WithSpriteBody:
		PauseOnCondition: disabled
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: mouse
		RequiresCondition: powerdown
		Position: Center
	RequiresBuildableArea:
		AreaTypes: building
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0
	SupportPowerChargeBar:
	SpawnActorPower:
		OrderName: RadarScan
		PauseOnCondition: disabled
		RequiresCondition: swlimit
		Cursor: emp
		BlockedCursor: emp-blocked
		Prerequisites:
			1: radar
		Icons:
			1: radarscan
		ChargeInterval: 3000
		Names:
			1: support-radarscan-name
		Descriptions:
			1: support-radarscan-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		EndChargeSound: SpySatelliteReady.aud
		DeploySound: sspysate.aud
		TargetCircleRanges:
			1: 8c0
		Actors:
			1: radarscandummy
		LifeTime: -1
	SpawnActorPower@unlimited:
		OrderName: RadarScan
		PauseOnCondition: disabled
		RequiresCondition: !swlimit
		AllowMultiple: true
		Cursor: emp
		BlockedCursor: emp-blocked
		Prerequisites:
			1: radar
		Icons:
			1: radarscan
		ChargeInterval: 3000
		Names:
			1: support-radarscan-name
		Descriptions:
			1: support-radarscan-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		EndChargeSound: SpySatelliteReady.aud
		DeploySound: sspysate.aud
		TargetCircleRanges:
			1: 8c0
		Actors:
			1: radarscandummy
		LifeTime: -1
	GrantConditionOnPrerequisite@swlimit:
		Condition: swlimit
		Prerequisites: global-swlimit
	RenderDetectionCircle:
		TrailCount: 3

GADEPT:
	Inherits: ^AffectPowerBuilding
	Inherits@AUTOTARGET: ^AutoTargetHeal
	Inherits@SHAPE: ^3x3Shape
	Valued:
		Cost: 500
	Tooltip:
		Name: gadept-name
	Buildable:
		Queue: Building.Shared, Building.GDI, Building.Nod, Building.Mutant, Building.CABAL
		BuildPaletteOrder: 21
		Prerequisites: ~structures.human, factoryorair, ~techlevel.3
		Description: gadept-desc
		BuildDuration: 375
		BuildDurationModifier: 100
	Building:
		Footprint: x== x=+ x==
		Dimensions: 3,3
	Health:
		HP: 75000
	Reservable:
	RepairsUnits:
		HpPerStep: 2000
		ValuePercentage: 0
		Interval: 48
		StartRepairingNotification: Repairing
		StartRepairingTextNotification: notification-repairing
		FinishRepairingNotification: UnitRepaired
		FinishRepairingTextNotification: notification-unit-repaired
	AttackOmni:
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 5 #PREF: save trait looks up and scan armaments
	Armament:
		Weapon: ServiceDepotDroneSpawn
		Cursor: repair
		OutsideRangeCursor: repair
		TargetRelationships: Ally
		ForceTargetRelationships: Ally
		PauseOnCondition: Building-Buildup
	Cloak@CLOAKGENERATOR:
		UncloakOn: Damage, Heal
	DroneSpawnerMaster:
		Actors: REPAIRDRONE, REPAIRDRONE, REPAIRDRONE
		SpawnOffset: -1024, 1024, 0, 0,0,0, 1024, 1024, 0
		GatherCell: 1, 2, 1,1, 2,1
	GrantConditionOnHostDock:
		Condition: serving
		AfterDockDuration: 20
	RenderRangeCircle:
		Color: FFFF00CC
		BorderColor: 000000CC
		BorderWidth: 0
		Width: 2
	Sellable:
		RequiresCondition: !serving && !Building-Buildup
	WithSpriteBody:
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
	CommandBarBlacklist:
		DisableStop: false
	WithIdleOverlay@LIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-light
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHT-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: idle-light-bright
		Palette: bright
	WithIdleOverlay@GROUND:
		RequiresCondition: !Building-Buildup
		Sequence: ground
	WithIdleOverlay@CIRCUITS:
		RequiresCondition: !Building-Buildup
		Sequence: circuits
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@CIRCUITS-BRIGHT:
		RequiresCondition: !Building-Buildup
		Sequence: circuits-bright
		Palette: bright
	WithRepairOverlay@CRANE:
		RequiresCondition: !Building-Buildup
		StartSequence: crane-start
		Sequence: crane-loop
		EndSequence: crane-end
		Palette: player-nobright
		IsPlayerPalette: True
	WithRepairOverlay@CRANE-BRIGHT:
		RequiresCondition: !Building-Buildup
		StartSequence: crane-start
		Sequence: crane-loop-bright
		EndSequence: crane-end
		Palette: bright
	WithRepairOverlay@PLATFORM:
		Sequence: platform
		RequiresCondition: !Building-Buildup
	WithDeathAnimation@BIB:
		DeathSequence: dead-ground
		UseDeathTypeSuffix: false
		RequiresCondition: !Building-Buildup
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@scrdepot:
		Prerequisite: scrdepot
	RenderSprites:
		Image: gadept.gdi
		FactionImages:
			gdi: gadept.gdi
			nod: gadept.nod
			mut: gadept.mut
			cab: gadept.cab
	RequiresBuildableArea:
		AreaTypes: building
	-RevealOnFire:
	ActorStatValues:
		Damage: -20

SCRDEPOT:
	Inherits: GADEPT
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@RENDER: ^ScrinRenderBuilding
	Buildable:
		Queue: Building.Shared, Building.Scrin
		BuildPaletteOrder: 25
		Prerequisites: ~drached, factoryorair, ~techlevel.3
		Description: gadept-desc
		BuildDuration: 375
		BuildDurationModifier: 100
	Tooltip:
		Name: scrdepot-name
	Building:
		Footprint: =+= ==+ +==
	DroneSpawnerMaster:
		Actors: REPAIRWYVERN, REPAIRWYVERN, REPAIRWYVERN
		SpawnOffset: -1024, 1024, 0, 0,0,0, 1024, 1024, 0
		GatherCell: 1, 2, 1,1, 2,1
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@gadept:
		Prerequisite: gadept
	RenderSprites:
		Image: scrdepot
		-FactionImages:
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	-WithIdleOverlay@LIGHT:
	-WithIdleOverlay@LIGHT-BRIGHT:
	-WithIdleOverlay@GROUND:
	-WithIdleOverlay@CIRCUITS:
	-WithIdleOverlay@CIRCUITS-BRIGHT:
	-WithRepairOverlay@CRANE:
	-WithRepairOverlay@CRANE-BRIGHT:
	-WithDeathAnimation@BIB:

^TechCenter:
	Inherits: ^AffectPowerBuilding
	Buildable:
		BuildDuration: 1500
		BuildDurationModifier: 100
	Valued:
		Cost: 3000
	ProvidesPrerequisite@tech:
		Prerequisite: tech
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 75000
	WithSpriteBody:
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building

SHAWALL:
	Inherits: ^Wall
	Buildable:
		Queue: Defense.Shared, Defense.GDI, Defense.CABAL
		BuildPaletteOrder: 1
		Prerequisites: ~structures.wall, ~techlevel.1
		Description: sharedwall-desc
		BuildDuration: 50
		BuildDurationModifier: 100
	SoundOnDamageTransition:
		DamagedSounds:
		DestroyedSounds:
	-AppearsOnRadar:
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: sharedwall-name
	LineBuild:
		NodeTypes: wall, turret
	RenderSprites:
		Image: wall.gdi
		FactionImages:
			gdi: wall.gdi
			nod: wall.nod
			cab: wall.nod

NAPOST:
	Inherits: ^Defence
	Inherits@IDISABLED: ^DisableOnLowPowerOrPowerDown
	Buildable:
		Queue: Defense.Shared, Defense.Nod
		BuildPaletteOrder: 2
		Prerequisites: ~nodyard, napowr, ~techlevel.1
		Description: napost-desc
		BuildDuration: 50
		BuildDurationModifier: 100
	Valued:
		Cost: 100
	Tooltip:
		Name: napost-name
	Health:
		HP: 35000
	BlocksProjectiles:
	Armor:
		Type: Concrete
	Targetable:
		TargetTypes: Building, Ground, NoAutoTarget
	LineBuild:
		Range: 10
		NodeTypes: laserfencenode
		SegmentType: nafnce
		SegmentsRequireNode: true
	WithMakeAnimation:
		Condition: Building-Buildup
	LineBuildNode:
		Types: laserfencenode
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 6
	Power:
		Amount: -10
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: lights-bright
		Palette: bright
	WithIdleOverlay@CHAINOFLIGHTS:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: chainoflights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@CHAINOFLIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: chainoflights-bright
		Palette: bright
	LineBuildSegmentExternalCondition:
		RequiresCondition: !disabled && !empdisable
		Condition: active-posts
	-RenderRangeCircle:
	ActorStatValues:
		Stats: Armor, Sight, Power

NAFNCE:
	Inherits: ^Wall
	Inherits@CLOAK: ^Cloakable
	-Replaceable:
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: nafnce-name
	LineBuild:
		NodeTypes: laserfence
	LineBuildNode:
		Types: laserfence
	-Crushable:
	-Sellable:
	-Targetable:
	-Building:
	ExplodesAlsoTransported:
		Weapon: UnitExplodeSmall
	EnergyWall:
		ActiveCondition: active-posts == 2
		Weapon: LaserFence
		TerrainTypes: Clear, Road, DirtRoad, Rough
		RequiresBaseProvider: true
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 6
	GrantConditionOnLineBuildDirection@X:
		Direction: X
		Condition: laserfence-direction-x
	GrantConditionOnLineBuildDirection@Y:
		Direction: Y
		Condition: laserfence-direction-y
	-WithWallSpriteBody:
	ExternalCondition@ACTIVE:
		Condition: active-posts
	WithWallSpriteBody@XENABLED:
		RequiresCondition: laserfence-direction-x && active-posts == 2
		Type: laserfence
		Sequence: enabled-x
		Name: x-enabled
		Palette: player-nobright
		IsPlayerPalette: True
	WithWallSpriteBody@XENABLED-BRIGHT:
		RequiresCondition: laserfence-direction-x && active-posts == 2
		Type: laserfence
		Sequence: enabled-x-bright
		Name: x-enabled-bright
		Palette: bright
	WithWallSpriteBody@YENABLED:
		RequiresCondition: laserfence-direction-y && active-posts == 2
		Type: laserfence
		Sequence: enabled-y
		Name: y-enabled
		Palette: player-nobright
		IsPlayerPalette: True
	WithWallSpriteBody@YENABLED-BRIGHT:
		RequiresCondition: laserfence-direction-y && active-posts == 2
		Type: laserfence
		Sequence: enabled-y-bright
		Name: y-enabled-bright
		Palette: bright
	WithSpriteBody@XDISABLED:
		RequiresCondition: laserfence-direction-x && active-posts < 2
		Sequence: disabled-x
		Name: x-disabled
	WithSpriteBody@YDISABLED:
		RequiresCondition: laserfence-direction-y && active-posts < 2
		Sequence: disabled-y
		Name: y-disabled
	BlocksProjectiles:
		RequiresCondition: active-posts == 2
	DamageMultiplier: # Prevent all normal damage, but still allows direct kills from the post
		Modifier: 0
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebris
		Pieces: 0, 1
		Range: 2c0, 5c0
	Interactable:
		Bounds: 1447, 1447
	-MapEditorData:

MUTWALL:
	Inherits: ^Wall
	Inherits@RENDER: ^MutRender
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		BuildPaletteOrder: 3
		Description: sharedwall-desc
		Prerequisites: ~mutyard, ~techlevel.1
		BuildDuration: 50
		BuildDurationModifier: 100
	SoundOnDamageTransition:
		DamagedSounds:
		DestroyedSounds:
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: sharedwall-name
	-Cloak@CLOAKGENERATOR:
	-ExternalCondition@CLOAKGENERATOR:
	RenderSprites:
		Image: wall.mut
	LineBuild:
		NodeTypes: wall, turret

SCRWALL:
	Inherits: ^Wall
	Inherits@RENDER: ^ScrinRender
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		BuildPaletteOrder: 5
		Description: sharedwall-desc
		Prerequisites: ~drached, ~techlevel.1
		BuildDuration: 50
		BuildDurationModifier: 100
	SoundOnDamageTransition:
		DamagedSounds:
		DestroyedSounds:
	CustomSellValue:
		Value: 0
	-Cloak@CLOAKGENERATOR:
	-ExternalCondition@CLOAKGENERATOR:
	Tooltip:
		Name: sharedwall-name
	LineBuild:
		NodeTypes: wall, turret

GASILO:
	Inherits: ^AffectPowerBuilding
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense.Shared, Defense.GDI, Defense.Nod, Defense.Mutant, Defense.CABAL
		BuildPaletteOrder: 11
		Prerequisites: ~structures.human, proc, ~techlevel.1, ~!global-megawealth
		Description: gasilo-desc
		BuildDuration: 75
		BuildDurationModifier: 100
	Valued:
		Cost: 200
	Tooltip:
		Name: gasilo-name
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	-GivesBuildableArea:
	Health:
		HP: 10000
	Armor:
		Type: Building
	RenderSprites:
		Image: gasilo.gdi
		FactionImages:
			gdi: gasilo.gdi
			nod: gasilo.nod
			mut: gasilo.mut
			cab: gasilo.cab
	WithSpriteBody:
	WithIdleOverlay@UNDERLAY:
		RequiresCondition: !Building-Buildup
		Sequence: idle-underlay
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	StoresPlayerResources:
		Capacity: 3000
	Power:
		Amount: -10
	RequiresBuildableArea:
		AreaTypes: building
	GrantConditionOnPlayerResources:
		Condition: contains-tiberium
	ExplodesAlsoTransported:
		RequiresCondition: contains-tiberium
		Weapon: TiberiumExplosion
	WithResourceLevelOverlay@FILLSTAGE:
		RequiresCondition: !Building-Buildup
		Sequence: stages
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		Margin: 8, 2
		FullSequence: pip-green-building
		EmptySequence: pip-empty-building
		PipStride: 4, 2
		PipCount: 12
		Palette: pips
		ValidRelationships: Ally, Neutral, Enemy
	MustBeDestroyed:
		RequiredForShortGame: false

################## Carryall ##############
^Carryall:
	Inherits: ^AirTransport
	Inherits@1: ^SpriteActor
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^10CellVisionAir
	Inherits@AImicroManagable: ^AImicroManagable
	Valued:
		Cost: 600
	Tooltip:
		Name: dcarryall-name
	Buildable:
		Queue: Air.Shared, Air
		Description: carryall-desc
		BuildDuration: 250
		BuildDurationModifier: 100
	ProductionCostMultiplier@AI: ## AI cannot use it well
		Multiplier: 10
		Prerequisites: AIOnly
	Aircraft:
		AltitudeVelocity: 350
		IdealSeparation: 1c0
		TurnSpeed: 28
		Speed: 180
		InitialFacing: 0
		TakeoffSounds: dropup1.aud
		LandingSounds: dropdwn1.aud
	Health:
		HP: 15000
	WithFacingSpriteBody:
	BodyOrientation:
		QuantizedFacings: 32
		CameraPitch: 250
	Selectable:
		Class: trnsport
		Bounds: 1387,1447
	AutoCarryall:
		LocalOffset: 0,0,-1024
		Voice: Move
		CarryableConditions:
			bcoredef: darkdefender
		CarryCondition: carring
		AutoCarryCondition: AImicroManage
	IssueOrderToBot@AI: ## HACK: prevent carryall stuck and cannot unload
		RequiresCondition: carring
		OrderName: Unload
		OrderChance: 100
		OrderTrigger: Periodically
		OrderInterval: 2066
	SpawnHuskEffectOnDeath:
		RequiresCondition: airborne
	ProvidesPrerequisite@darkdefender:
		Prerequisite: DarkDefenderExists
		RequiresCondition: darkdefender
	ActorStatValues:
		Stats: Armor, Sight, Speed

TRNSPORT:
	Inherits: ^Carryall
	Inherits@CERAMICS: ^AffectedByCeramicPlating
	Tooltip:
		Name: trnsport-name
	Buildable:
		Queue: Air.Shared, Air.GDI
		BuildPaletteOrder: 11
		Prerequisites: ~gahpad, gadept, ~techlevel.4
	RenderSprites:
		Image: trnsport
	SpawnHuskEffectOnDeath:
		Weapon: trnsport.husk
		RequiresCondition: airborne && !ceramic_plating
	SpawnHuskEffectOnDeath@white:
		Weapon: trnsportw.husk
		RequiresCondition: airborne && ceramic_plating
	WithFacingSpriteBody:
		RequiresCondition: !ceramic_plating
	WithFacingSpriteBody@white:
		Name: white
		Sequence: idle-white
		RequiresCondition: ceramic_plating
	WithIdleOverlay@Wind1:
		Image: orcawind
		Sequence: idle2
		Offset: 420, 350, -500
		RequiresCondition: airborne
		Palette: apgrey
		IsDecoration: true ## so this doesn't have shadow
	WithIdleOverlay@Wind2:
		Image: orcawind
		Sequence: idle2
		Offset: 420, -350, -500
		RequiresCondition: airborne
		Palette: apgrey
		IsDecoration: true ## so this doesn't have shadow
	WithIdleOverlay@Wind3:
		Image: orcawind
		Sequence: idle2
		Offset: -600, 450, -500
		RequiresCondition: airborne
		Palette: apgrey
		IsDecoration: true ## so this doesn't have shadow
	WithIdleOverlay@Wind4:
		Image: orcawind
		Sequence: idle2
		Offset: -600, -450, -500
		RequiresCondition: airborne
		Palette: apgrey
		IsDecoration: true ## so this doesn't have shadow
	ActorStatOverride@CeramicPlating:
		Health: 18000
		RequiresCondition: ceramic_plating

trnsport.nod:
	Inherits: ^Carryall
	Tooltip:
		Name: nodtrnsport-name
	Buildable:
		Queue: Air.Shared, Air.Nod
		BuildPaletteOrder: 12
		Prerequisites: ~nahpad, gadept, ~techlevel.4
	RenderSprites:
		Image: nodcarryall
	SpawnHuskEffectOnDeath:
		Weapon: nodcarryall.husk
	Contrail@1:
		Offset: -850,-190,340
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 5
		ZOffset: 4100
	Contrail@2:
		Offset: -850,190,340
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 5
		ZOffset: 4100

trnsport.mut:
	Inherits: ^Carryall
	Tooltip:
		Name: mutrnsport-name
	Buildable:
		Queue: Air.Shared, Air.Mutant
		BuildPaletteOrder: 13
		Prerequisites: ~muair, gadept, ~techlevel.4
	RenderSprites:
		Image: forgcarryall
	SpawnHuskEffectOnDeath:
		Weapon: forgcarryall.husk
	SpawnHuskEffectOnDeath@1:
		Weapon: small.rotor.husk
		RandomFacing: true
		LocalOffset: 500,0,650
		RequiresCondition: airborne
	SpawnHuskEffectOnDeath@2:
		Weapon: small.rotor.husk
		RandomFacing: true
		LocalOffset: -700,0,900
		RequiresCondition: airborne
	WithIdleOverlay@1Air:
		Offset: 500,0,650
		Sequence: rotor
		RequiresCondition: airborne
	WithIdleOverlay@2Ground:
		Offset: 500,0,650
		Sequence: slow-rotor
		RequiresCondition: !airborne
	WithIdleOverlay@3Air:
		Offset: -700,0,900
		Sequence: rotor
		RequiresCondition: airborne
	WithIdleOverlay@4Ground:
		Offset: -700,0,900
		Sequence: slow-rotor
		RequiresCondition: !airborne

trnsport.cab:
	Inherits: ^Carryall
	Tooltip:
		Name: cabtrnsport-name
	Buildable:
		Queue: Air.Shared, Air.CABAL
		BuildPaletteOrder: 14
		Prerequisites: ~cabair, gadept, ~techlevel.4
	RenderSprites:
		Image: cabcarryall
	Voiced:
		VoiceSet: CabalAirDrone
		Volume: 1.25
	SpawnHuskEffectOnDeath:
		Weapon: cabcarryall.husk
	Contrail@1:
		Offset: -1200,-175, 40
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 5
		ZOffset: 4100
	Contrail@2:
		Offset: -1200,175, 40
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 5
		ZOffset: 4100

trnsport.scr: ## only used for AI
	Inherits: ^Carryall
	Inherits@1: ^ScrinAircraftGeneric
	Tooltip:
		Name: scrtrnsport-name
	Buildable:
		Queue: Air.Shared, Air.Scrin
		BuildPaletteOrder: 15
		Prerequisites: ~scrair, scrdepot, ~techlevel.4, ~AIOnly
	RenderSprites:
		Image: scrpod
	SpawnHuskEffectOnDeath:
		Weapon: scrpod.husk
	FloatingSpriteEmitter@spawnsmoke:
		Image: scrsmoke
		Palette: jascblue
	ExplodesAlsoTransported@Shrapnel:
		Weapon: BigScrinAircraftShrapnel

################## Carryall ##############

GATE_A:
	Inherits: ^Gate_A
	Buildable:
		Queue: Defense.Shared, Defense.GDI, Defense.Nod, Defense.CABAL
		BuildPaletteOrder: 6
		Prerequisites: ~structures.gate, ~techlevel.1
		Description: gate-desc
		BuildDuration: 100
		BuildDurationModifier: 100
	-AppearsOnRadar:
	-UpdatesPlayerStatistics:
	Tooltip:
		Name: gate-name
	RenderSprites:
		Image: gate_a.gdi
		FactionImages:
			gdi: gate_a.gdi
			nod: gate_a.nod
			cab: gate_a.cab
	PlaceBuildingVariants:
		Actors: gate_b

GATE_B:
	Inherits: ^Gate_B
	-AppearsOnRadar:
	-UpdatesPlayerStatistics:
	Tooltip:
		Name: gate-name
	Buildable:
	RenderSprites:
		Image: gate_b.gdi
		FactionImages:
			gdi: gate_b.gdi
			nod: gate_b.nod
			cab: gate_b.cab
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: gate_a

MUTGATE_A:
	Inherits: ^Gate_A
	Inherits@RENDER: ^MutRender
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		BuildPaletteOrder: 7
		Prerequisites: ~mutyard, ~techlevel.1
		Description: gate-desc
		BuildDuration: 100
		BuildDurationModifier: 100
	Tooltip:
		Name: gate-name
	PlaceBuildingVariants:
		Actors: mutgate_b

MUTGATE_B:
	Inherits: ^Gate_B
	Inherits@RENDER: ^MutRender
	Tooltip:
		Name: gate-name
	Buildable:
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: mutgate_a

SCRGATE_A:
	Inherits: ^Gate_A
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinDefenceFire
	Inherits@RENDER: ^ScrinRender
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		BuildPaletteOrder: 10
		Prerequisites: ~drached, ~techlevel.1
		Description: gate-desc
		BuildDuration: 100
		BuildDurationModifier: 100
	Tooltip:
		Name: gate-name
	Gate:
		OpeningSound: scrinplacebuilding.wav
		ClosingSound: scrinplacebuilding.wav
	PlaceBuildingVariants:
		Actors: scrgate_b

SCRGATE_B:
	Inherits: ^Gate_B
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinDefenceFire
	Inherits@RENDER: ^ScrinRender
	Tooltip:
		Name: gate-name
	Buildable:
	Gate:
		OpeningSound: scrinplacebuilding.wav
		ClosingSound: scrinplacebuilding.wav
	ActorStatValues:
		Icon: icon
		IconPalette: chromescrin
		TooltipActor: scrgate_a

KING:
	Inherits: ^Walker
	Inherits@SuddenDeathRequired: ^SuddenDeathTag
	-Valued:
	Health:
		HP: 65000
	BodyOrientation:
		QuantizedFacings: 8
		CameraPitch: 250
	Tooltip:
		Name: king-name
	TooltipDescription@Enemy:
		-RequiresCondition:
	TooltipDescription@Ally:
		-RequiresCondition:
	Mobile:
		TurnSpeed: 24
		Speed: 90
		Locomotor: Vehicle
	Armor:
		Type: Light
	Selectable:
		Priority: 4
		Bounds: 980, 2390, 0, -1006
	MustBeDestroyed:
		RequiredForShortGame: true
		-RequiresCondition:
	Carryable:
		LocalOffset: 0, 0, 700
	GrantConditionOnShortGame:
		Condition: shortgame-enabled
	KillsSelf:
		RemoveInstead: true
		RequiresCondition: !shortgame-enabled && !suddendeath
	Targetable:
		TargetTypes: Ground, Vehicle, AIPrefer

^SuperSupportPowerBased:
	NukePower:
		AllowMultiple: true
		Cursor: nuke
		Prerequisites:
			1: natmpl
		Icons:
			1: nodnukeicon
		ChargeInterval: 9000
		Names:
			1: superweapon-nuke-name
		Descriptions:
			1: superweapon-nuke-desc
		BeginChargeSound:
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		EndChargeTextNotification: notification-superweapon-ready
		SelectTargetSound:
		InsufficientPowerSound:
		MissileWeapons:
			1: NuclearMissile
		MissileImage: NuclearMissile
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchTextNotification: notification-superweapon-launched
		IncomingTextNotification: notification-superweapon-launched
		LaunchSound: n_swlaunch.aud
		SpawnOffset: 0,427,0
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: true
		DisplayRadarPing: true
		MissilePalette: player
		IsPlayerPalette: true
		BeaconPosters:
			1: nodnukeiconmini
		OrderName: NuclearMissile
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		FlightDelay: 200
		FlightVelocity: 1c0
		CircleColor: FFFFFFFF
		CircleBorderColor: 00000060
		PauseOnCondition: empdisable || disabled

^HasMisslePower:
	Inherits: ^SuperSupportPowerBased
	NukePower:
		TrailImage: meteortrail
		TrailPalette: effect
		TrailSequences: idle2
		TrailDelay: 0
		TrailInterval: 0
		LaunchSound: samshot1.aud

^HasSuperSupportPower:
	Inherits: ^SuperSupportPowerBased
	NukePower:
		FlightDelay: 1
		FlightVelocity: 1c0
		DisplayBeacon: false
		-MissileImage:
