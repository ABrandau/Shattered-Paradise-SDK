
CABECM:
	Inherits: ^Tank
	Inherits@SELECTIONMODE: ^LowPrioritySelectionMode
	Inherits@VISION: ^5CellVision
	Inherits@RENDER: ^CabRender
	Valued:
		Cost: 1500
	Tooltip:
		Name: Hacker Drone
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 25000
	Armor:
		Type: Light
	Mobile:
		Speed: 80
		TurnSpeed: 24
		Locomotor: InfantryCrusherVehicle
	Voiced:
		VoiceSet: Limpet
	WithFacingSpriteBody:
	DroneSpawnerMaster:
		Actors: QDRONE
		SpawnOffset: 0,0,512
		RespawnTicks: 256
		FollowAfterAttackDelay: 21 ## bigger than reload time
		PauseOnCondition: carried || empdisable || in_tunnel || inside-tunnel || ascargo
	Armament:
		Weapon: HackerReconDummyWeapon
		PauseOnCondition: empdisable
		TargetRelationships: None
		Cursor: ability
		OutsideRangeCursor: ability
	Armament@2:
		Weapon: HackerEMPDummyWeapon
		PauseOnCondition: empdisable
		Cursor: emp
		OutsideRangeCursor: emp
	Armament@3:
		Weapon: HackerHackDummyWeapon
		PauseOnCondition: empdisable
		Cursor: emp
		OutsideRangeCursor: emp
	AttackFrontal:
		PauseOnCondition: empdisable
		Voice: Move
		TargetLineColor: FFFF00
		FacingTolerance: 512
		TargetFrozenActors: true
	CaptureManager:
	Captures@NormalBuilding:
		CaptureTypes: Building
		PlayerExperience: 25
		CaptureDelay: 250
		ConsumedByCapture: false
	Captures@TechBuilding:
		CaptureTypes: TechBuilding
		PlayerExperience: 25
		CaptureDelay: 250
		ConsumedByCapture: false
	-RevealOnFire:
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		#Armaments: None
		#Range: 20
		
QDRONE:
	Inherits: CABDRONEJET
	Inherits@VISION: ^6CellVision
	Inherits@DETECTION: ^BasicStealthDetectionAir
	Tooltip:
		Name: Quadrotor
	Health:
		HP: 5000
	-CarrierSlave:
	DroneSpawnerSlave:
		AttackCallBackDistance: 21c0
		MovingCallBackCellDistance: 2
	Targetable@Ignore:
		TargetTypes: AIgnored
	Aircraft:
		MaximumPitch: 90
		Repulsable: true
		TurnSpeed: 16
		Speed: 128
		IdleTurnSpeed: 10
		IdleSpeed: 64
		AltitudeVelocity: 200
		RepulsionSpeed: 16
		VTOL: true
		MoveIntoShroud: true
		TakeUpCellWhenLand: false
		CruiseAltitude: 3c0
	AttackFrontal: #AttackAircraft: this has bug
		FacingTolerance: 512
		TargetFrozenActors: true
	RenderSprites:
		Image: quaddrone-mini
	Armament:
		Weapon: DroneReconDummyWeapon
	RenderDetectionCircle:
		Visible: Always
	DetectCloaked:
		Range: 6c0
	Armament@hack:
		Weapon: DroneHackWeapon
		PauseOnCondition: hackcooldown || empcooldown
	Armament@hack2:
		Weapon: DroneHackWeaponFinal
		PauseOnCondition: !charged
		ReloadingCondition: hackcooldown
	Armament@emp:
		Weapon: DroneEMPWeapon
		PauseOnCondition: hackcooldown
	Armament@emp2:
		Weapon: DroneEMPWeaponFinal
		PauseOnCondition: !charged
		ReloadingCondition: hackcooldown
	GatlingReloadDelayMultiplier:
		MinModifier: 20
		CoolDownDelay: 8
		CoolDownChange: 1
		RevokeOnNewTarget: true
	GrantConditionOnAttack@charge:
		Condition: charged
		RevokeDelay: 4
		RequiredShotsPerInstance: 3
		ArmamentNames: primary
		RevokeOnNewTarget: true
		RevokeAll: true
		IsCyclic: true
	-Contrail@1:
	-RevealOnFire:

MUTMOUND: ### Mound that may hide a tunnel inside
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@RENDER: ^MutRenderBuilding
	Interactable:
	EditorOnlyTooltip:
		Name: Suspicious Mound
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		TerrainTypes: Clear, Road, DirtRoad, Rough
	RenderSprites:
		Image: musnek
		Palette: playermut
	WithSpriteBody:
		Sequence: mound-idle
	SpawnActorOnDeath:
		Actor: mutambushvent
		SkipMakeAnimations: false
	MapEditorData:
		Categories: Defence
	FrozenUnderFog:

MUTAMBUSH: ###  Mound that hide a tunnel inside
	Inherits: MUTMOUND
	Inherits@Dummy: ^WithDeathEffects
	EditorOnlyTooltip:
		Name: Suspicious Mound (hide a tunnel under it, and keep unit in tunnel living)
	SpawnActorOnDeath:
		Actor: mutambushvent
		SkipMakeAnimations: false
	WithMakeAnimation:
		Sequence: mound-make
	SharedCargo:
		Types: Infantry, Vehicle
		PauseOnCondition: no-exit
	GrantCondition@no-exit:
		Condition: no-exit
	#KillsSelf@tset: ## Use script or something like this to trigger
	#	Delay: 300

MUTAMBUSHVENT:
	Inherits: MUVENT
	-Buildable:
	WithMakeAnimation:
		Sequence: ambush-make
	EditorOnlyTooltip:
		Name: Tunnel (generated by Suspicious Mound)


POWEROFFDUMMY:
	AlwaysVisible:
	Power:
		Amount: -9999999

GAIONTUR:
	Inherits: ^TurretedDefence
	Inherits@SHAPE: ^2x2Shape
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Ion Turret
	Health:
		HP: 200000
	Armament:
		Weapon: IonCannonTurret
		LocalOffset: 1800, 0, 2000
		PauseOnCondition: Building-Buildup
	IsometricSelectable:
		DecorationHeight: 52
	WithIdleOverlay@SpawnFire:
		Sequence: fire1_higher
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	Power:
		Amount: -150
	-Sellable:
	-SpawnActorsOnSell@gdi:
	-SpawnActorsOnSell@nod:
	-SpawnActorsOnSell@cab:
	-SpawnActorsOnSell@mut:
	-SpawnActorsOnSell@scr:
	ActorStatValues:
		Damage: 2000

KODK:
	Inherits: ^CombatHelicopter
	Inherits@SHADOW: ^AircraftShadow
	Inherits@VISION: ^9CellVisionAir
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 5000
	Tooltip:
		Name: Kodiak Command Ship
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Bounds: 2800,3100, 0, -512
	Aircraft:
		AltitudeVelocity: 180
		TurnSpeed: 20
		Speed: 75
		Repulsable: true
		MoveIntoShroud: true
		IdealSeparation: 1706
		TakeoffSounds: orcaup1.aud
		LandingSounds: orcadwn1.aud
	## Hack: No armament here, add AttackAircraft&AutoTarget only for LUA
	AttackAircraft:
		AttackType: Hover
		FacingTolerance: 512
		Voice: Attack
	AutoTarget:
		ScanRadius: 10 #PREF: save trait looks up and scan armaments
	-Rearmable:
	Health:
		HP: 45000
	SpawnActorOnDeath:
		Actor: KODK.Husk
		RequiresCondition: airborne
	Explodes@Shrapnel:
		Weapon: BigAircraftShrapnel
		EmptyWeapon: BigAircraftShrapnel
	Contrail@1:
		RequiresCondition: airborne
		Offset: -1600, 800, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	Contrail@2:
		RequiresCondition: airborne
		Offset: -1600, 500, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	Contrail@3:
		RequiresCondition: airborne
		Offset: -1600, -500, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	Contrail@4:
		RequiresCondition: airborne
		Offset: -1600, -800, 50
		StartColor: FFEA0080
		StartColorAlpha: 128
		StartColorUsePlayerColor: false
		EndColor: FFEA0000
		TrailLength: 8
		StartWidth: 96
	ActorStatValues:
		Icon: icon
		IconPalette: chrome

KODK.Husk:
	Inherits: ^AircraftHusk
	Tooltip:
		Name: Kodiak Command Ship
	Aircraft:
		TurnSpeed: 20
		Speed: 149
	WithShadow:
	WithFacingSpriteBody:
	BodyOrientation:
		QuantizedFacings: 32
	RenderSprites:
		Image: kodk
	FallsToEarth:
		Explosion: DevourerExplode

############ Unused Below ################
CABGRINDER:
	Inherits: ^TechBuilding
	Inherits@1: ^CabRender
	Inherits@2: ^2x3Shape
	Valued:
		Cost: 350
	Tooltip:
		Name: Stasis Chamber
	TooltipDescription:
		Description: Allows to process units into credits.
	AcceptsDeliveredCash:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Health:
		HP: 25000
	Armor:
		Type: Building
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building

NEUTRALFABRICATOR:
	Inherits: ^Vehicle
	Inherits@2: ^SpriteActor
	Inherits@3: ^7CellVision
	#Inherits@4: ^EngineerCapturableVehicle
	Tooltip:
		Name: Packed Up Fabricator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 20
		Speed: 45
		Locomotor: InfantryCrusherVehicle
	Health:
		HP: 15000
	Transforms:
		IntoActor: neutralfabricatordep
		Facing: 888
		PauseOnCondition: empdisable
	WithFacingSpriteBody:
		Sequence: vehicle
	Selectable:
		Bounds: 1206,3015,0, -905
	RenderSprites:
		PlayerPalette: playerunittem
	ActorStatValues:
		Icon: vehicleicon
		IconPalette: chrome

NEUTRALFABRICATORDEP:
	Inherits: ^TechBuilding
	Inherits@1: ^1x1Shape
	Building:
		Footprint: x
		BuildSounds: facbld1.aud
		Dimensions: 1,1
	Health:
		HP: 15000
	Tooltip:
		Name: Civilian Fabricator
	BaseProvider:
		Range: 8c0
	Targetable:
		TargetTypes: Building, Ground, C4
	BaseBuilding:
	WithMakeAnimation:
		Condition: Building-Buildup
	Transforms:
		IntoActor: neutralfabricator
		Facing: 888
		DeployCursor: undeploy
		PauseOnCondition: empdisable
	TransformsIntoMobile:
		RequiresCondition: !Building-Buildup
		Locomotor: InfantryCrusherVehicle
		Voice: Move
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: !Building-Buildup
		RepairActors: gadept, scrdepot
		Voice: Move
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: !Building-Buildup
		CargoType: Vehicle
		Voice: Move
		RequiresForceMove: true
	IsometricSelectable:
		DecorationHeight: 36
	RenderSprites:
		Image: neutralfabricator
		PlayerPalette: playerunittem

CONTAINMENTUNIT:
	Inherits: ^Building
	Inherits@2: ^3x3Shape
	Valued:
		Cost: 350
	Tooltip:
		Name: Containment Unit
	TooltipDescription:
		Description: Holds a captive tiberium lifeform
	AcceptsDeliveredCash:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Health:
		HP: 15000
	Armor:
		Type: Building
	-WithMakeAnimation:
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building
	RenderSprites:
		PlayerPalette: playersilo
	IsometricSelectable:
		DecorationHeight: 15
	Explodes@tib:
		Weapon: TiberiumExplosion
		EmptyWeapon: TiberiumExplosion
	BaseProvider:
		Range: 3c0
	SpawnActorOnDeath:
		Actor: BIGGREEN
		Offset: 1,1

CONTAINMENTUNITVEINHOLE:
	Inherits: CONTAINMENTUNIT
	SpawnActorOnDeath:
		Actor: VEINHOLE
	RenderSprites:
		Image: containmentunit
