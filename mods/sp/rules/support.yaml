GAPOWRUP:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 200
	Tooltip:
		Name: gapowrup-name
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		Description: gapowrup-desc
		BuildPaletteOrder: 36
		Prerequisites: ~gacnst, gapowr, garadr, ~!global-upgrades, ~techlevel.4
	Plug:
		Type: powrup
	Power:
		Amount: 100

GAVULC:
	Inherits: ^TurretedDefence
	Inherits@APAMMO: ^AffectedByAPAmmunition
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	WithMakeAnimation:
		BodyNames: make
	WithSpriteBody:
		Name: make
		Sequence: invisible
	WithWallSpriteBody:
		RequiresCondition: !Building-Buildup
		Type: wall
	Valued:
		Cost: 600
	Tooltip:
		Name: gavulc-name
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		BuildPaletteOrder: 16
		Prerequisites: ~gacnst, gapile, ~techlevel.1
		Description: gavulc-desc
		BuildDuration: 250
		BuildDurationModifier: 100
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	Health:
		HP: 60000
	AttackTurreted:
		Armaments: primary, decoration
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	Armament@1:
		Weapon: VulcanTower
		LocalOffset: 588,120,1358, 588,-120,1358
		CasingWeapon: BuggyBullet2Spawner
		CasingSpawnLocalOffset: 500,-120,1358, 500,120,1358
		CasingTargetOffset: 600,-120,1358, 600,120,1358
		CasingHitGroundLevel: false
		MuzzleSequence: muzzle
		PauseOnCondition: Building-Buildup
		RequiresCondition: !apammo
	Armament@1AP:
		Weapon: VulcanTowerAP
		LocalOffset: 588,120,1358, 588,-120,1358
		CasingWeapon: BuggyBullet2Spawner
		CasingSpawnLocalOffset: 500,-120,1358, 500,120,1358
		CasingTargetOffset: 600,-120,1358, 600,120,1358
		CasingHitGroundLevel: false
		MuzzleSequence: muzzle
		PauseOnCondition: Building-Buildup
		RequiresCondition: apammo
	WithMuzzleOverlay:
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights-bright
		Palette: bright
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	LineBuildNode:
		Types: turret
	#ProvidesPrerequisite@buildingname:
	Replacement:
		ReplaceableTypes: Tower
	ActorStatValues:
		Damage: 80

GAROCK:
	Inherits: ^TurretedDefence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@AUTOTARGETPRIORITY: ^AntiVehiclePriority
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@TIER: ^Tier2
	WithMakeAnimation:
		BodyNames: make
	WithSpriteBody:
		Name: make
		Sequence: invisible
	WithWallSpriteBody:
		RequiresCondition: !Building-Buildup
		Type: wall
	Valued:
		Cost: 600
	Tooltip:
		Name: garock-name
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		BuildPaletteOrder: 17
		Prerequisites: ~gacnst, gaweap, ~techlevel.2
		Description: garock-desc
		BuildDuration: 250
		BuildDurationModifier: 100
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	Health:
		HP: 60000
	Armament@ROCKET:
		Weapon: RPGTower
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploj
		LocalOffset: 325,-128,1900, 425,-128,1700
		PauseOnCondition: Building-Buildup
	WithMuzzleOverlay:
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights-bright
		Palette: bright
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	LineBuildNode:
		Types: turret
	#ProvidesPrerequisite@buildingname:
	Replacement:
		ReplaceableTypes: Tower
	ActorStatValues:
		Damage: 100
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments

GACSAM:
	Inherits: ^TurretedDefence
	Inherits@AA: ^AntiAir
	WithMakeAnimation:
		BodyNames: make
	WithSpriteBody:
		Name: make
		Sequence: invisible
	WithWallSpriteBody:
		RequiresCondition: !Building-Buildup
		Type: wall
	Tooltip:
		Name: gacsam-name
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		BuildPaletteOrder: 18
		Prerequisites: ~gacnst, garadr, ~techlevel.4
		Description: gacsam-desc
		BuildDuration: 375
		BuildDurationModifier: 100
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	BodyOrientation:
		QuantizedFacings: 32
	Armament:
		Weapon: GdiRedEye
		LocalOffset: 400,0,1800
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploj
		PauseOnCondition: Building-Buildup
	WithMuzzleOverlay:
	AutoTarget:
		ScanRadius: 12 #PREF: save trait looks up and scan armaments
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights-bright
		Palette: bright
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	LineBuildNode:
		Types: turret
	#ProvidesPrerequisite@buildingname:
	RenderSprites:
	RequiresBuildableArea:
		AreaTypes: building
	Replacement:
		ReplaceableTypes: Tower
	ActorStatValues:
		Damage: 50

GASONC:
	Inherits: ^TurretedDefence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@VISION: ^10CellVision
	WithMakeAnimation:
		BodyNames: make
	WithSpriteBody:
		Name: make
		Sequence: invisible
	WithWallSpriteBody:
		RequiresCondition: !Building-Buildup
		Type: wall
	Valued:
		Cost: 1000
	Tooltip:
		Name: gasonc-name
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		BuildPaletteOrder: 42
		Prerequisites: ~gacnst, gatech, upgrade.sonic_emitter_protocol, ~global-upgrades, ~techlevel.5
		Description: gasonc-desc
		BuildDuration: 500
		BuildDurationModifier: 100
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	BodyOrientation:
		QuantizedFacings: 32
	Health:
		HP: 60000
	Armament@charge:
		Name: charge
		Weapon: SonicCharge
		LocalOffset: 0,0,1500
		PauseOnCondition: Building-Buildup || cooldown
	GrantConditionOnAttack@charge:
		Condition: charged
		RequiredShotsPerInstance: 4
		ArmamentNames: charge
	Armament@wave:
		Weapon: SonicEmitterProjGDI
		LocalOffset: 512,0,1400
		PauseOnCondition: Building-Buildup || !charged
		ReloadingCondition: cooldown
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploFcyan70
	AttackTurreted:
		Armaments: charge, primary
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
	WithMuzzleOverlay:
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights-bright
		Palette: bright
	WithMakeOverlay@MAKE-BRIGHT:
		Sequence: make-bright
		Palette: bright
	LineBuildNode:
		Types: turret
	RenderSprites:
	RenderRangeCircle:
		FallbackRange: 8c0
	RequiresBuildableArea:
		AreaTypes: building
	Replacement:
		ReplaceableTypes: Tower
	ActorStatValues:
		Damage: 75

NALASR:
	Inherits: ^TurretedDefence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Valued:
		Cost: 800
	Tooltip:
		Name: nalasr-name
	Buildable:
		Queue: Defense.Shared, Defense.Nod
		Description: nalasr-desc
		Prerequisites: ~nodyard, nahand, ~techlevel.1
		BuildPaletteOrder: 19
		BuildDuration: 375
		BuildDurationModifier: 100
	Building:
	Health:
		HP: 60000
	Turreted:
		InitialFacing: 1200
		Offset: 350,-165,270
	Armament:
		Weapon: TurretLaserFire
		LocalOffset: 625, 0, 575
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexplojFred
		PauseOnCondition: Building-Buildup
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	WithMuzzleOverlay:
	Power:
		Amount: -40
	RequiresBuildableArea:
		AreaTypes: building
	ActorStatValues:
		Damage: 50

NAOBEL:
	Inherits: ^Defence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@VISION: ^10CellVision
	Inherits@SHAPE: ^2x2Shape
	Inherits@TIER: ^Tier2
	Valued:
		Cost: 1500
	Tooltip:
		Name: naobel-name
	Buildable:
		Queue: Defense.Shared, Defense.Nod
		Description: naobel-desc
		BuildPaletteOrder: 20
		Prerequisites: ~nodyard, natech, ~techlevel.5
		BuildDuration: 625
		BuildDurationModifier: 100
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	WithMuzzleOverlay:
	Armament:
		Weapon: ObeliskLaserFire
		LocalOffset: 1980,297,1131
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexplojFred
		PauseOnCondition: Building-Buildup
	AttackCharges:
		PauseOnCondition: empdisable || disabled
		ChargeLevel: 40
		ChargingCondition: charging
	AutoTarget:
		ScanRadius: 9 #PREF: save trait looks up and scan armaments
	AmbientSound:
		RequiresCondition: charging && !disabled
		SoundFiles: obelpowr.aud
	WithChargeOverlay:
		Sequence: active
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@LIGHTS:
		Sequence: idle-lights
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@SpawnFire:
		Sequence: building_fire
	Power:
		Amount: -110
	IsometricSelectable:
		DecorationHeight: 48
	ActorStatValues:
		Damage: 300

NASAM:
	Inherits: ^TurretedDefence
	Inherits@AA: ^AntiAir
	Inherits@TIBCORE: ^AffectedByTibCoreMissiles
	Tooltip:
		Name: nasam-name
	Buildable:
		Queue: Defense.Shared, Defense.Nod
		Description: nasam-desc
		Prerequisites: ~nodyard, naradr, ~techlevel.4
		BuildPaletteOrder: 21
		BuildDuration: 375
		BuildDurationModifier: 100
	Turreted:
		TurnSpeed: 40
		InitialFacing: 368
		Offset: 20, 20, 0
	Armament:
		Weapon: RedEye2
		LocalOffset: 300,300,580, 300,0,580, 300,-300,580
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploj
		RequiresCondition: !tibcore
	Armament@TIB:
		Weapon: RedEye2Tib
		LocalOffset: 220,300,538, 200,0,538, 220,-300,538
		MuzzleSequence: muzzle2
		MuzzlePalette: gensmkexploFgreen
		RequiresCondition: tibcore
	WithMuzzleOverlay:
	AutoTarget:
		ScanRadius: 12 #PREF: save trait looks up and scan armaments
	ActorStatValues:
		Damage: 50

MUBUNKR:
	Inherits: ^Defence
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@PIPS: ^CargoPips
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Valued:
		Cost: 500
	CustomSellValue:
		Value: 400
	Tooltip:
		Name: mubunkr-name
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		Description: mubunkr-desc
		BuildPaletteOrder: 22
		Prerequisites: ~mutyard, murax, ~techlevel.1
		BuildDuration: 250
		BuildDurationModifier: 100
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 60000
	Cargo:
		Types: Infantry
		MaxWeight: 5
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		LoadedCondition: loaded
		InitialUnits: marauder
		OwnerChangedAffectsPassengers: false
	WithCargoSounds:
		EnterSounds: ugarris.wav
		ExitSounds: ugarris.wav
	DetectCloaked:
		RequiresCondition: loaded
	AttackGarrisonedSP:
		PortOffsets: 384,0,512, 224,-341,512, -224,-341,512, -384,0,512, -224,341,512, 224,341,512
		#PortYaws: 0, 176, 341, 512, 682, 853
		#PortCones: 88, 88, 88, 88, 88, 887
	-RevealOnFire:
	AutoTarget:
		ScanRadius: 15 #PREF: save trait looks up and scan armaments
	WithSpriteBody:
		PauseOnCondition: loaded && !Building-Buildup
	WithIdleOverlay@1@asd:
		RequiresCondition: loaded && !Building-Buildup
		Sequence: occupied
	-WithColoredOverlay@IDISABLE:
	-GrantConditionOnPowerState@LOWPOWER:
	-GrantCondition@IDISABLE:
	-ToggleConditionOnOrder:
	-WithDecoration@POWERDOWN:
	-PowerMultiplier@POWERDOWN:
	-SpawnActorsOnSell@gdi:
	-SpawnActorsOnSell@nod:
	-SpawnActorsOnSell@cab:
	-SpawnActorsOnSell@mut:
	-SpawnActorsOnSell@scr:
	-WithColoredOverlay@EMPDISABLE:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-ExternalCondition@empdisable:
	WithCargoPipsDecoration:
		Margin: 8, 2
		FullSequence: pip-green-building
		EmptySequence: pip-empty-building
		PipStride: 4, 2
		ValidRelationships: Ally, Neutral, Enemy
		CustomPipSequences:
			red: pip-red-building
			green: pip-green-building
			yellow: pip-yellow-building
			blue: pip-blue-building
			gray: pip-gray-building
	IssueOrderToBot@AI:
		RequiresCondition: loaded && HeavyDamaged
		OrderName: Unload
		OrderChance: 100
		OrderTrigger: Periodically
		OrderInterval: 20
	ActorStatValues:
		Stats: Armor, Sight, Cargo

MUCANNON:
	Inherits: ^TurretedDefence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@AUTOTARGETPRIORITY: ^AntiVehiclePriority
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@TIER: ^Tier2
	Valued:
		Cost: 500
	Tooltip:
		Name: mucannon-name
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		Description: mucannon-desc
		Prerequisites: ~mutyard, muweap, ~techlevel.2
		BuildPaletteOrder: 23
		BuildDuration: 250
		BuildDurationModifier: 100
	Health:
		HP: 60000
	Turreted:
		TurnSpeed: 24
		InitialFacing: 896
	AttackTurreted:
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	DetectCloaked:
		RequiresCondition: !empdisable
	WithMuzzleOverlay:
	Armament:
		Weapon: ForgottenCannonWeapon
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploj
		LocalOffset: 1400,0,700, 1400,0,700
		CasingWeapon: ShellCasingDebris
		CasingSpawnLocalOffset: 0,0,700, 0,0,700
		CasingTargetOffset: -128, 768, 0, -128, -768, 0
		PauseOnCondition: Building-Buildup || empdisable
	-WithColoredOverlay@IDISABLE:
	-GrantConditionOnPowerState@LOWPOWER:
	-GrantCondition@IDISABLE:
	-ToggleConditionOnOrder:
	-WithDecoration@POWERDOWN:
	-PowerMultiplier@POWERDOWN:
	-Power:
	ActorStatValues:
		Stats: Armor, Sight, None, Damage, ReloadDelay, MaxRange
		Damage: 70

MUFLAK:
	Inherits: ^TurretedDefence
	Inherits@AA: ^AntiAir
	Inherits@RENDER: ^MutRenderBuilding
	Tooltip:
		Name: muflak-name
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		Description: muflak-desc
		Prerequisites: ~mutyard, muradr, ~techlevel.4
		BuildPaletteOrder: 24
		BuildDuration: 250
		BuildDurationModifier: 100
	Valued:
		Cost: 600
	Health:
		HP: 60000
	Turreted:
		InitialFacing: 368
	AttackTurreted:
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 12 #PREF: save trait looks up and scan armaments
	WithMuzzleOverlay:
	Armament:
		Weapon: FlakFire
		MuzzleSequence: muzzle
		MuzzlePalette: gensmkexploj
		LocalOffset: 450,-200, 900, 450,200,900
		CasingWeapon: ShellCasingDebris
		CasingSpawnLocalOffset: 200,-200, 700, 200,200,700
		CasingTargetOffset: 0, -768, 0, 0, 768, 0
		PauseOnCondition: Building-Buildup || empdisable
	-WithColoredOverlay@IDISABLE:
	-GrantConditionOnPowerState@LOWPOWER:
	-GrantCondition@IDISABLE:
	-ToggleConditionOnOrder:
	-WithDecoration@POWERDOWN:
	-PowerMultiplier@POWERDOWN:
	-Power:
	ActorStatValues:
		Stats: Armor, Sight, None, Damage, ReloadDelay, MaxRange
		Damage: 40

CABPIT:
	Inherits: ^Defence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Valued:
		Cost: 800
	Tooltip:
		Name: cabpit-name
	Buildable:
		Queue: Defense.Shared, Defense.CABAL
		Description: cabpit-desc
		BuildPaletteOrder: 25
		Prerequisites: ~cabyard, cabclaw, ~techlevel.1
		BuildDuration: 375
		BuildDurationModifier: 100
	DetectCloaked:
		RequiresCondition: !empdisable
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 60000
	AttackOmni:
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
	Armament:
		Weapon: CabPitFighterSpawn
		PauseOnCondition: Building-Buildup
	CarrierMaster:
		Actors: CABDRONEJET, CABDRONEJET, CABDRONEJET
		RespawnTicks: 150
		RearmTicks: 10
		InstantRepair: true
	-WithColoredOverlay@IDISABLE:
	-GrantConditionOnPowerState@LOWPOWER:
	-GrantCondition@IDISABLE:
	-ToggleConditionOnOrder:
	-WithDecoration@POWERDOWN:
	-PowerMultiplier@POWERDOWN:
	ActorStatValues:
		Stats: Armor, Sight, Carrier, Damage, ReloadDelay, MaxRange
		Damage: 60

CABBLAST:
	Inherits: ^TurretedDefence
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@TIER: ^Tier2
	Valued:
		Cost: 1000
	Tooltip:
		Name: cabblast-name
	Buildable:
		Queue: Defense.Shared, Defense.CABAL
		Description: cabblast-desc
		Prerequisites: ~cabyard, cabradr, ~techlevel.4
		BuildPaletteOrder: 26
		BuildDuration: 500
		BuildDurationModifier: 100
	Building:
	Health:
		HP: 60000
	BodyOrientation:
		QuantizedFacings: 32
	Turreted:
		InitialFacing: 368
	AutoTarget:
		ScanRadius: 11 #PREF: save trait looks up and scan armaments
	WithMuzzleOverlay:
	Armament:
		Weapon: BlasterProton
		LocalOffset: 400,256,356, 400,-256,356, 300,256,920, 300,-256,920
		MuzzlePalette: apgreen
		MuzzleSequence: muzzle
		PauseOnCondition: Building-Buildup
	Power:
		Amount: -75
	ActorStatValues:
		Damage: 300

CABRAIL:
	Inherits: ^TurretedDefence
	Inherits@AA: ^AntiAir
	Inherits@RENDER: ^CabRenderBuilding
	Tooltip:
		Name: cabrail-name
	Buildable:
		Queue: Defense.Shared, Defense.CABAL
		Description: cabrail-desc
		Prerequisites: ~cabyard, cabradr, ~techlevel.4
		BuildPaletteOrder: 27
		BuildDuration: 375
		BuildDurationModifier: 100
	Turreted:
		InitialFacing: 368
	Armament:
		Weapon: CABRAILAA
		LocalOffset: 600,400,2000, 600,-400,2000
		PauseOnCondition: Building-Buildup
	AutoTarget:
		ScanRadius: 12 #PREF: save trait looks up and scan armaments
	ActorStatValues:
		Damage: 50

SCRNEEDLER:
	Inherits: ^TurretedDefence
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinDefenceFire
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@VINIFERA: ^AffectedByViniferaCatalysts
	Valued:
		Cost: 800
	Tooltip:
		Name: scrneedler-name
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		Description: scrneedler-desc
		Prerequisites: ~drached, scrrax, ~techlevel.1
		BuildPaletteOrder: 28
		BuildDuration: 375
		BuildDurationModifier: 100
	Health:
		HP: 80000
	Turreted:
		InitialFacing: 368
	AutoTarget:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	Armament@1:
		Weapon: WasteTurretWeapon
		LocalOffset: 1000,-100,500, 1000,100,500
		MuzzlePalette: jascgreen60
		MuzzleSequence: muzzle
		PauseOnCondition: Building-Buildup
		RequiresCondition: !vinifera_catalysts
	Armament@2:
		Weapon: WasteTurretWeaponBlue
		LocalOffset: 1000,-100,500, 1000,100,500
		MuzzlePalette: jascblue60
		MuzzleSequence: muzzle
		PauseOnCondition: Building-Buildup
		RequiresCondition: vinifera_catalysts
	WithMuzzleOverlay:
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	ActorStatValues:
		Damage: 40

SCRDRONE:
	Inherits: ^Defence
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinDefenceFire
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DETECTION: ^TowerStealthDetection
	Inherits@VISION: ^10CellVision
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@TIER: ^Tier2
	Inherits@SHAPE: ^2x2Shape
	Valued:
		Cost: 1500
	Tooltip:
		Name: scrdrone-name
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		BuildPaletteOrder: 45
		Description: scrdrone-desc
		Prerequisites: ~drached, scrtech, ~techlevel.5
		BuildDuration: 625
		BuildDurationModifier: 100
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	AttackOmni:
		PauseOnCondition: empdisable || disabled
	AutoTarget:
		ScanRadius: 8 #PREF: save trait looks up and scan armaments
	Armament:
		Weapon: SrcinOrb
		LocalOffset: 0, 0, 3000
		ReloadingCondition: charging
		PauseOnCondition: Building-Buildup
	Power:
		Amount: -50
	WithIdleOverlay@Charged2:
		Image: pulsar
		Sequence: sorb
		Offset: 0, 0, 3000
		RequiresCondition: !Building-Buildup && !charging && !empdisable && !disabled
		Palette: gensmkexploFpurple
		IsDecoration: true ## so this doesn't affect by cloak palette
	WithIdleOverlay@Charging1:
		Image: pulsar
		Sequence: sorbpulsetiny
		Offset: 0, 0, 3000
		RequiresCondition: !Building-Buildup && charging && !empdisable && !disabled
		Palette: gensmkexploFpurple
		IsDecoration: true ## so this doesn't affect by cloak palette
	WithIdleOverlay@Charging2:
		Image: pulsar
		Sequence: sorbtiny
		Offset: 0, 0, 3000
		RequiresCondition: !Building-Buildup && charging && !empdisable && !disabled
		Palette: gensmkexploFpurple
		IsDecoration: true ## so this doesn't affect by cloak palette
	WithIdleOverlay@SpawnFire:
		Sequence: building_scrinfire
	IsometricSelectable:
		DecorationHeight: 52
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	ActorStatValues:
		Damage: 130

SCRTRACTOR:
	Inherits: ^TurretedDefence
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinDefenceFire
	Inherits@AA: ^AntiAir
	Inherits@RENDER: ^ScrinRenderBuilding
	Valued:
		Cost: 800
	Tooltip:
		Name: scrtractor-name
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		Description: scrtractor-desc
		Prerequisites: ~drached, scrradr, ~techlevel.4
		BuildPaletteOrder: 30
		BuildDuration: 375
		BuildDurationModifier: 100
	Turreted:
		InitialFacing: 368
	AutoTarget:
		ScanRadius: 12 #PREF: save trait looks up and scan armaments
	Armament@2:
		Weapon: TractorBeam
		LocalOffset: 512,600,1948
		PauseOnCondition: Building-Buildup
	Armament@3:
		Weapon: TractorBeam2
		LocalOffset: 512,-590,1948, 300,200,2400, 300,-190,2400, 512,200,1500, 512,-190,1500
		PauseOnCondition: Building-Buildup
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	ActorStatValues:
		Damage: 40

GAFIRE:
	Inherits: ^AffectPowerBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@SHAPE: ^3x2Shape
	Inherits@FirestormWall: ^FirestormWallSP
	Inherits@AIbuilding: ^AImicroManagable
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		BuildPaletteOrder: 41
		Description: gafire-desc
		Prerequisites: ~gacnst, gatech, ~techlevel.5
		BuildDuration: 750
		BuildDurationModifier: 100
	Valued:
		Cost: 1500
	Tooltip:
		Name: gafire-name
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	WithRangeCircle:
		Range: 12c0
		Type: FirestormGen
		Color: 8888FFCC
		BorderWidth: 0
		Width: 2
	GrantConditionOnDeployWithCharge@FirestormWall:
		PauseOnCondition: (empdisable || disabled)  && !FirestormGen
	ProximityExternalCondition@FirestormWall:
		RequiresCondition: FirestormGen && !empdisable && !disabled
	FirestromSP:
		RequiresCondition: FirestormGen && !empdisable && !disabled
	Health:
		HP: 100000
	WithIdleOverlay@lights:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: true
	WithIdleOverlay@lights-bright:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	WithSwitchableOverlay@active-nobright:
		RequiresCondition: !Building-Buildup
		EnabledSequence: active
		SwitchingSequence: switching
		DisabledSequence: disabled
		PauseOnCondition: empdisable || disabled
		Palette: player-nobright
		IsPlayerPalette: true
		SwitchingLevel: 20
		SwitchingLevelOnSpawn: 20
	WithSwitchableOverlay@active-bright:
		RequiresCondition: !Building-Buildup
		EnabledSequence: active-bright
		PauseOnCondition: empdisable || disabled
		Palette: bright
		IsDecoration: true
		SwitchingLevel: 20
		SwitchingLevelOnSpawn: 20
	WithIdleOverlay@firestormactived:
		Image: explosion
		Sequence: firestormactived
		Palette: apolbluealpha
		Offset: 80, 370, 0
		IsDecoration: true ## so this doesn't affect by cloak palette
		RequiresCondition: FirestormGen && !Building-Buildup && !empdisable && !disabled
	Power:
		Amount: -100
	#ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building
	Armament@AIAimOnly:
		RequiresCondition: AImicroManage && !FirestormGen && !empdisable && !disabled && !Building-Buildup
		Weapon: FirestormAIAimingDummyWeapon
	AttackOmni@AIAimOnly:
		RequiresCondition: AImicroManage && !Building-Buildup && !empdisable && !disabled
		PauseOnCondition: empdisable
	AutoTarget@AIonly:
		RequiresCondition: AImicroManage
		InitialStanceAI: Defend
		MinimumScanTimeInterval: 41
		MaximumScanTimeInterval: 50
		ScanRadius: 11 #PREF: save trait looks up and scan armaments
	AutoTargetPriority@AIonly:
		ValidRelationships: Enemy
		ValidTargets: Ground, Air, Water
		Priority: 2
	IssueOrderToBot@AI:
		RequiresCondition: !Building-Buildup && !empdisable && !disabled
		OrderName: DeployWithCharge
		OrderChance: 100
		OrderInterval: 200
	-RevealOnFire:
	MustBeDestroyed:
		RequiredForShortGame: false
	-GivesBuildableArea:
	ActorStatValues:
		Armaments: None

GAPLUG:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^SuperWeapon
	Inherits@2: ^HasSuperSupportPower
	Inherits@SHAPE: ^2x3Shape
	Valued:
		Cost: 5000
	Tooltip:
		Name: gaplug-name
	Buildable:
		Queue: Defense.Shared, Defense.GDI
		BuildPaletteOrder: 46
		Prerequisites: ~gacnst, gatech, !enoughgaplug, ~techlevel.6
		Description: gaplug-desc
		BuildDuration: 1250
		BuildDurationModifier: 100
	Building:
		Footprint: xxx xxx
		Dimensions: 2,3
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-lights-bright
		Palette: bright
	WithIdleOverlay@STRIP:
		Sequence: idle-strip
		RequiresCondition: !Building-Buildup
	NukePower:
		Prerequisites:
			1: gaplug
		Icons:
			1: ioncannon
		Names:
			1: superweapon-ioncannon-name
		CircleRanges:
			1: 6c0
		Descriptions:
			1: superweapon-ioncannon-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		ChargeInterval: 6000
		MissileWeapons:
			1: IonCannonSpawner
		OrderName: IonCannon2
		FlightDelay: 23
		Cursor: ioncannon
		CameraRange: 8c0
		CameraSpawnAdvance: 12
		CameraRemoveDelay: 300
	SupportPowerChargeBar:
	WithIdleOverlay@ioncannona:
		RequiresCondition: !Building-Buildup
		Sequence: idle-ioncannona
		Offset: -250, 1150, 1475
		PauseOnCondition: disabled
	WithIdleOverlay@hunterseekerb:
		RequiresCondition: !Building-Buildup
		Sequence: idle-hunterseekerb
		Palette: player-nobright
		IsPlayerPalette: true
		PauseOnCondition: disabled
	WithIdleOverlay@hunterseekerb-bright:
		RequiresCondition: !Building-Buildup
		Sequence: idle-hunterseekerb-bright
		PauseOnCondition: disabled
		Palette: bright
	WithIdleOverlay@droppoda:
		RequiresCondition: !Building-Buildup
		PauseOnCondition: disabled
		Sequence: idle-droppoda
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@droppoda-bright:
		RequiresCondition: !Building-Buildup
		PauseOnCondition: disabled
		Sequence: idle-droppoda-bright
		Palette: bright
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughgaplug
	Health:
		HP: 200000
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 48
	WithSupportPowerActivationExplodeWeapon:
		Weapon: IonCannonConnectionWave
		LocalOffset: 0,0,3200
		HitOffset: 0,0,15000
	WithSupportPowerActivationExplodeWeapon@back:
		Weapon: IonCannonConnectionWave2
		LocalOffset: 0,0,15000
		HitOffset: 0,0,3200
		Delays: 30

NASTLH:
	Inherits: ^AffectPowerBuilding
	Inherits@IMPSGEN: ^AffectedByImprovedStealthGenerator
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@SHAPE: ^3x2Shape
	Inherits@AIbuilding: ^AImicroManagable
	Valued:
		Cost: 1000
	Tooltip:
		Name: nastlh-name
	Buildable:
		Queue: Defense.Shared, Defense.Nod
		BuildPaletteOrder: 43
		Prerequisites: ~nodyard, natech, ~techlevel.5, ~!AINASTLHBuildLimit
		Description: nastlh-desc
		BuildDuration: 500
		BuildDurationModifier: 100
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 60000
	Armor:
		Type: Building
	WithIdleOverlay@pulse:
		Sequence: pulse
		RequiresCondition: !Building-Buildup && !disabled
	WithRangeCircle:
		Range: 12c0
		Type: cloakgenerator
		Color: 00FF7FCC
		BorderWidth: 0
		Width: 2
	ProximityExternalCondition:
		Condition: cloakgenerator
		Range: 12c0
		EnableSound: cloak5.aud
		DisableSound: cloak5.aud
		AffectsParent: false
		RequiresCondition: !disabled && !Building-Buildup && !empdisable
	WithIdleOverlay@cloakgeneratoreff:
		Sequence: cloakgeneratorwaveBig
		RequiresCondition: !disabled && !Building-Buildup && !empdisable
		Image: explosion
		Palette: effect
		IsDecoration: true ## so this doesn't affect by cloak palette
	Cloak@CLOAKGENERATOR:
		RequiresCondition: improvedsgen && !disabled && !Building-Buildup && !empdisable
	-ExternalCondition@CLOAKGENERATOR:
	Power:
		Amount: -100
	RequiresBuildableArea:
		AreaTypes: building
	ProvidesPrerequisite@AIBuildLimit:
		RequiresCondition: AImicroManage
		Prerequisite: AINASTLHBuildLimit
	MustBeDestroyed:
		RequiredForShortGame: false
	-GivesBuildableArea:

NATMPL:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^SuperWeapon
	Inherits@2: ^HasMisslePower
	Inherits@SHAPE: ^3x3Shape
	Buildable:
		Queue: Defense.Shared, Defense.Nod
		BuildPaletteOrder: 47
		Prerequisites: ~nodyard, natech, !enoughnatmpl, ~techlevel.6
		Description: natmpl-desc
		BuildDuration: 1250
		BuildDurationModifier: 100
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughnatmpl
	Valued:
		Cost: 5000
	HitShape:
		Type: Rectangle
			TopLeft: -2000, -2000
			BottomRight: 2000, 2000
	Tooltip:
		Name: natmpl-name
	Building:
		Footprint: xxxx xxxx xxxx
		Dimensions: 4,3
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights
		Palette: player-nobright
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-lights-bright
		Palette: bright
	Health:
		HP: 200000
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 3
	Targetable:
		TargetTypes: Building, Ground, C4, AIPrefer
	IsometricSelectable:
		DecorationHeight: 60
	NukePower:
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		CircleRanges:
			1: 10c0
		MissileWeapons:
			1: ApocalypseMissileExplosion
		Names:
			1: superweapon-apocalypse-name
		Descriptions:
			1: superweapon-apocalypse-desc
		MissileImage: apocalypsemissile
		OrderName: ApocalypseMissile
		TrailImage: explosion
		TrailPalette: gensmkexploFgreen
		TrailSequences: jsmokey3
		TrailDelay: 0
		TrailInterval: 0
		Icons:
			1: nodtibnukeicon
		BeaconPosters:
			1: nodtibnukeiconmini
		SpawnOffset: -1200, 1400, 0
	WithSupportPowerActivationAnimation:
		RequiresCondition: !Building-Buildup

^MutantTunnelBased:
	Inherits: ^Building
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@AIbuilding: ^AImicroManagable
	RequiresBuildableArea:
		AreaTypes: building
	SharedCargo:
		Types: Infantry, Vehicle
		AfterLoadDelay: 0
		BeforeUnloadDelay: 0
		AfterUnloadDelay: 0
		PauseOnCondition: Building-Buildup || empdisable
	WithSharedCargoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		Margin: 8, 2
		FullSequence: pip-green-building
		EmptySequence: pip-empty-building
		PipStride: 4, 2
		Palette: pips
		ValidRelationships: Ally, Neutral, Enemy
		CustomPipSequences:
			red: pip-red-building
			green: pip-green-building
			yellow: pip-yellow-building
			blue: pip-blue-building
			gray: pip-gray-building
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
	MapEditorData:
		Categories: Defence
	MustBeDestroyed:
		RequiredForShortGame: false
	-InstantlyRepairable:
	-RevealOnFire:
	ProvidesPrerequisite@HasTunnel: ## For AI Perf.
		Prerequisite: HasTunnel
	Armament@AIAimOnly:
		RequiresCondition: AImicroManage && !Building-Buildup && !StopAndDeploy
		Weapon: MutTunnelAIAimingDummyWeapon
		ReloadingCondition: StopAndDeploy ## HACK: SharedCargo can only deploy when not firing
	AttackOmni@AIAimOnly:
		RequiresCondition: AImicroManage && !Building-Buildup && !StopAndDeploy
	AutoTarget@AIonly:
		RequiresCondition: AImicroManage && !StopAndDeploy
		InitialStanceAI: Defend
		MinimumScanTimeInterval: 30
		MaximumScanTimeInterval: 30
		ScanRadius: 10 #PREF: save trait looks up and scan armaments
	AutoTargetPriority@AIonly:
		ValidRelationships: Enemy
		ValidTargets: Ground, Air, Water
		Priority: 2
	IssueOrderToBot@AI:
		OrderName: UnloadShared
		OrderTrigger: Attack
		OrderChance: 100
		OrderInterval: 35
	ActorStatValues:
		Armaments: None
		Stats: Armor, Sight, Cargo
		Upgrades: upgrade.tunnel_repairs

MUVENTI:
	Inherits: ^MutantTunnelBased
	Inherits@1: ^RevealItselfToAll
	Inherits@2: ^HasSuperSupportPower
	Inherits@SHAPE: ^3x3Shape
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		BuildPaletteOrder: 44
		Description: muventi-desc
		Prerequisites: ~mutyard, muhall, !enoughmuventi, ~techlevel.4
		BuildDuration: 750
		BuildDurationModifier: 100
	Valued:
		Cost: 1500
	Tooltip:
		Name: muventi-name
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Health:
		HP: 100000
	Targetable:
		TargetTypes: Building, Ground, C4
	WithIdleOverlay@SpawnFire:
		Sequence: defence_fire
	RenderSprites:
		Image: td-tunnel
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@swlimit:
		RequiresPrerequisites: global-swlimit
		Prerequisite: enoughmuventi
	SupportPowerChargeBar:
	NukePower:
		PauseOnCondition: empdisable
		-LaunchSpeechNotification:
		-IncomingSpeechNotification:
		-IncomingSound:
		-LaunchTextNotification:
		-IncomingTextNotification:
		-LaunchSound:
		-EndChargeSound:
		-EndChargeSpeechNotification:
		EndChargeTextNotification: notification-sneaktunnel-ready
		Cost: 0
		Prerequisites:
			1: muventi
		Icons:
			1: musnekicon
		Names:
			1: support-tunnel-name
		Descriptions:
			1: support-tunnel-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		OrderName: SneakAttackPowerInfoOrder
		MissileWeapons:
			1: MutTunnelSpawnerDummyWeapon
		ChargeInterval: 3000
		CameraRange: 0
		DisplayTimerRelationships: Ally, Neutral, Enemy

MUVENT:
	Inherits: ^MutantTunnelBased
	Inherits@SHAPE: ^2x2Shape
	Tooltip:
		Name: muvent-name
	Buildable: ### AI cannot use the support power properly as defence purpose, so AI build tunnel instead
		Queue: Defense.Shared, Defense.Mutant
		BuildPaletteOrder: 44
		Description: muvent-desc
		Prerequisites: ~mutyard, muventi, ~AIOnly, ~techlevel.4
		BuildDuration: 125
		BuildDurationModifier: 100
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		BuildSounds: ssneakat.wav
	WithMakeExplodeWeapon:
		LaunchEffectImage: musnek
		LaunchEffectSequence: tunneldirt
		LaunchEffectPalette: player-nobright
		ExplodesWhenCreated: true
	Health:
		HP: 50000
	Valued:
		Cost: 500
	Targetable:
		TargetTypes: Building, Ground, C4, Defence
	WithIdleOverlay@BIB:
		Sequence: bib
		RequiresCondition: !Building-Buildup
	WithIdleOverlay@SpawnFire:
		Sequence: defence_fire
	RenderSprites:
		Image: musnek
	-GrantConditionOnPrerequisite@SUDDENDEATH:
	-MustBeDestroyed:
	-GivesBuildableArea:
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
	-CaptureManager:
	-GrantConditionOnPrerequisite@INSTANTCAPTURE:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-SpawnActorsOnSell@gdi:
	-SpawnActorsOnSell@nod:
	-SpawnActorsOnSell@cab:
	-SpawnActorsOnSell@mut:
	-SpawnActorsOnSell@scr:
	-Sellable:
	-IssueOrderToBot@AISell:

MUTSW1:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^SuperWeapon
	Inherits@2: ^HasSuperSupportPower
	Inherits@RENDER: ^MutRenderBuilding
	Inherits@SHAPE: ^3x2Shape
	Buildable:
		Queue: Defense.Shared, Defense.Mutant
		BuildPaletteOrder: 48
		Prerequisites: ~mutyard, muhall, !enoughmutsw1, ~techlevel.6
		Description: mutsw1-desc
		BuildDuration: 1250
		BuildDurationModifier: 100
	Valued:
		Cost: 5000
	Tooltip:
		Name: mutsw1-name
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughmutsw1
	NukePower:
		Prerequisites:
			1: mutsw1
		MissileWeapons:
			1: IonStormSpawnerWeapon
		Icons:
			1: ionstorm
		ChargeInterval: 7500
		CircleRanges:
			1: 9c0
		OrderName: IonStorm
		Names:
			1: superweapon-ionstorm-name
		Descriptions:
			1: superweapon-ionstorm-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 300
		FlightDelay: 75
		FlightVelocity: 1c0
		DisplayBeacon: true
		BeaconPosters:
			1: miniionstromicon
		BeaconRemoveAdvance: 0
		Cursor: ioncannon
	Health:
		HP: 200000
	RequiresBuildableArea:
		AreaTypes: building
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-dec
		Palette: playermut
		IsPlayerPalette: True
	WithIdleOverlay@LIGHTS-BRIGHT:
		RequiresCondition: !Building-Buildup && !disabled
		Sequence: idle-dec-lights
		Palette: playermut
	WithSupportPowerActivationOverlay@LIGHTS:
		RequiresCondition: !Building-Buildup
		Sequence: idle-dec-lights-active
		Palette: playermut
		IsPlayerPalette: True
	WithSupportPowerActivationExplodeWeapon:
		Weapon: MutSWLightningCharge
		LocalOffset: 1800,-1000,1000

SCREXTRACTOR:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinDefenceFire
	Inherits@CLOAKEFFECT: ^WithTriggerCloakEffect-Defence
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@RENDER: ^ScrinRenderBuilding
	Valued:
		Cost: 1000
	Tooltip:
		Name: scrextractor-name
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		BuildPaletteOrder: 29
		Description: scrextractor-desc
		Prerequisites: ~drached, scrradr, ~techlevel.4
		BuildDuration: 500
		BuildDurationModifier: 100
	Building:
		Footprint: x
		Dimensions: 1,1
	Health:
		HP: 60000
	Power:
		Amount: -50
	ProximityExternalCondition@VanguardShield:
		Condition: VanguardShield
		Range: 8c0
		AffectsParent: false
		RequiresCondition: !disabled && !Building-Buildup && !empdisable
	WithRangeCircle:
		Range: 8c0
		Type: VanguardShield
		Color: 8A2BE2CC
		BorderWidth: 0
		Width: 2
	RequiresBuildableArea:
		AreaTypes: building
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@shieldpower:
		RequiresCondition: !disabled && !Building-Buildup && !empdisable
		Sequence: idle
		Image: shieldpower
		Palette: scrinenergystuffs
		Offset: 0, 0, 1800
		IsDecoration: true ## so this doesn't affect by cloak palette
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	MustBeDestroyed:
		RequiredForShortGame: false
	-GivesBuildableArea:
	-GrantConditionOnPrerequisite@INSTANTCAPTURE:
	-CaptureManager:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:

SCRSW1:
	Inherits: ^AffectPowerBuilding
	Inherits@1: ^ScrinDeathExplo
	Inherits@2: ^ScrinBuildingFire
	Inherits@3: ^SuperWeapon
	Inherits@4: ^HasSuperSupportPower
	Inherits@RENDER: ^ScrinRenderBuilding
	Inherits@SHAPE: ^3x2Shape
	Buildable:
		Queue: Defense.Shared, Defense.Scrin
		BuildPaletteOrder: 51
		Prerequisites: ~drached, scrtech, !enoughscrsw1, ~techlevel.6
		Description: scrsw1-desc
		BuildDuration: 1250
		BuildDurationModifier: 100
	Valued:
		Cost: 5000
	Tooltip:
		Name: scrsw1-name
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	NukePower:
		Cursor: emp
		Icons:
			1: meteor
		ChargeInterval: 6000
		Names:
			1: superweapon-meteor-name
		Descriptions:
			1: superweapon-meteor-desc
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		Prerequisites:
			1: scrsw1
		MissileWeapons:
			1: ScrinMeteorTracker
		CircleRanges:
			1: 6c0
		OrderName: MeteorSpawner
		FlightDelay: 29
		FlightVelocity: 1c0
		CameraRange: 8c0
		CameraSpawnAdvance: 0 ## need to be earlier than hit time
		CameraRemoveDelay: 350
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughscrsw1
	Health:
		HP: 200000
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 48
	ThrowsShrapnel@SMALL:
		Weapons: SmallDebrisScrin
	ThrowsShrapnel@LARGE:
		Weapons: LargeDebrisScrin
	WithSupportPowerActivationExplodeWeapon:
		Weapon: MeteorDragLazer
		LocalOffset: 120,140,3200
		HitOffset: -4500,3500,15000
	WithSupportPowerActivationExplodeWeapon@2:
		Weapon: MeteorDragLazer2
		LocalOffset: -4500,3500,15000
		HitOffset: 120,140,3200
		Delays: 9

CABEYE:
	Inherits: ^AffectPowerBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense.Shared, Defense.CABAL
		BuildPaletteOrder: 39
		Description: cabeye-desc
		Prerequisites: ~cabyard, cabradr, ~techlevel.4
		BuildDuration: 250
		BuildDurationModifier: 100
	Valued:
		Cost: 500
	Tooltip:
		Name: cabeye-name
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	WithSpriteBody:
		PauseOnCondition: empdisable || disabled
	Health:
		HP: 50000
	WithRangeCircle:
		Range: 12c0
		Type: cabeye
		Color: A52A2ACC
		BorderWidth: 0
		Width: 2
	CreatesShroud:
		Range: 11c0
		RequiresCondition: !disabled && !empdisable
	RevealsShroud@asd:
		Range: 18c0
		RequiresCondition: !disabled && !empdisable
	Power:
		Amount: -50
	Targetable:
		TargetTypes: Building, Ground, C4
	ProvidesPrerequisite@buildingname:
	RequiresBuildableArea:
		AreaTypes: building
	IsometricSelectable:
		DecorationHeight: 96
	MustBeDestroyed:
		RequiredForShortGame: false
	-GivesBuildableArea:

CABSW1:
	Inherits: ^Defence
	Inherits@1: ^SuperWeapon
	Inherits@4: ^WithTriggerCloakEffect-Building
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^3x3Shape
	Inherits@VISION: ^6CellVision
	Valued:
		Cost: 5000
	Tooltip:
		Name: cabsw1-name
	Buildable:
		Queue: Defense.Shared, Defense.CABAL
		Prerequisites: ~cabyard, cabtech, !enoughcabsw1, ~techlevel.6
		Description: cabsw1-desc
		BuildPaletteOrder: 49
		BuildDuration: 1250
		BuildDurationModifier: 100
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	BodyOrientation:
		QuantizedFacings: 32
	Armor:
		Type: Building
	Turreted:
		TurnSpeed: 8
		InitialFacing: 368
		RealignDelay: -1
	AttackTurreted:
	WithSpriteTurret:
		Recoils: false
		RequiresCondition: !Building-Buildup
	Armament@trueweapon:
		Weapon: IronSavior
		LocalOffset: 1300,0,2300
		CasingWeapon: IronSaviorMuzzle
		CasingSpawnLocalOffset: 1300,0,2300
		CasingTargetOffset: 1300,0,2300
		Name: superweapon
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughcabsw1
	FireArmamentPower:
		AllowMultiple: true
		Cursor: emp
		Icons:
			1: cabcannon
		TargetCircleRange: 6c0
		ChargeInterval: 7500
		Names:
			1: superweapon-ironsavior-name
		Descriptions:
			1: superweapon-ironsavior-desc
		EndChargeSound: SuperWeaponReady
		EndChargeSpeechNotification: SuperWeaponReady
		EndChargeTextNotification: notification-superweapon-ready
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: notification-select-target
		Prerequisites:
			1: cabsw1
		OrderName: IronSavior
		LaunchSpeechNotification: SuperweaponFired
		IncomingSpeechNotification: SuperweaponFired
		IncomingSound: SuperweaponFired
		LaunchTextNotification: notification-superweapon-launched
		IncomingTextNotification: notification-superweapon-launched
		LaunchSound: n_swlaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: empdisable || disabled
		CameraRange: 10c0
		CameraSpawnAdvance: 25
		CameraRemoveDelay: 350
	Health:
		HP: 200000
	RequiresBuildableArea:
		AreaTypes: building
	SpawnActorsOnSell@gdi:
		ValuePercent: 30
		ActorTypes: gdie1
		Factions: gdi
	SpawnActorsOnSell@nod:
		ValuePercent: 30
		ActorTypes: altnode1
		Factions: nod
	SpawnActorsOnSell@cab:
		ValuePercent: 30
		ActorTypes: worker
		Factions: cab
	SpawnActorsOnSell@mut:
		ValuePercent: 30
		ActorTypes: marauder
		Factions: mut
	SpawnActorsOnSell@scr:
		ValuePercent: 30
		ActorTypes: shark
		Factions: scr
	IsometricSelectable:
		DecorationHeight: 36
	ActorStatValues:
		Stats: Armor, Sight, Power

MUMINE:
	Inherits: ^NonBuildingStaticActor
	Tooltip:
		Name: mumine-name
	Health:
		HP: 5000
	GivesExperience:
		Experience: 10
	GivesExperienceToMasterOrTransport:
		Experience: 10
		ActorExperienceModifierOnTransport: 0
	HasParent:
	Targetable:
		TargetTypes: Ground, Mine
	BodyOrientation:
		QuantizedFacings: 1
	Cloak@cloakgenerator-self:
		InitialDelay: 1
		CloakDelay: 50
		UncloakOn: None
	WithMakeExplodeWeapon:
		Weapon: AnimateMinelayer-lay
		ExplodesEvenWhenSkipMakeAnimation: false
	Mine:
		CrushClasses: minetrigger
		DetonateClasses: minetrigger
		AvoidFriendly: true
		BlockFriendly: false
	ExplodesForMaster:
		Weapon: MineTrigger
	MapEditorData:
		Categories: Defence
	-UpdatesPlayerStatistics:
	-AppearsOnRadar:

BLACKDEFD:
	Inherits: ^Defence
	Inherits@4: ^WithTriggerCloakEffect-Building
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@COMMANDO: ^CommandoIcon
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@RENDER: ^CabRenderBuilding
	Inherits@SHAPE: ^2x3Shape
	Inherits@VISION: ^10CellVision
	Tooltip:
		Name: blackdefd-name
	Valued:
		Cost: 5000
	Health:
		HP: 300000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, 1536
	HitShape@2:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			LocalYaw: -128
			TopLeft: 512, 512
			BottomRight: 1536, 1536
	Buildable:
		Queue: Defense.Shared, Defense.CABAL
		Prerequisites: ~cabyard, cabobelisk, ~techlevel.6, !DarkDefenderExists
		Description: blackdefd-desc
		BuildPaletteOrder: 50
		BuildLimit: 1
		BuildDuration: 1500
		BuildDurationModifier: 100
	Building:
		Footprint: xx_ xx_ xxx
		Dimensions: 3,3
	Armor:
		Type: Building
	RevealsShroud:
		Type: Footprint
		MaxHeightDelta: 3
	WithMakeAnimation:
		Condition: Building-Buildup
	WithSpriteBody:
		PauseOnCondition: empdisable
	GrantConditionAfterDelay:
		Condition: CanDeploy
		PauseOnCondition: empdisable
		Delay: 750
	Transforms:
		RequiresCondition: CanDeploy
		IntoActor: bcoredef
		Offset: 1, 1
		Facing: 384
		TransformSounds: coreup1.aud
		NoTransformSounds:
	Targetable:
		TargetTypes: Building, Defence, Ground, C4
	RequiresBuildableArea:
		AreaTypes: building
	-Sellable:
	-IssueOrderToBot@AISell:
	IsometricSelectable:
		Class: blackdefd
		DecorationHeight: 36
	AttackOmni:
		PauseOnCondition: empdisable
	AutoTarget:
		ScanRadius: 19 #PREF: save trait looks up and scan armaments
	Armament@final:
		Weapon: BlackCDefArtillery
		LocalOffset: 0, -256, 2048
		ReloadingCondition: charging
		PauseOnCondition: Building-Buildup
	WithIdleOverlay@Charged:
		Image: hugegreenplasma
		Sequence: idle
		Offset: 0, -256, 2048
		RequiresCondition: !Building-Buildup && !charging && !empdisable
		Palette: apgreen
		IsDecoration: true ## so this doesn't affect by cloak palette
	WithIdleOverlay@Charging:
		Image: greenplasma2
		Sequence: idle
		Offset: 0, -256, 2048
		RequiresCondition: !Building-Buildup && charging && !empdisable
		Palette: jascgreen
		IsDecoration: true ## so this doesn't affect by cloak palette
	WithDecoration@CommandoIcon:
		Position: Top
	WithDecoration@rank-veteran:
		Position: Bottom
	WithDecoration@rank-elite:
		Position: Bottom
	WithDecoration@rank-heroic:
		Position: Bottom
	ProvidesPrerequisite@buildinglimit:
		Prerequisite: DarkDefenderExists
	Voiced:
		VoiceSet: CoreDefender
		Volume: 0.75
	VoiceAnnouncement:
		Voice: Build
	RenderSprites:
		Image: blackdefd
	### AI Control
	IssueOrderToBot@AI:
		OrderName: DeployTransform
		OrderTrigger: Periodically
		OrderInterval: 1035
	-Targetable@MC:
	-WithColoredOverlay@IDISABLE:
	-GrantConditionOnPowerState@LOWPOWER:
	-GrantCondition@IDISABLE:
	-ToggleConditionOnOrder:
	-WithDecoration@POWERDOWN:
	-PowerMultiplier@POWERDOWN:
	-MapEditorData:
	ActorStatValues:
		Stats: Armor, Sight, None, Damage, ReloadDelay, MaxRange
		Damage: 630

BLACKDEFD2:
	Inherits: BLACKDEFD
	-Buildable:
	-VoiceAnnouncement:
	MapEditorData:
		Categories: Defence
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: blackdefd
