World:
	ScriptLobbyDropdown@difficulty: 
		ID: difficulty
		Label: dropdown-difficulty.label
		Description: dropdown-difficulty.description
		Values:
			easy: options-difficulty.easy
			normal: options-difficulty.normal
			hard: options-difficulty.hard
		Default: easy
	LobbySystemActorConditionCheckbox@FREEMINIMAP:
		Enabled: false
	MissionData:
		Briefing: Control an Ion Turret to lay the brigands waste and try to survive. Protects our MCVs if possible! Destroy tunnels first!\n\n Game Duration: 5 minutes\n\n

Player:
	Shroud:
		FogCheckboxEnabled:  false
		ExploredMapCheckboxEnabled: true
	## AI
	SquadManagerBotModule@AIBase:
		AssignRolesTicks: 31 ## This map is small and unit is limited
		ProtectionTypes: mutambushvent, e3, deathclaw, lynx
		SquadSize: 5
		SquadSizeRandomBonus: 0
	SharedCargoBotModule:
		ScanTick: 217
		Passengers: e3, deathclaw, lynx
	-LoadCargoBotModule:
	-CncEngineerBotModule:
	-SendUnitToAttackBotModule:
	-BaseBuilderBotModule@AIBase:
	-McvManagerASBotModule@AINormal:
	## Game logic
	ExternalCondition@PreventTooManyTunnel:
		Condition: tunnel
	ExternalCondition@EasyGame:
		Condition: easy-game
	ProvidesPrerequisite@EasyGame:
		Prerequisite: EasyGame
		RequiresCondition: easy-game && tunnel < 3
	ExternalCondition@NormalGame:
		Condition: normal-game
	ProvidesPrerequisite@NormalGame:
		Prerequisite: NormalGame
		RequiresCondition: normal-game && tunnel < 4
	ExternalCondition@HardGame:
		Condition: hard-game
	ProvidesPrerequisite@HardGame:
		Prerequisite: HardGame
		RequiresCondition: hard-game && tunnel < 5

HVRTRUK3:
	AutoTarget:
		InitialStanceAI: HoldFire

^ProtesterBase:
	WithIdleOverlay@talk:
		Image: talkbubl
		Sequence: idle2
		IsDecoration: true
		Palette: player
	Tooltip:
		Name: Protester
	AttackWander:
		MinMoveDelay: 24
		MaxMoveDelay: 48

CIV1:
	Inherits@Protester: ^ProtesterBase

CIV2:
	Inherits@Protester: ^ProtesterBase

CIV3:
	Inherits@Protester: ^ProtesterBase

VEINHOLE:
	-AttackOmni:
	AttackFollow:
	ExternalCondition@talking:
		Condition: talking
	WithIdleAnimation@talking:
		Sequences: active1
		Interval: 11
		RequiresCondition: talking
	GrantPeriodicCondition@attack-pause:
		Condition: attack-pause
		CooldownDuration: 200, 400
		ActiveDuration: 200, 400
	Armament:
		PauseOnCondition: attack-pause || talking
	Armament@2:
		Weapon: HugeVeinholeEgg
		LocalOffset: 0, 0, 1200
		PauseOnCondition: attack-pause || talking

GEYE:
	AttackPopupTurreted:
		CloseDelay: 250
		DefaultFacing: 512
	Turreted:
		TurnSpeed: 64
		InitialFacing: 512
		RealignDelay: 10

MUTAMBUSH:
	GrantConditionOnPrerequisite@HardGame:
		Condition: hard-game
		Prerequisites: HardGame
	GrantConditionOnPrerequisite@NormalGame:
		Condition: normal-game
		Prerequisites: NormalGame
	GrantConditionOnPrerequisite@EasyGame:
		Condition: easy-game
		Prerequisites: EasyGame
	KillsSelf@EasyGame:
		Delay: 450, 1200
		RequiresCondition: easy-game
	KillsSelf@NormalGame:
		Delay: 350, 800
		RequiresCondition: normal-game || hard-game

MUTAMBUSHVENT:
	GrantExternalConditionToOwner@PreventTooManyTunnel:
		Condition: tunnel
	AutoTarget@AIonly:
		ScanRadius: 7 #PREF: save trait looks up and scan armaments
	SpawnActorOnDeath:
		Actor: mutambush
	## Production
	Production:
		Produces: mutvent
	GrantRandomCondition:
		Conditions: squad1, squad2, squad3
	PeriodicProducer@1:
		Actors: lynx
		Type: mutvent
		ChargeDuration: 10
		RequiresCondition: !Building-Buildup && squad1
	PeriodicProducer@2:
		Actors: e3
		Type: mutvent
		ChargeDuration: 10
		RequiresCondition: !Building-Buildup && squad2
	PeriodicProducer@3:
		Actors: deathclaw
		Type: mutvent
		ChargeDuration: 34
		RequiresCondition: !Building-Buildup && squad3
	Exit@1:
		SpawnOffset: 256,256,0
		ExitCell: 2,1
		ExitDelay: 0

GAIONTUR:
	-RepairableBuilding:
	-WithBuildingRepairDecoration:
	Health:
		HP: 400000
	TooltipDescription:
		Description: Select this defence and fire manually!
	ReloadDelayMultiplier@minigame:
		Modifier: 5
	RangeMultiplier@minigame:
		Modifier: 4000
	-RenderRangeCircle:
	-Power:

KODK:
	Inherits@Unkillable: ^Unkillable
	ExternalCondition@active-bacon:
		Condition: can-active
	ProvidesPrerequisite@active-bacon:
		Prerequisite: ActiveBeacon
		RequiresCondition: can-active

ORBIT.DUMMY:
	Inherits: ^GROUNDDUMMY
	SpawnSparks:
		SparkWeapon: OrbitBeaconExp
		Amount: 1
		Interval: 50
		RequiresCondition: active
	GrantConditionOnPrerequisite:
		Condition: active
		Prerequisites: ActiveBeacon
	Armament@AimKODK:
		Weapon: BeaconConnectionLine
	AttackOmni@AimKODK:

